var Sm=e=>{throw TypeError(e)};var zu=(e,t,r)=>t.has(e)||Sm("Cannot "+r);var S=(e,t,r)=>(zu(e,t,"read from private field"),r?r.call(e):t.get(e)),K=(e,t,r)=>t.has(e)?Sm("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),D=(e,t,r,n)=>(zu(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),re=(e,t,r)=>(zu(e,t,"access private method"),r);var ll=(e,t,r,n)=>({set _(s){D(e,t,s,r)},get _(){return S(e,t,n)}});function JN(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var a3=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ty(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Py={exports:{}},eu={},Ry={exports:{}},ue={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Va=Symbol.for("react.element"),XN=Symbol.for("react.portal"),ZN=Symbol.for("react.fragment"),eS=Symbol.for("react.strict_mode"),tS=Symbol.for("react.profiler"),rS=Symbol.for("react.provider"),nS=Symbol.for("react.context"),sS=Symbol.for("react.forward_ref"),iS=Symbol.for("react.suspense"),oS=Symbol.for("react.memo"),aS=Symbol.for("react.lazy"),km=Symbol.iterator;function lS(e){return e===null||typeof e!="object"?null:(e=km&&e[km]||e["@@iterator"],typeof e=="function"?e:null)}var Oy={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ay=Object.assign,Iy={};function io(e,t,r){this.props=e,this.context=t,this.refs=Iy,this.updater=r||Oy}io.prototype.isReactComponent={};io.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};io.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function My(){}My.prototype=io.prototype;function Oh(e,t,r){this.props=e,this.context=t,this.refs=Iy,this.updater=r||Oy}var Ah=Oh.prototype=new My;Ah.constructor=Oh;Ay(Ah,io.prototype);Ah.isPureReactComponent=!0;var _m=Array.isArray,Dy=Object.prototype.hasOwnProperty,Ih={current:null},Ly={key:!0,ref:!0,__self:!0,__source:!0};function $y(e,t,r){var n,s={},i=null,a=null;if(t!=null)for(n in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(i=""+t.key),t)Dy.call(t,n)&&!Ly.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:Va,type:e,key:i,ref:a,props:s,_owner:Ih.current}}function cS(e,t){return{$$typeof:Va,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Mh(e){return typeof e=="object"&&e!==null&&e.$$typeof===Va}function uS(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Em=/\/+/g;function Wu(e,t){return typeof e=="object"&&e!==null&&e.key!=null?uS(""+e.key):t.toString(36)}function Wl(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Va:case XN:a=!0}}if(a)return a=e,s=s(a),e=n===""?"."+Wu(a,0):n,_m(s)?(r="",e!=null&&(r=e.replace(Em,"$&/")+"/"),Wl(s,t,r,"",function(u){return u})):s!=null&&(Mh(s)&&(s=cS(s,r+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(Em,"$&/")+"/")+e)),t.push(s)),1;if(a=0,n=n===""?".":n+":",_m(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+Wu(i,l);a+=Wl(i,t,r,c,s)}else if(c=lS(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+Wu(i,l++),a+=Wl(i,t,r,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function cl(e,t,r){if(e==null)return e;var n=[],s=0;return Wl(e,n,"","",function(i){return t.call(r,i,s++)}),n}function dS(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var gt={current:null},Hl={transition:null},fS={ReactCurrentDispatcher:gt,ReactCurrentBatchConfig:Hl,ReactCurrentOwner:Ih};function Fy(){throw Error("act(...) is not supported in production builds of React.")}ue.Children={map:cl,forEach:function(e,t,r){cl(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return cl(e,function(){t++}),t},toArray:function(e){return cl(e,function(t){return t})||[]},only:function(e){if(!Mh(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ue.Component=io;ue.Fragment=ZN;ue.Profiler=tS;ue.PureComponent=Oh;ue.StrictMode=eS;ue.Suspense=iS;ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fS;ue.act=Fy;ue.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Ay({},e.props),s=e.key,i=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,a=Ih.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)Dy.call(t,c)&&!Ly.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Va,type:e.type,key:s,ref:i,props:n,_owner:a}};ue.createContext=function(e){return e={$$typeof:nS,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:rS,_context:e},e.Consumer=e};ue.createElement=$y;ue.createFactory=function(e){var t=$y.bind(null,e);return t.type=e,t};ue.createRef=function(){return{current:null}};ue.forwardRef=function(e){return{$$typeof:sS,render:e}};ue.isValidElement=Mh;ue.lazy=function(e){return{$$typeof:aS,_payload:{_status:-1,_result:e},_init:dS}};ue.memo=function(e,t){return{$$typeof:oS,type:e,compare:t===void 0?null:t}};ue.startTransition=function(e){var t=Hl.transition;Hl.transition={};try{e()}finally{Hl.transition=t}};ue.unstable_act=Fy;ue.useCallback=function(e,t){return gt.current.useCallback(e,t)};ue.useContext=function(e){return gt.current.useContext(e)};ue.useDebugValue=function(){};ue.useDeferredValue=function(e){return gt.current.useDeferredValue(e)};ue.useEffect=function(e,t){return gt.current.useEffect(e,t)};ue.useId=function(){return gt.current.useId()};ue.useImperativeHandle=function(e,t,r){return gt.current.useImperativeHandle(e,t,r)};ue.useInsertionEffect=function(e,t){return gt.current.useInsertionEffect(e,t)};ue.useLayoutEffect=function(e,t){return gt.current.useLayoutEffect(e,t)};ue.useMemo=function(e,t){return gt.current.useMemo(e,t)};ue.useReducer=function(e,t,r){return gt.current.useReducer(e,t,r)};ue.useRef=function(e){return gt.current.useRef(e)};ue.useState=function(e){return gt.current.useState(e)};ue.useSyncExternalStore=function(e,t,r){return gt.current.useSyncExternalStore(e,t,r)};ue.useTransition=function(){return gt.current.useTransition()};ue.version="18.3.1";Ry.exports=ue;var m=Ry.exports;const be=Ty(m),Uy=JN({__proto__:null,default:be},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hS=m,pS=Symbol.for("react.element"),mS=Symbol.for("react.fragment"),gS=Object.prototype.hasOwnProperty,vS=hS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,yS={key:!0,ref:!0,__self:!0,__source:!0};function By(e,t,r){var n,s={},i=null,a=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(n in t)gS.call(t,n)&&!yS.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:pS,type:e,key:i,ref:a,props:s,_owner:vS.current}}eu.Fragment=mS;eu.jsx=By;eu.jsxs=By;Py.exports=eu;var o=Py.exports,zy={exports:{}},Ft={},Wy={exports:{}},Hy={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(T,M){var z=T.length;T.push(M);e:for(;0<z;){var te=z-1>>>1,R=T[te];if(0<s(R,M))T[te]=M,T[z]=R,z=te;else break e}}function r(T){return T.length===0?null:T[0]}function n(T){if(T.length===0)return null;var M=T[0],z=T.pop();if(z!==M){T[0]=z;e:for(var te=0,R=T.length,V=R>>>1;te<V;){var Z=2*(te+1)-1,q=T[Z],oe=Z+1,U=T[oe];if(0>s(q,z))oe<R&&0>s(U,q)?(T[te]=U,T[oe]=z,te=oe):(T[te]=q,T[Z]=z,te=Z);else if(oe<R&&0>s(U,z))T[te]=U,T[oe]=z,te=oe;else break e}}return M}function s(T,M){var z=T.sortIndex-M.sortIndex;return z!==0?z:T.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,f=null,h=3,g=!1,v=!1,p=!1,b=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(T){for(var M=r(u);M!==null;){if(M.callback===null)n(u);else if(M.startTime<=T)n(u),M.sortIndex=M.expirationTime,t(c,M);else break;M=r(u)}}function j(T){if(p=!1,x(T),!v)if(r(c)!==null)v=!0,B(k);else{var M=r(u);M!==null&&J(j,M.startTime-T)}}function k(T,M){v=!1,p&&(p=!1,w(E),E=-1),g=!0;var z=h;try{for(x(M),f=r(c);f!==null&&(!(f.expirationTime>M)||T&&!$());){var te=f.callback;if(typeof te=="function"){f.callback=null,h=f.priorityLevel;var R=te(f.expirationTime<=M);M=e.unstable_now(),typeof R=="function"?f.callback=R:f===r(c)&&n(c),x(M)}else n(c);f=r(c)}if(f!==null)var V=!0;else{var Z=r(u);Z!==null&&J(j,Z.startTime-M),V=!1}return V}finally{f=null,h=z,g=!1}}var _=!1,N=null,E=-1,O=5,A=-1;function $(){return!(e.unstable_now()-A<O)}function L(){if(N!==null){var T=e.unstable_now();A=T;var M=!0;try{M=N(!0,T)}finally{M?P():(_=!1,N=null)}}else _=!1}var P;if(typeof y=="function")P=function(){y(L)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,F=C.port2;C.port1.onmessage=L,P=function(){F.postMessage(null)}}else P=function(){b(L,0)};function B(T){N=T,_||(_=!0,P())}function J(T,M){E=b(function(){T(e.unstable_now())},M)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(T){T.callback=null},e.unstable_continueExecution=function(){v||g||(v=!0,B(k))},e.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<T?Math.floor(1e3/T):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(T){switch(h){case 1:case 2:case 3:var M=3;break;default:M=h}var z=h;h=M;try{return T()}finally{h=z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(T,M){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var z=h;h=T;try{return M()}finally{h=z}},e.unstable_scheduleCallback=function(T,M,z){var te=e.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?te+z:te):z=te,T){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=z+R,T={id:d++,callback:M,priorityLevel:T,startTime:z,expirationTime:R,sortIndex:-1},z>te?(T.sortIndex=z,t(u,T),r(c)===null&&T===r(u)&&(p?(w(E),E=-1):p=!0,J(j,z-te))):(T.sortIndex=R,t(c,T),v||g||(v=!0,B(k))),T},e.unstable_shouldYield=$,e.unstable_wrapCallback=function(T){var M=h;return function(){var z=h;h=M;try{return T.apply(this,arguments)}finally{h=z}}}})(Hy);Wy.exports=Hy;var xS=Wy.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wS=m,$t=xS;function I(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Vy=new Set,oa={};function $s(e,t){Gi(e,t),Gi(e+"Capture",t)}function Gi(e,t){for(oa[e]=t,e=0;e<t.length;e++)Vy.add(t[e])}var qr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wd=Object.prototype.hasOwnProperty,bS=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Cm={},Tm={};function jS(e){return Wd.call(Tm,e)?!0:Wd.call(Cm,e)?!1:bS.test(e)?Tm[e]=!0:(Cm[e]=!0,!1)}function NS(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function SS(e,t,r,n){if(t===null||typeof t>"u"||NS(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function vt(e,t,r,n,s,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var tt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){tt[e]=new vt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];tt[t]=new vt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){tt[e]=new vt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){tt[e]=new vt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){tt[e]=new vt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){tt[e]=new vt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){tt[e]=new vt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){tt[e]=new vt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){tt[e]=new vt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Dh=/[\-:]([a-z])/g;function Lh(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Dh,Lh);tt[t]=new vt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Dh,Lh);tt[t]=new vt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Dh,Lh);tt[t]=new vt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){tt[e]=new vt(e,1,!1,e.toLowerCase(),null,!1,!1)});tt.xlinkHref=new vt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){tt[e]=new vt(e,1,!1,e.toLowerCase(),null,!0,!0)});function $h(e,t,r,n){var s=tt.hasOwnProperty(t)?tt[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(SS(t,r,s,n)&&(r=null),n||s===null?jS(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Xr=wS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ul=Symbol.for("react.element"),ii=Symbol.for("react.portal"),oi=Symbol.for("react.fragment"),Fh=Symbol.for("react.strict_mode"),Hd=Symbol.for("react.profiler"),qy=Symbol.for("react.provider"),Ky=Symbol.for("react.context"),Uh=Symbol.for("react.forward_ref"),Vd=Symbol.for("react.suspense"),qd=Symbol.for("react.suspense_list"),Bh=Symbol.for("react.memo"),un=Symbol.for("react.lazy"),Gy=Symbol.for("react.offscreen"),Pm=Symbol.iterator;function bo(e){return e===null||typeof e!="object"?null:(e=Pm&&e[Pm]||e["@@iterator"],typeof e=="function"?e:null)}var Oe=Object.assign,Hu;function Do(e){if(Hu===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Hu=t&&t[1]||""}return`
`+Hu+e}var Vu=!1;function qu(e,t){if(!e||Vu)return"";Vu=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),a=s.length-1,l=i.length-1;1<=a&&0<=l&&s[a]!==i[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==i[l]){if(a!==1||l!==1)do if(a--,l--,0>l||s[a]!==i[l]){var c=`
`+s[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=l);break}}}finally{Vu=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Do(e):""}function kS(e){switch(e.tag){case 5:return Do(e.type);case 16:return Do("Lazy");case 13:return Do("Suspense");case 19:return Do("SuspenseList");case 0:case 2:case 15:return e=qu(e.type,!1),e;case 11:return e=qu(e.type.render,!1),e;case 1:return e=qu(e.type,!0),e;default:return""}}function Kd(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case oi:return"Fragment";case ii:return"Portal";case Hd:return"Profiler";case Fh:return"StrictMode";case Vd:return"Suspense";case qd:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ky:return(e.displayName||"Context")+".Consumer";case qy:return(e._context.displayName||"Context")+".Provider";case Uh:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Bh:return t=e.displayName||null,t!==null?t:Kd(e.type)||"Memo";case un:t=e._payload,e=e._init;try{return Kd(e(t))}catch{}}return null}function _S(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Kd(t);case 8:return t===Fh?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Bn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Qy(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ES(e){var t=Qy(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){n=""+a,i.call(this,a)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function dl(e){e._valueTracker||(e._valueTracker=ES(e))}function Yy(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Qy(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function fc(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Gd(e,t){var r=t.checked;return Oe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Rm(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Bn(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Jy(e,t){t=t.checked,t!=null&&$h(e,"checked",t,!1)}function Qd(e,t){Jy(e,t);var r=Bn(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Yd(e,t.type,r):t.hasOwnProperty("defaultValue")&&Yd(e,t.type,Bn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Om(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Yd(e,t,r){(t!=="number"||fc(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Lo=Array.isArray;function xi(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Bn(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Jd(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(I(91));return Oe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Am(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(I(92));if(Lo(r)){if(1<r.length)throw Error(I(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Bn(r)}}function Xy(e,t){var r=Bn(t.value),n=Bn(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Im(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Zy(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Xd(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Zy(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var fl,ex=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(fl=fl||document.createElement("div"),fl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=fl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function aa(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Wo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},CS=["Webkit","ms","Moz","O"];Object.keys(Wo).forEach(function(e){CS.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Wo[t]=Wo[e]})});function tx(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Wo.hasOwnProperty(e)&&Wo[e]?(""+t).trim():t+"px"}function rx(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=tx(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var TS=Oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Zd(e,t){if(t){if(TS[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(I(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(I(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(I(61))}if(t.style!=null&&typeof t.style!="object")throw Error(I(62))}}function ef(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var tf=null;function zh(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var rf=null,wi=null,bi=null;function Mm(e){if(e=Ga(e)){if(typeof rf!="function")throw Error(I(280));var t=e.stateNode;t&&(t=iu(t),rf(e.stateNode,e.type,t))}}function nx(e){wi?bi?bi.push(e):bi=[e]:wi=e}function sx(){if(wi){var e=wi,t=bi;if(bi=wi=null,Mm(e),t)for(e=0;e<t.length;e++)Mm(t[e])}}function ix(e,t){return e(t)}function ox(){}var Ku=!1;function ax(e,t,r){if(Ku)return e(t,r);Ku=!0;try{return ix(e,t,r)}finally{Ku=!1,(wi!==null||bi!==null)&&(ox(),sx())}}function la(e,t){var r=e.stateNode;if(r===null)return null;var n=iu(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(I(231,t,typeof r));return r}var nf=!1;if(qr)try{var jo={};Object.defineProperty(jo,"passive",{get:function(){nf=!0}}),window.addEventListener("test",jo,jo),window.removeEventListener("test",jo,jo)}catch{nf=!1}function PS(e,t,r,n,s,i,a,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var Ho=!1,hc=null,pc=!1,sf=null,RS={onError:function(e){Ho=!0,hc=e}};function OS(e,t,r,n,s,i,a,l,c){Ho=!1,hc=null,PS.apply(RS,arguments)}function AS(e,t,r,n,s,i,a,l,c){if(OS.apply(this,arguments),Ho){if(Ho){var u=hc;Ho=!1,hc=null}else throw Error(I(198));pc||(pc=!0,sf=u)}}function Fs(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function lx(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Dm(e){if(Fs(e)!==e)throw Error(I(188))}function IS(e){var t=e.alternate;if(!t){if(t=Fs(e),t===null)throw Error(I(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Dm(s),e;if(i===n)return Dm(s),t;i=i.sibling}throw Error(I(188))}if(r.return!==n.return)r=s,n=i;else{for(var a=!1,l=s.child;l;){if(l===r){a=!0,r=s,n=i;break}if(l===n){a=!0,n=s,r=i;break}l=l.sibling}if(!a){for(l=i.child;l;){if(l===r){a=!0,r=i,n=s;break}if(l===n){a=!0,n=i,r=s;break}l=l.sibling}if(!a)throw Error(I(189))}}if(r.alternate!==n)throw Error(I(190))}if(r.tag!==3)throw Error(I(188));return r.stateNode.current===r?e:t}function cx(e){return e=IS(e),e!==null?ux(e):null}function ux(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=ux(e);if(t!==null)return t;e=e.sibling}return null}var dx=$t.unstable_scheduleCallback,Lm=$t.unstable_cancelCallback,MS=$t.unstable_shouldYield,DS=$t.unstable_requestPaint,Fe=$t.unstable_now,LS=$t.unstable_getCurrentPriorityLevel,Wh=$t.unstable_ImmediatePriority,fx=$t.unstable_UserBlockingPriority,mc=$t.unstable_NormalPriority,$S=$t.unstable_LowPriority,hx=$t.unstable_IdlePriority,tu=null,_r=null;function FS(e){if(_r&&typeof _r.onCommitFiberRoot=="function")try{_r.onCommitFiberRoot(tu,e,void 0,(e.current.flags&128)===128)}catch{}}var ur=Math.clz32?Math.clz32:zS,US=Math.log,BS=Math.LN2;function zS(e){return e>>>=0,e===0?32:31-(US(e)/BS|0)|0}var hl=64,pl=4194304;function $o(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function gc(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,a=r&268435455;if(a!==0){var l=a&~s;l!==0?n=$o(l):(i&=a,i!==0&&(n=$o(i)))}else a=r&~s,a!==0?n=$o(a):i!==0&&(n=$o(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-ur(t),s=1<<r,n|=e[r],t&=~s;return n}function WS(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function HS(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-ur(i),l=1<<a,c=s[a];c===-1?(!(l&r)||l&n)&&(s[a]=WS(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function of(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function px(){var e=hl;return hl<<=1,!(hl&4194240)&&(hl=64),e}function Gu(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function qa(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ur(t),e[t]=r}function VS(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-ur(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function Hh(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-ur(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var ve=0;function mx(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var gx,Vh,vx,yx,xx,af=!1,ml=[],Pn=null,Rn=null,On=null,ca=new Map,ua=new Map,hn=[],qS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function $m(e,t){switch(e){case"focusin":case"focusout":Pn=null;break;case"dragenter":case"dragleave":Rn=null;break;case"mouseover":case"mouseout":On=null;break;case"pointerover":case"pointerout":ca.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ua.delete(t.pointerId)}}function No(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Ga(t),t!==null&&Vh(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function KS(e,t,r,n,s){switch(t){case"focusin":return Pn=No(Pn,e,t,r,n,s),!0;case"dragenter":return Rn=No(Rn,e,t,r,n,s),!0;case"mouseover":return On=No(On,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return ca.set(i,No(ca.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,ua.set(i,No(ua.get(i)||null,e,t,r,n,s)),!0}return!1}function wx(e){var t=cs(e.target);if(t!==null){var r=Fs(t);if(r!==null){if(t=r.tag,t===13){if(t=lx(r),t!==null){e.blockedOn=t,xx(e.priority,function(){vx(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Vl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=lf(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);tf=n,r.target.dispatchEvent(n),tf=null}else return t=Ga(r),t!==null&&Vh(t),e.blockedOn=r,!1;t.shift()}return!0}function Fm(e,t,r){Vl(e)&&r.delete(t)}function GS(){af=!1,Pn!==null&&Vl(Pn)&&(Pn=null),Rn!==null&&Vl(Rn)&&(Rn=null),On!==null&&Vl(On)&&(On=null),ca.forEach(Fm),ua.forEach(Fm)}function So(e,t){e.blockedOn===t&&(e.blockedOn=null,af||(af=!0,$t.unstable_scheduleCallback($t.unstable_NormalPriority,GS)))}function da(e){function t(s){return So(s,e)}if(0<ml.length){So(ml[0],e);for(var r=1;r<ml.length;r++){var n=ml[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Pn!==null&&So(Pn,e),Rn!==null&&So(Rn,e),On!==null&&So(On,e),ca.forEach(t),ua.forEach(t),r=0;r<hn.length;r++)n=hn[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<hn.length&&(r=hn[0],r.blockedOn===null);)wx(r),r.blockedOn===null&&hn.shift()}var ji=Xr.ReactCurrentBatchConfig,vc=!0;function QS(e,t,r,n){var s=ve,i=ji.transition;ji.transition=null;try{ve=1,qh(e,t,r,n)}finally{ve=s,ji.transition=i}}function YS(e,t,r,n){var s=ve,i=ji.transition;ji.transition=null;try{ve=4,qh(e,t,r,n)}finally{ve=s,ji.transition=i}}function qh(e,t,r,n){if(vc){var s=lf(e,t,r,n);if(s===null)sd(e,t,n,yc,r),$m(e,n);else if(KS(s,e,t,r,n))n.stopPropagation();else if($m(e,n),t&4&&-1<qS.indexOf(e)){for(;s!==null;){var i=Ga(s);if(i!==null&&gx(i),i=lf(e,t,r,n),i===null&&sd(e,t,n,yc,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else sd(e,t,n,null,r)}}var yc=null;function lf(e,t,r,n){if(yc=null,e=zh(n),e=cs(e),e!==null)if(t=Fs(e),t===null)e=null;else if(r=t.tag,r===13){if(e=lx(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return yc=e,null}function bx(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(LS()){case Wh:return 1;case fx:return 4;case mc:case $S:return 16;case hx:return 536870912;default:return 16}default:return 16}}var _n=null,Kh=null,ql=null;function jx(){if(ql)return ql;var e,t=Kh,r=t.length,n,s="value"in _n?_n.value:_n.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var a=r-e;for(n=1;n<=a&&t[r-n]===s[i-n];n++);return ql=s.slice(e,1<n?1-n:void 0)}function Kl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function gl(){return!0}function Um(){return!1}function Ut(e){function t(r,n,s,i,a){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?gl:Um,this.isPropagationStopped=Um,this}return Oe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=gl)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=gl)},persist:function(){},isPersistent:gl}),t}var oo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gh=Ut(oo),Ka=Oe({},oo,{view:0,detail:0}),JS=Ut(Ka),Qu,Yu,ko,ru=Oe({},Ka,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qh,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ko&&(ko&&e.type==="mousemove"?(Qu=e.screenX-ko.screenX,Yu=e.screenY-ko.screenY):Yu=Qu=0,ko=e),Qu)},movementY:function(e){return"movementY"in e?e.movementY:Yu}}),Bm=Ut(ru),XS=Oe({},ru,{dataTransfer:0}),ZS=Ut(XS),ek=Oe({},Ka,{relatedTarget:0}),Ju=Ut(ek),tk=Oe({},oo,{animationName:0,elapsedTime:0,pseudoElement:0}),rk=Ut(tk),nk=Oe({},oo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),sk=Ut(nk),ik=Oe({},oo,{data:0}),zm=Ut(ik),ok={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ak={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ck(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=lk[e])?!!t[e]:!1}function Qh(){return ck}var uk=Oe({},Ka,{key:function(e){if(e.key){var t=ok[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Kl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ak[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qh,charCode:function(e){return e.type==="keypress"?Kl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Kl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),dk=Ut(uk),fk=Oe({},ru,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wm=Ut(fk),hk=Oe({},Ka,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qh}),pk=Ut(hk),mk=Oe({},oo,{propertyName:0,elapsedTime:0,pseudoElement:0}),gk=Ut(mk),vk=Oe({},ru,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),yk=Ut(vk),xk=[9,13,27,32],Yh=qr&&"CompositionEvent"in window,Vo=null;qr&&"documentMode"in document&&(Vo=document.documentMode);var wk=qr&&"TextEvent"in window&&!Vo,Nx=qr&&(!Yh||Vo&&8<Vo&&11>=Vo),Hm=" ",Vm=!1;function Sx(e,t){switch(e){case"keyup":return xk.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kx(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ai=!1;function bk(e,t){switch(e){case"compositionend":return kx(t);case"keypress":return t.which!==32?null:(Vm=!0,Hm);case"textInput":return e=t.data,e===Hm&&Vm?null:e;default:return null}}function jk(e,t){if(ai)return e==="compositionend"||!Yh&&Sx(e,t)?(e=jx(),ql=Kh=_n=null,ai=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Nx&&t.locale!=="ko"?null:t.data;default:return null}}var Nk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Nk[e.type]:t==="textarea"}function _x(e,t,r,n){nx(n),t=xc(t,"onChange"),0<t.length&&(r=new Gh("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var qo=null,fa=null;function Sk(e){Lx(e,0)}function nu(e){var t=ui(e);if(Yy(t))return e}function kk(e,t){if(e==="change")return t}var Ex=!1;if(qr){var Xu;if(qr){var Zu="oninput"in document;if(!Zu){var Km=document.createElement("div");Km.setAttribute("oninput","return;"),Zu=typeof Km.oninput=="function"}Xu=Zu}else Xu=!1;Ex=Xu&&(!document.documentMode||9<document.documentMode)}function Gm(){qo&&(qo.detachEvent("onpropertychange",Cx),fa=qo=null)}function Cx(e){if(e.propertyName==="value"&&nu(fa)){var t=[];_x(t,fa,e,zh(e)),ax(Sk,t)}}function _k(e,t,r){e==="focusin"?(Gm(),qo=t,fa=r,qo.attachEvent("onpropertychange",Cx)):e==="focusout"&&Gm()}function Ek(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return nu(fa)}function Ck(e,t){if(e==="click")return nu(t)}function Tk(e,t){if(e==="input"||e==="change")return nu(t)}function Pk(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var fr=typeof Object.is=="function"?Object.is:Pk;function ha(e,t){if(fr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Wd.call(t,s)||!fr(e[s],t[s]))return!1}return!0}function Qm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ym(e,t){var r=Qm(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Qm(r)}}function Tx(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Tx(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Px(){for(var e=window,t=fc();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=fc(e.document)}return t}function Jh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Rk(e){var t=Px(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Tx(r.ownerDocument.documentElement,r)){if(n!==null&&Jh(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=Ym(r,i);var a=Ym(r,n);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Ok=qr&&"documentMode"in document&&11>=document.documentMode,li=null,cf=null,Ko=null,uf=!1;function Jm(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;uf||li==null||li!==fc(n)||(n=li,"selectionStart"in n&&Jh(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Ko&&ha(Ko,n)||(Ko=n,n=xc(cf,"onSelect"),0<n.length&&(t=new Gh("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=li)))}function vl(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var ci={animationend:vl("Animation","AnimationEnd"),animationiteration:vl("Animation","AnimationIteration"),animationstart:vl("Animation","AnimationStart"),transitionend:vl("Transition","TransitionEnd")},ed={},Rx={};qr&&(Rx=document.createElement("div").style,"AnimationEvent"in window||(delete ci.animationend.animation,delete ci.animationiteration.animation,delete ci.animationstart.animation),"TransitionEvent"in window||delete ci.transitionend.transition);function su(e){if(ed[e])return ed[e];if(!ci[e])return e;var t=ci[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Rx)return ed[e]=t[r];return e}var Ox=su("animationend"),Ax=su("animationiteration"),Ix=su("animationstart"),Mx=su("transitionend"),Dx=new Map,Xm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Qn(e,t){Dx.set(e,t),$s(t,[e])}for(var td=0;td<Xm.length;td++){var rd=Xm[td],Ak=rd.toLowerCase(),Ik=rd[0].toUpperCase()+rd.slice(1);Qn(Ak,"on"+Ik)}Qn(Ox,"onAnimationEnd");Qn(Ax,"onAnimationIteration");Qn(Ix,"onAnimationStart");Qn("dblclick","onDoubleClick");Qn("focusin","onFocus");Qn("focusout","onBlur");Qn(Mx,"onTransitionEnd");Gi("onMouseEnter",["mouseout","mouseover"]);Gi("onMouseLeave",["mouseout","mouseover"]);Gi("onPointerEnter",["pointerout","pointerover"]);Gi("onPointerLeave",["pointerout","pointerover"]);$s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));$s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));$s("onBeforeInput",["compositionend","keypress","textInput","paste"]);$s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));$s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));$s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mk=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fo));function Zm(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,AS(n,t,void 0,e),e.currentTarget=null}function Lx(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var a=n.length-1;0<=a;a--){var l=n[a],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;Zm(s,l,u),i=c}else for(a=0;a<n.length;a++){if(l=n[a],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;Zm(s,l,u),i=c}}}if(pc)throw e=sf,pc=!1,sf=null,e}function ke(e,t){var r=t[mf];r===void 0&&(r=t[mf]=new Set);var n=e+"__bubble";r.has(n)||($x(t,e,2,!1),r.add(n))}function nd(e,t,r){var n=0;t&&(n|=4),$x(r,e,n,t)}var yl="_reactListening"+Math.random().toString(36).slice(2);function pa(e){if(!e[yl]){e[yl]=!0,Vy.forEach(function(r){r!=="selectionchange"&&(Mk.has(r)||nd(r,!1,e),nd(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[yl]||(t[yl]=!0,nd("selectionchange",!1,t))}}function $x(e,t,r,n){switch(bx(t)){case 1:var s=QS;break;case 4:s=YS;break;default:s=qh}r=s.bind(null,t,r,e),s=void 0,!nf||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function sd(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(a===4)for(a=n.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;l!==null;){if(a=cs(l),a===null)return;if(c=a.tag,c===5||c===6){n=i=a;continue e}l=l.parentNode}}n=n.return}ax(function(){var u=i,d=zh(r),f=[];e:{var h=Dx.get(e);if(h!==void 0){var g=Gh,v=e;switch(e){case"keypress":if(Kl(r)===0)break e;case"keydown":case"keyup":g=dk;break;case"focusin":v="focus",g=Ju;break;case"focusout":v="blur",g=Ju;break;case"beforeblur":case"afterblur":g=Ju;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Bm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=ZS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=pk;break;case Ox:case Ax:case Ix:g=rk;break;case Mx:g=gk;break;case"scroll":g=JS;break;case"wheel":g=yk;break;case"copy":case"cut":case"paste":g=sk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Wm}var p=(t&4)!==0,b=!p&&e==="scroll",w=p?h!==null?h+"Capture":null:h;p=[];for(var y=u,x;y!==null;){x=y;var j=x.stateNode;if(x.tag===5&&j!==null&&(x=j,w!==null&&(j=la(y,w),j!=null&&p.push(ma(y,j,x)))),b)break;y=y.return}0<p.length&&(h=new g(h,v,null,r,d),f.push({event:h,listeners:p}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",h&&r!==tf&&(v=r.relatedTarget||r.fromElement)&&(cs(v)||v[Kr]))break e;if((g||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,g?(v=r.relatedTarget||r.toElement,g=u,v=v?cs(v):null,v!==null&&(b=Fs(v),v!==b||v.tag!==5&&v.tag!==6)&&(v=null)):(g=null,v=u),g!==v)){if(p=Bm,j="onMouseLeave",w="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(p=Wm,j="onPointerLeave",w="onPointerEnter",y="pointer"),b=g==null?h:ui(g),x=v==null?h:ui(v),h=new p(j,y+"leave",g,r,d),h.target=b,h.relatedTarget=x,j=null,cs(d)===u&&(p=new p(w,y+"enter",v,r,d),p.target=x,p.relatedTarget=b,j=p),b=j,g&&v)t:{for(p=g,w=v,y=0,x=p;x;x=Ws(x))y++;for(x=0,j=w;j;j=Ws(j))x++;for(;0<y-x;)p=Ws(p),y--;for(;0<x-y;)w=Ws(w),x--;for(;y--;){if(p===w||w!==null&&p===w.alternate)break t;p=Ws(p),w=Ws(w)}p=null}else p=null;g!==null&&eg(f,h,g,p,!1),v!==null&&b!==null&&eg(f,b,v,p,!0)}}e:{if(h=u?ui(u):window,g=h.nodeName&&h.nodeName.toLowerCase(),g==="select"||g==="input"&&h.type==="file")var k=kk;else if(qm(h))if(Ex)k=Tk;else{k=Ek;var _=_k}else(g=h.nodeName)&&g.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(k=Ck);if(k&&(k=k(e,u))){_x(f,k,r,d);break e}_&&_(e,h,u),e==="focusout"&&(_=h._wrapperState)&&_.controlled&&h.type==="number"&&Yd(h,"number",h.value)}switch(_=u?ui(u):window,e){case"focusin":(qm(_)||_.contentEditable==="true")&&(li=_,cf=u,Ko=null);break;case"focusout":Ko=cf=li=null;break;case"mousedown":uf=!0;break;case"contextmenu":case"mouseup":case"dragend":uf=!1,Jm(f,r,d);break;case"selectionchange":if(Ok)break;case"keydown":case"keyup":Jm(f,r,d)}var N;if(Yh)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else ai?Sx(e,r)&&(E="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(E="onCompositionStart");E&&(Nx&&r.locale!=="ko"&&(ai||E!=="onCompositionStart"?E==="onCompositionEnd"&&ai&&(N=jx()):(_n=d,Kh="value"in _n?_n.value:_n.textContent,ai=!0)),_=xc(u,E),0<_.length&&(E=new zm(E,e,null,r,d),f.push({event:E,listeners:_}),N?E.data=N:(N=kx(r),N!==null&&(E.data=N)))),(N=wk?bk(e,r):jk(e,r))&&(u=xc(u,"onBeforeInput"),0<u.length&&(d=new zm("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=N))}Lx(f,t)})}function ma(e,t,r){return{instance:e,listener:t,currentTarget:r}}function xc(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=la(e,r),i!=null&&n.unshift(ma(e,i,s)),i=la(e,t),i!=null&&n.push(ma(e,i,s))),e=e.return}return n}function Ws(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function eg(e,t,r,n,s){for(var i=t._reactName,a=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=la(r,i),c!=null&&a.unshift(ma(r,c,l))):s||(c=la(r,i),c!=null&&a.push(ma(r,c,l)))),r=r.return}a.length!==0&&e.push({event:t,listeners:a})}var Dk=/\r\n?/g,Lk=/\u0000|\uFFFD/g;function tg(e){return(typeof e=="string"?e:""+e).replace(Dk,`
`).replace(Lk,"")}function xl(e,t,r){if(t=tg(t),tg(e)!==t&&r)throw Error(I(425))}function wc(){}var df=null,ff=null;function hf(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var pf=typeof setTimeout=="function"?setTimeout:void 0,$k=typeof clearTimeout=="function"?clearTimeout:void 0,rg=typeof Promise=="function"?Promise:void 0,Fk=typeof queueMicrotask=="function"?queueMicrotask:typeof rg<"u"?function(e){return rg.resolve(null).then(e).catch(Uk)}:pf;function Uk(e){setTimeout(function(){throw e})}function id(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),da(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);da(t)}function An(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function ng(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var ao=Math.random().toString(36).slice(2),Sr="__reactFiber$"+ao,ga="__reactProps$"+ao,Kr="__reactContainer$"+ao,mf="__reactEvents$"+ao,Bk="__reactListeners$"+ao,zk="__reactHandles$"+ao;function cs(e){var t=e[Sr];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Kr]||r[Sr]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=ng(e);e!==null;){if(r=e[Sr])return r;e=ng(e)}return t}e=r,r=e.parentNode}return null}function Ga(e){return e=e[Sr]||e[Kr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ui(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(I(33))}function iu(e){return e[ga]||null}var gf=[],di=-1;function Yn(e){return{current:e}}function _e(e){0>di||(e.current=gf[di],gf[di]=null,di--)}function Ne(e,t){di++,gf[di]=e.current,e.current=t}var zn={},ct=Yn(zn),Nt=Yn(!1),Ns=zn;function Qi(e,t){var r=e.type.contextTypes;if(!r)return zn;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function St(e){return e=e.childContextTypes,e!=null}function bc(){_e(Nt),_e(ct)}function sg(e,t,r){if(ct.current!==zn)throw Error(I(168));Ne(ct,t),Ne(Nt,r)}function Fx(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(I(108,_S(e)||"Unknown",s));return Oe({},r,n)}function jc(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||zn,Ns=ct.current,Ne(ct,e),Ne(Nt,Nt.current),!0}function ig(e,t,r){var n=e.stateNode;if(!n)throw Error(I(169));r?(e=Fx(e,t,Ns),n.__reactInternalMemoizedMergedChildContext=e,_e(Nt),_e(ct),Ne(ct,e)):_e(Nt),Ne(Nt,r)}var Fr=null,ou=!1,od=!1;function Ux(e){Fr===null?Fr=[e]:Fr.push(e)}function Wk(e){ou=!0,Ux(e)}function Jn(){if(!od&&Fr!==null){od=!0;var e=0,t=ve;try{var r=Fr;for(ve=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Fr=null,ou=!1}catch(s){throw Fr!==null&&(Fr=Fr.slice(e+1)),dx(Wh,Jn),s}finally{ve=t,od=!1}}return null}var fi=[],hi=0,Nc=null,Sc=0,qt=[],Kt=0,Ss=null,Br=1,zr="";function ns(e,t){fi[hi++]=Sc,fi[hi++]=Nc,Nc=e,Sc=t}function Bx(e,t,r){qt[Kt++]=Br,qt[Kt++]=zr,qt[Kt++]=Ss,Ss=e;var n=Br;e=zr;var s=32-ur(n)-1;n&=~(1<<s),r+=1;var i=32-ur(t)+s;if(30<i){var a=s-s%5;i=(n&(1<<a)-1).toString(32),n>>=a,s-=a,Br=1<<32-ur(t)+s|r<<s|n,zr=i+e}else Br=1<<i|r<<s|n,zr=e}function Xh(e){e.return!==null&&(ns(e,1),Bx(e,1,0))}function Zh(e){for(;e===Nc;)Nc=fi[--hi],fi[hi]=null,Sc=fi[--hi],fi[hi]=null;for(;e===Ss;)Ss=qt[--Kt],qt[Kt]=null,zr=qt[--Kt],qt[Kt]=null,Br=qt[--Kt],qt[Kt]=null}var Dt=null,Mt=null,Ee=!1,lr=null;function zx(e,t){var r=Gt(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function og(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Dt=e,Mt=An(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Dt=e,Mt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Ss!==null?{id:Br,overflow:zr}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Gt(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Dt=e,Mt=null,!0):!1;default:return!1}}function vf(e){return(e.mode&1)!==0&&(e.flags&128)===0}function yf(e){if(Ee){var t=Mt;if(t){var r=t;if(!og(e,t)){if(vf(e))throw Error(I(418));t=An(r.nextSibling);var n=Dt;t&&og(e,t)?zx(n,r):(e.flags=e.flags&-4097|2,Ee=!1,Dt=e)}}else{if(vf(e))throw Error(I(418));e.flags=e.flags&-4097|2,Ee=!1,Dt=e}}}function ag(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Dt=e}function wl(e){if(e!==Dt)return!1;if(!Ee)return ag(e),Ee=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!hf(e.type,e.memoizedProps)),t&&(t=Mt)){if(vf(e))throw Wx(),Error(I(418));for(;t;)zx(e,t),t=An(t.nextSibling)}if(ag(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(I(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Mt=An(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Mt=null}}else Mt=Dt?An(e.stateNode.nextSibling):null;return!0}function Wx(){for(var e=Mt;e;)e=An(e.nextSibling)}function Yi(){Mt=Dt=null,Ee=!1}function ep(e){lr===null?lr=[e]:lr.push(e)}var Hk=Xr.ReactCurrentBatchConfig;function _o(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(I(309));var n=r.stateNode}if(!n)throw Error(I(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var l=s.refs;a===null?delete l[i]:l[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error(I(284));if(!r._owner)throw Error(I(290,e))}return e}function bl(e,t){throw e=Object.prototype.toString.call(t),Error(I(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function lg(e){var t=e._init;return t(e._payload)}function Hx(e){function t(w,y){if(e){var x=w.deletions;x===null?(w.deletions=[y],w.flags|=16):x.push(y)}}function r(w,y){if(!e)return null;for(;y!==null;)t(w,y),y=y.sibling;return null}function n(w,y){for(w=new Map;y!==null;)y.key!==null?w.set(y.key,y):w.set(y.index,y),y=y.sibling;return w}function s(w,y){return w=Ln(w,y),w.index=0,w.sibling=null,w}function i(w,y,x){return w.index=x,e?(x=w.alternate,x!==null?(x=x.index,x<y?(w.flags|=2,y):x):(w.flags|=2,y)):(w.flags|=1048576,y)}function a(w){return e&&w.alternate===null&&(w.flags|=2),w}function l(w,y,x,j){return y===null||y.tag!==6?(y=hd(x,w.mode,j),y.return=w,y):(y=s(y,x),y.return=w,y)}function c(w,y,x,j){var k=x.type;return k===oi?d(w,y,x.props.children,j,x.key):y!==null&&(y.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===un&&lg(k)===y.type)?(j=s(y,x.props),j.ref=_o(w,y,x),j.return=w,j):(j=ec(x.type,x.key,x.props,null,w.mode,j),j.ref=_o(w,y,x),j.return=w,j)}function u(w,y,x,j){return y===null||y.tag!==4||y.stateNode.containerInfo!==x.containerInfo||y.stateNode.implementation!==x.implementation?(y=pd(x,w.mode,j),y.return=w,y):(y=s(y,x.children||[]),y.return=w,y)}function d(w,y,x,j,k){return y===null||y.tag!==7?(y=js(x,w.mode,j,k),y.return=w,y):(y=s(y,x),y.return=w,y)}function f(w,y,x){if(typeof y=="string"&&y!==""||typeof y=="number")return y=hd(""+y,w.mode,x),y.return=w,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case ul:return x=ec(y.type,y.key,y.props,null,w.mode,x),x.ref=_o(w,null,y),x.return=w,x;case ii:return y=pd(y,w.mode,x),y.return=w,y;case un:var j=y._init;return f(w,j(y._payload),x)}if(Lo(y)||bo(y))return y=js(y,w.mode,x,null),y.return=w,y;bl(w,y)}return null}function h(w,y,x,j){var k=y!==null?y.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return k!==null?null:l(w,y,""+x,j);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case ul:return x.key===k?c(w,y,x,j):null;case ii:return x.key===k?u(w,y,x,j):null;case un:return k=x._init,h(w,y,k(x._payload),j)}if(Lo(x)||bo(x))return k!==null?null:d(w,y,x,j,null);bl(w,x)}return null}function g(w,y,x,j,k){if(typeof j=="string"&&j!==""||typeof j=="number")return w=w.get(x)||null,l(y,w,""+j,k);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case ul:return w=w.get(j.key===null?x:j.key)||null,c(y,w,j,k);case ii:return w=w.get(j.key===null?x:j.key)||null,u(y,w,j,k);case un:var _=j._init;return g(w,y,x,_(j._payload),k)}if(Lo(j)||bo(j))return w=w.get(x)||null,d(y,w,j,k,null);bl(y,j)}return null}function v(w,y,x,j){for(var k=null,_=null,N=y,E=y=0,O=null;N!==null&&E<x.length;E++){N.index>E?(O=N,N=null):O=N.sibling;var A=h(w,N,x[E],j);if(A===null){N===null&&(N=O);break}e&&N&&A.alternate===null&&t(w,N),y=i(A,y,E),_===null?k=A:_.sibling=A,_=A,N=O}if(E===x.length)return r(w,N),Ee&&ns(w,E),k;if(N===null){for(;E<x.length;E++)N=f(w,x[E],j),N!==null&&(y=i(N,y,E),_===null?k=N:_.sibling=N,_=N);return Ee&&ns(w,E),k}for(N=n(w,N);E<x.length;E++)O=g(N,w,E,x[E],j),O!==null&&(e&&O.alternate!==null&&N.delete(O.key===null?E:O.key),y=i(O,y,E),_===null?k=O:_.sibling=O,_=O);return e&&N.forEach(function($){return t(w,$)}),Ee&&ns(w,E),k}function p(w,y,x,j){var k=bo(x);if(typeof k!="function")throw Error(I(150));if(x=k.call(x),x==null)throw Error(I(151));for(var _=k=null,N=y,E=y=0,O=null,A=x.next();N!==null&&!A.done;E++,A=x.next()){N.index>E?(O=N,N=null):O=N.sibling;var $=h(w,N,A.value,j);if($===null){N===null&&(N=O);break}e&&N&&$.alternate===null&&t(w,N),y=i($,y,E),_===null?k=$:_.sibling=$,_=$,N=O}if(A.done)return r(w,N),Ee&&ns(w,E),k;if(N===null){for(;!A.done;E++,A=x.next())A=f(w,A.value,j),A!==null&&(y=i(A,y,E),_===null?k=A:_.sibling=A,_=A);return Ee&&ns(w,E),k}for(N=n(w,N);!A.done;E++,A=x.next())A=g(N,w,E,A.value,j),A!==null&&(e&&A.alternate!==null&&N.delete(A.key===null?E:A.key),y=i(A,y,E),_===null?k=A:_.sibling=A,_=A);return e&&N.forEach(function(L){return t(w,L)}),Ee&&ns(w,E),k}function b(w,y,x,j){if(typeof x=="object"&&x!==null&&x.type===oi&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case ul:e:{for(var k=x.key,_=y;_!==null;){if(_.key===k){if(k=x.type,k===oi){if(_.tag===7){r(w,_.sibling),y=s(_,x.props.children),y.return=w,w=y;break e}}else if(_.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===un&&lg(k)===_.type){r(w,_.sibling),y=s(_,x.props),y.ref=_o(w,_,x),y.return=w,w=y;break e}r(w,_);break}else t(w,_);_=_.sibling}x.type===oi?(y=js(x.props.children,w.mode,j,x.key),y.return=w,w=y):(j=ec(x.type,x.key,x.props,null,w.mode,j),j.ref=_o(w,y,x),j.return=w,w=j)}return a(w);case ii:e:{for(_=x.key;y!==null;){if(y.key===_)if(y.tag===4&&y.stateNode.containerInfo===x.containerInfo&&y.stateNode.implementation===x.implementation){r(w,y.sibling),y=s(y,x.children||[]),y.return=w,w=y;break e}else{r(w,y);break}else t(w,y);y=y.sibling}y=pd(x,w.mode,j),y.return=w,w=y}return a(w);case un:return _=x._init,b(w,y,_(x._payload),j)}if(Lo(x))return v(w,y,x,j);if(bo(x))return p(w,y,x,j);bl(w,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,y!==null&&y.tag===6?(r(w,y.sibling),y=s(y,x),y.return=w,w=y):(r(w,y),y=hd(x,w.mode,j),y.return=w,w=y),a(w)):r(w,y)}return b}var Ji=Hx(!0),Vx=Hx(!1),kc=Yn(null),_c=null,pi=null,tp=null;function rp(){tp=pi=_c=null}function np(e){var t=kc.current;_e(kc),e._currentValue=t}function xf(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Ni(e,t){_c=e,tp=pi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(bt=!0),e.firstContext=null)}function Jt(e){var t=e._currentValue;if(tp!==e)if(e={context:e,memoizedValue:t,next:null},pi===null){if(_c===null)throw Error(I(308));pi=e,_c.dependencies={lanes:0,firstContext:e}}else pi=pi.next=e;return t}var us=null;function sp(e){us===null?us=[e]:us.push(e)}function qx(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,sp(t)):(r.next=s.next,s.next=r),t.interleaved=r,Gr(e,n)}function Gr(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var dn=!1;function ip(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Kx(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Hr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function In(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,fe&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Gr(e,r)}return s=n.interleaved,s===null?(t.next=t,sp(n)):(t.next=s.next,s.next=t),n.interleaved=t,Gr(e,r)}function Gl(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Hh(e,r)}}function cg(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=a:i=i.next=a,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Ec(e,t,r,n){var s=e.updateQueue;dn=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,a===null?i=u:a.next=u,a=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=s.baseState;a=0,d=u=c=null,l=i;do{var h=l.lane,g=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=e,p=l;switch(h=t,g=r,p.tag){case 1:if(v=p.payload,typeof v=="function"){f=v.call(g,f,h);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=p.payload,h=typeof v=="function"?v.call(g,f,h):v,h==null)break e;f=Oe({},f,h);break e;case 2:dn=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[l]:h.push(l))}else g={eventTime:g,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=g,c=f):d=d.next=g,a|=h;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;h=l,l=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);_s|=a,e.lanes=a,e.memoizedState=f}}function ug(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(I(191,s));s.call(n)}}}var Qa={},Er=Yn(Qa),va=Yn(Qa),ya=Yn(Qa);function ds(e){if(e===Qa)throw Error(I(174));return e}function op(e,t){switch(Ne(ya,t),Ne(va,e),Ne(Er,Qa),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Xd(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Xd(t,e)}_e(Er),Ne(Er,t)}function Xi(){_e(Er),_e(va),_e(ya)}function Gx(e){ds(ya.current);var t=ds(Er.current),r=Xd(t,e.type);t!==r&&(Ne(va,e),Ne(Er,r))}function ap(e){va.current===e&&(_e(Er),_e(va))}var Pe=Yn(0);function Cc(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ad=[];function lp(){for(var e=0;e<ad.length;e++)ad[e]._workInProgressVersionPrimary=null;ad.length=0}var Ql=Xr.ReactCurrentDispatcher,ld=Xr.ReactCurrentBatchConfig,ks=0,Re=null,He=null,Ke=null,Tc=!1,Go=!1,xa=0,Vk=0;function st(){throw Error(I(321))}function cp(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!fr(e[r],t[r]))return!1;return!0}function up(e,t,r,n,s,i){if(ks=i,Re=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ql.current=e===null||e.memoizedState===null?Qk:Yk,e=r(n,s),Go){i=0;do{if(Go=!1,xa=0,25<=i)throw Error(I(301));i+=1,Ke=He=null,t.updateQueue=null,Ql.current=Jk,e=r(n,s)}while(Go)}if(Ql.current=Pc,t=He!==null&&He.next!==null,ks=0,Ke=He=Re=null,Tc=!1,t)throw Error(I(300));return e}function dp(){var e=xa!==0;return xa=0,e}function xr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ke===null?Re.memoizedState=Ke=e:Ke=Ke.next=e,Ke}function Xt(){if(He===null){var e=Re.alternate;e=e!==null?e.memoizedState:null}else e=He.next;var t=Ke===null?Re.memoizedState:Ke.next;if(t!==null)Ke=t,He=e;else{if(e===null)throw Error(I(310));He=e,e={memoizedState:He.memoizedState,baseState:He.baseState,baseQueue:He.baseQueue,queue:He.queue,next:null},Ke===null?Re.memoizedState=Ke=e:Ke=Ke.next=e}return Ke}function wa(e,t){return typeof t=="function"?t(e):t}function cd(e){var t=Xt(),r=t.queue;if(r===null)throw Error(I(311));r.lastRenderedReducer=e;var n=He,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var l=a=null,c=null,u=i;do{var d=u.lane;if((ks&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,a=n):c=c.next=f,Re.lanes|=d,_s|=d}u=u.next}while(u!==null&&u!==i);c===null?a=n:c.next=l,fr(n,t.memoizedState)||(bt=!0),t.memoizedState=n,t.baseState=a,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,Re.lanes|=i,_s|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function ud(e){var t=Xt(),r=t.queue;if(r===null)throw Error(I(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var a=s=s.next;do i=e(i,a.action),a=a.next;while(a!==s);fr(i,t.memoizedState)||(bt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function Qx(){}function Yx(e,t){var r=Re,n=Xt(),s=t(),i=!fr(n.memoizedState,s);if(i&&(n.memoizedState=s,bt=!0),n=n.queue,fp(Zx.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||Ke!==null&&Ke.memoizedState.tag&1){if(r.flags|=2048,ba(9,Xx.bind(null,r,n,s,t),void 0,null),Qe===null)throw Error(I(349));ks&30||Jx(r,t,s)}return s}function Jx(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Re.updateQueue,t===null?(t={lastEffect:null,stores:null},Re.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Xx(e,t,r,n){t.value=r,t.getSnapshot=n,ew(t)&&tw(e)}function Zx(e,t,r){return r(function(){ew(t)&&tw(e)})}function ew(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!fr(e,r)}catch{return!0}}function tw(e){var t=Gr(e,1);t!==null&&dr(t,e,1,-1)}function dg(e){var t=xr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wa,lastRenderedState:e},t.queue=e,e=e.dispatch=Gk.bind(null,Re,e),[t.memoizedState,e]}function ba(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Re.updateQueue,t===null?(t={lastEffect:null,stores:null},Re.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function rw(){return Xt().memoizedState}function Yl(e,t,r,n){var s=xr();Re.flags|=e,s.memoizedState=ba(1|t,r,void 0,n===void 0?null:n)}function au(e,t,r,n){var s=Xt();n=n===void 0?null:n;var i=void 0;if(He!==null){var a=He.memoizedState;if(i=a.destroy,n!==null&&cp(n,a.deps)){s.memoizedState=ba(t,r,i,n);return}}Re.flags|=e,s.memoizedState=ba(1|t,r,i,n)}function fg(e,t){return Yl(8390656,8,e,t)}function fp(e,t){return au(2048,8,e,t)}function nw(e,t){return au(4,2,e,t)}function sw(e,t){return au(4,4,e,t)}function iw(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ow(e,t,r){return r=r!=null?r.concat([e]):null,au(4,4,iw.bind(null,t,e),r)}function hp(){}function aw(e,t){var r=Xt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&cp(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function lw(e,t){var r=Xt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&cp(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function cw(e,t,r){return ks&21?(fr(r,t)||(r=px(),Re.lanes|=r,_s|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,bt=!0),e.memoizedState=r)}function qk(e,t){var r=ve;ve=r!==0&&4>r?r:4,e(!0);var n=ld.transition;ld.transition={};try{e(!1),t()}finally{ve=r,ld.transition=n}}function uw(){return Xt().memoizedState}function Kk(e,t,r){var n=Dn(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},dw(e))fw(t,r);else if(r=qx(e,t,r,n),r!==null){var s=ht();dr(r,e,n,s),hw(r,t,n)}}function Gk(e,t,r){var n=Dn(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(dw(e))fw(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var a=t.lastRenderedState,l=i(a,r);if(s.hasEagerState=!0,s.eagerState=l,fr(l,a)){var c=t.interleaved;c===null?(s.next=s,sp(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=qx(e,t,s,n),r!==null&&(s=ht(),dr(r,e,n,s),hw(r,t,n))}}function dw(e){var t=e.alternate;return e===Re||t!==null&&t===Re}function fw(e,t){Go=Tc=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function hw(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Hh(e,r)}}var Pc={readContext:Jt,useCallback:st,useContext:st,useEffect:st,useImperativeHandle:st,useInsertionEffect:st,useLayoutEffect:st,useMemo:st,useReducer:st,useRef:st,useState:st,useDebugValue:st,useDeferredValue:st,useTransition:st,useMutableSource:st,useSyncExternalStore:st,useId:st,unstable_isNewReconciler:!1},Qk={readContext:Jt,useCallback:function(e,t){return xr().memoizedState=[e,t===void 0?null:t],e},useContext:Jt,useEffect:fg,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Yl(4194308,4,iw.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Yl(4194308,4,e,t)},useInsertionEffect:function(e,t){return Yl(4,2,e,t)},useMemo:function(e,t){var r=xr();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=xr();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Kk.bind(null,Re,e),[n.memoizedState,e]},useRef:function(e){var t=xr();return e={current:e},t.memoizedState=e},useState:dg,useDebugValue:hp,useDeferredValue:function(e){return xr().memoizedState=e},useTransition:function(){var e=dg(!1),t=e[0];return e=qk.bind(null,e[1]),xr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Re,s=xr();if(Ee){if(r===void 0)throw Error(I(407));r=r()}else{if(r=t(),Qe===null)throw Error(I(349));ks&30||Jx(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,fg(Zx.bind(null,n,i,e),[e]),n.flags|=2048,ba(9,Xx.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=xr(),t=Qe.identifierPrefix;if(Ee){var r=zr,n=Br;r=(n&~(1<<32-ur(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=xa++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Vk++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Yk={readContext:Jt,useCallback:aw,useContext:Jt,useEffect:fp,useImperativeHandle:ow,useInsertionEffect:nw,useLayoutEffect:sw,useMemo:lw,useReducer:cd,useRef:rw,useState:function(){return cd(wa)},useDebugValue:hp,useDeferredValue:function(e){var t=Xt();return cw(t,He.memoizedState,e)},useTransition:function(){var e=cd(wa)[0],t=Xt().memoizedState;return[e,t]},useMutableSource:Qx,useSyncExternalStore:Yx,useId:uw,unstable_isNewReconciler:!1},Jk={readContext:Jt,useCallback:aw,useContext:Jt,useEffect:fp,useImperativeHandle:ow,useInsertionEffect:nw,useLayoutEffect:sw,useMemo:lw,useReducer:ud,useRef:rw,useState:function(){return ud(wa)},useDebugValue:hp,useDeferredValue:function(e){var t=Xt();return He===null?t.memoizedState=e:cw(t,He.memoizedState,e)},useTransition:function(){var e=ud(wa)[0],t=Xt().memoizedState;return[e,t]},useMutableSource:Qx,useSyncExternalStore:Yx,useId:uw,unstable_isNewReconciler:!1};function nr(e,t){if(e&&e.defaultProps){t=Oe({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function wf(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Oe({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var lu={isMounted:function(e){return(e=e._reactInternals)?Fs(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=ht(),s=Dn(e),i=Hr(n,s);i.payload=t,r!=null&&(i.callback=r),t=In(e,i,s),t!==null&&(dr(t,e,s,n),Gl(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=ht(),s=Dn(e),i=Hr(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=In(e,i,s),t!==null&&(dr(t,e,s,n),Gl(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=ht(),n=Dn(e),s=Hr(r,n);s.tag=2,t!=null&&(s.callback=t),t=In(e,s,n),t!==null&&(dr(t,e,n,r),Gl(t,e,n))}};function hg(e,t,r,n,s,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,a):t.prototype&&t.prototype.isPureReactComponent?!ha(r,n)||!ha(s,i):!0}function pw(e,t,r){var n=!1,s=zn,i=t.contextType;return typeof i=="object"&&i!==null?i=Jt(i):(s=St(t)?Ns:ct.current,n=t.contextTypes,i=(n=n!=null)?Qi(e,s):zn),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=lu,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function pg(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&lu.enqueueReplaceState(t,t.state,null)}function bf(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},ip(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Jt(i):(i=St(t)?Ns:ct.current,s.context=Qi(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(wf(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&lu.enqueueReplaceState(s,s.state,null),Ec(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Zi(e,t){try{var r="",n=t;do r+=kS(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function dd(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function jf(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Xk=typeof WeakMap=="function"?WeakMap:Map;function mw(e,t,r){r=Hr(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Oc||(Oc=!0,Of=n),jf(e,t)},r}function gw(e,t,r){r=Hr(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){jf(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){jf(e,t),typeof n!="function"&&(Mn===null?Mn=new Set([this]):Mn.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),r}function mg(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new Xk;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=f_.bind(null,e,t,r),t.then(e,e))}function gg(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function vg(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Hr(-1,1),t.tag=2,In(r,t,1))),r.lanes|=1),e)}var Zk=Xr.ReactCurrentOwner,bt=!1;function ft(e,t,r,n){t.child=e===null?Vx(t,null,r,n):Ji(t,e.child,r,n)}function yg(e,t,r,n,s){r=r.render;var i=t.ref;return Ni(t,s),n=up(e,t,r,n,i,s),r=dp(),e!==null&&!bt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Qr(e,t,s)):(Ee&&r&&Xh(t),t.flags|=1,ft(e,t,n,s),t.child)}function xg(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!bp(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,vw(e,t,i,n,s)):(e=ec(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var a=i.memoizedProps;if(r=r.compare,r=r!==null?r:ha,r(a,n)&&e.ref===t.ref)return Qr(e,t,s)}return t.flags|=1,e=Ln(i,n),e.ref=t.ref,e.return=t,t.child=e}function vw(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(ha(i,n)&&e.ref===t.ref)if(bt=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(bt=!0);else return t.lanes=e.lanes,Qr(e,t,s)}return Nf(e,t,r,n,s)}function yw(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ne(gi,Ot),Ot|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ne(gi,Ot),Ot|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Ne(gi,Ot),Ot|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,Ne(gi,Ot),Ot|=n;return ft(e,t,s,r),t.child}function xw(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Nf(e,t,r,n,s){var i=St(r)?Ns:ct.current;return i=Qi(t,i),Ni(t,s),r=up(e,t,r,n,i,s),n=dp(),e!==null&&!bt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Qr(e,t,s)):(Ee&&n&&Xh(t),t.flags|=1,ft(e,t,r,s),t.child)}function wg(e,t,r,n,s){if(St(r)){var i=!0;jc(t)}else i=!1;if(Ni(t,s),t.stateNode===null)Jl(e,t),pw(t,r,n),bf(t,r,n,s),n=!0;else if(e===null){var a=t.stateNode,l=t.memoizedProps;a.props=l;var c=a.context,u=r.contextType;typeof u=="object"&&u!==null?u=Jt(u):(u=St(r)?Ns:ct.current,u=Qi(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==n||c!==u)&&pg(t,a,n,u),dn=!1;var h=t.memoizedState;a.state=h,Ec(t,n,a,s),c=t.memoizedState,l!==n||h!==c||Nt.current||dn?(typeof d=="function"&&(wf(t,r,d,n),c=t.memoizedState),(l=dn||hg(t,r,l,n,h,c,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),a.props=n,a.state=c,a.context=u,n=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{a=t.stateNode,Kx(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:nr(t.type,l),a.props=u,f=t.pendingProps,h=a.context,c=r.contextType,typeof c=="object"&&c!==null?c=Jt(c):(c=St(r)?Ns:ct.current,c=Qi(t,c));var g=r.getDerivedStateFromProps;(d=typeof g=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==f||h!==c)&&pg(t,a,n,c),dn=!1,h=t.memoizedState,a.state=h,Ec(t,n,a,s);var v=t.memoizedState;l!==f||h!==v||Nt.current||dn?(typeof g=="function"&&(wf(t,r,g,n),v=t.memoizedState),(u=dn||hg(t,r,u,n,h,v,c)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,v,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,v,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=v),a.props=n,a.state=v,a.context=c,n=u):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return Sf(e,t,r,n,i,s)}function Sf(e,t,r,n,s,i){xw(e,t);var a=(t.flags&128)!==0;if(!n&&!a)return s&&ig(t,r,!1),Qr(e,t,i);n=t.stateNode,Zk.current=t;var l=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&a?(t.child=Ji(t,e.child,null,i),t.child=Ji(t,null,l,i)):ft(e,t,l,i),t.memoizedState=n.state,s&&ig(t,r,!0),t.child}function ww(e){var t=e.stateNode;t.pendingContext?sg(e,t.pendingContext,t.pendingContext!==t.context):t.context&&sg(e,t.context,!1),op(e,t.containerInfo)}function bg(e,t,r,n,s){return Yi(),ep(s),t.flags|=256,ft(e,t,r,n),t.child}var kf={dehydrated:null,treeContext:null,retryLane:0};function _f(e){return{baseLanes:e,cachePool:null,transitions:null}}function bw(e,t,r){var n=t.pendingProps,s=Pe.current,i=!1,a=(t.flags&128)!==0,l;if((l=a)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Ne(Pe,s&1),e===null)return yf(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=n.children,e=n.fallback,i?(n=t.mode,i=t.child,a={mode:"hidden",children:a},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=du(a,n,0,null),e=js(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=_f(r),t.memoizedState=kf,e):pp(t,a));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return e_(e,t,a,n,l,s,r);if(i){i=n.fallback,a=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(a&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Ln(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Ln(l,i):(i=js(i,a,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,a=e.child.memoizedState,a=a===null?_f(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=e.childLanes&~r,t.memoizedState=kf,n}return i=e.child,e=i.sibling,n=Ln(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function pp(e,t){return t=du({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function jl(e,t,r,n){return n!==null&&ep(n),Ji(t,e.child,null,r),e=pp(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function e_(e,t,r,n,s,i,a){if(r)return t.flags&256?(t.flags&=-257,n=dd(Error(I(422))),jl(e,t,a,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=du({mode:"visible",children:n.children},s,0,null),i=js(i,s,a,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&Ji(t,e.child,null,a),t.child.memoizedState=_f(a),t.memoizedState=kf,i);if(!(t.mode&1))return jl(e,t,a,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(I(419)),n=dd(i,n,void 0),jl(e,t,a,n)}if(l=(a&e.childLanes)!==0,bt||l){if(n=Qe,n!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Gr(e,s),dr(n,e,s,-1))}return wp(),n=dd(Error(I(421))),jl(e,t,a,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=h_.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Mt=An(s.nextSibling),Dt=t,Ee=!0,lr=null,e!==null&&(qt[Kt++]=Br,qt[Kt++]=zr,qt[Kt++]=Ss,Br=e.id,zr=e.overflow,Ss=t),t=pp(t,n.children),t.flags|=4096,t)}function jg(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),xf(e.return,t,r)}function fd(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function jw(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(ft(e,t,n.children,r),n=Pe.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&jg(e,r,t);else if(e.tag===19)jg(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Ne(Pe,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Cc(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),fd(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Cc(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}fd(t,!0,r,null,i);break;case"together":fd(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Jl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Qr(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),_s|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(I(153));if(t.child!==null){for(e=t.child,r=Ln(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Ln(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function t_(e,t,r){switch(t.tag){case 3:ww(t),Yi();break;case 5:Gx(t);break;case 1:St(t.type)&&jc(t);break;case 4:op(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;Ne(kc,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Ne(Pe,Pe.current&1),t.flags|=128,null):r&t.child.childLanes?bw(e,t,r):(Ne(Pe,Pe.current&1),e=Qr(e,t,r),e!==null?e.sibling:null);Ne(Pe,Pe.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return jw(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ne(Pe,Pe.current),n)break;return null;case 22:case 23:return t.lanes=0,yw(e,t,r)}return Qr(e,t,r)}var Nw,Ef,Sw,kw;Nw=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Ef=function(){};Sw=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,ds(Er.current);var i=null;switch(r){case"input":s=Gd(e,s),n=Gd(e,n),i=[];break;case"select":s=Oe({},s,{value:void 0}),n=Oe({},n,{value:void 0}),i=[];break;case"textarea":s=Jd(e,s),n=Jd(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=wc)}Zd(r,n);var a;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(a in l)l.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(oa.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(r||(r={}),r[a]=c[a])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(oa.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&ke("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};kw=function(e,t,r,n){r!==n&&(t.flags|=4)};function Eo(e,t){if(!Ee)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function it(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function r_(e,t,r){var n=t.pendingProps;switch(Zh(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(t),null;case 1:return St(t.type)&&bc(),it(t),null;case 3:return n=t.stateNode,Xi(),_e(Nt),_e(ct),lp(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(wl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,lr!==null&&(Mf(lr),lr=null))),Ef(e,t),it(t),null;case 5:ap(t);var s=ds(ya.current);if(r=t.type,e!==null&&t.stateNode!=null)Sw(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(I(166));return it(t),null}if(e=ds(Er.current),wl(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[Sr]=t,n[ga]=i,e=(t.mode&1)!==0,r){case"dialog":ke("cancel",n),ke("close",n);break;case"iframe":case"object":case"embed":ke("load",n);break;case"video":case"audio":for(s=0;s<Fo.length;s++)ke(Fo[s],n);break;case"source":ke("error",n);break;case"img":case"image":case"link":ke("error",n),ke("load",n);break;case"details":ke("toggle",n);break;case"input":Rm(n,i),ke("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},ke("invalid",n);break;case"textarea":Am(n,i),ke("invalid",n)}Zd(r,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var l=i[a];a==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&xl(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&xl(n.textContent,l,e),s=["children",""+l]):oa.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&ke("scroll",n)}switch(r){case"input":dl(n),Om(n,i,!0);break;case"textarea":dl(n),Im(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=wc)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Zy(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=a.createElement(r,{is:n.is}):(e=a.createElement(r),r==="select"&&(a=e,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):e=a.createElementNS(e,r),e[Sr]=t,e[ga]=n,Nw(e,t,!1,!1),t.stateNode=e;e:{switch(a=ef(r,n),r){case"dialog":ke("cancel",e),ke("close",e),s=n;break;case"iframe":case"object":case"embed":ke("load",e),s=n;break;case"video":case"audio":for(s=0;s<Fo.length;s++)ke(Fo[s],e);s=n;break;case"source":ke("error",e),s=n;break;case"img":case"image":case"link":ke("error",e),ke("load",e),s=n;break;case"details":ke("toggle",e),s=n;break;case"input":Rm(e,n),s=Gd(e,n),ke("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=Oe({},n,{value:void 0}),ke("invalid",e);break;case"textarea":Am(e,n),s=Jd(e,n),ke("invalid",e);break;default:s=n}Zd(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?rx(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&ex(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&aa(e,c):typeof c=="number"&&aa(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(oa.hasOwnProperty(i)?c!=null&&i==="onScroll"&&ke("scroll",e):c!=null&&$h(e,i,c,a))}switch(r){case"input":dl(e),Om(e,n,!1);break;case"textarea":dl(e),Im(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Bn(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?xi(e,!!n.multiple,i,!1):n.defaultValue!=null&&xi(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=wc)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return it(t),null;case 6:if(e&&t.stateNode!=null)kw(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(I(166));if(r=ds(ya.current),ds(Er.current),wl(t)){if(n=t.stateNode,r=t.memoizedProps,n[Sr]=t,(i=n.nodeValue!==r)&&(e=Dt,e!==null))switch(e.tag){case 3:xl(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&xl(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Sr]=t,t.stateNode=n}return it(t),null;case 13:if(_e(Pe),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ee&&Mt!==null&&t.mode&1&&!(t.flags&128))Wx(),Yi(),t.flags|=98560,i=!1;else if(i=wl(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(I(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(I(317));i[Sr]=t}else Yi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;it(t),i=!1}else lr!==null&&(Mf(lr),lr=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Pe.current&1?Ve===0&&(Ve=3):wp())),t.updateQueue!==null&&(t.flags|=4),it(t),null);case 4:return Xi(),Ef(e,t),e===null&&pa(t.stateNode.containerInfo),it(t),null;case 10:return np(t.type._context),it(t),null;case 17:return St(t.type)&&bc(),it(t),null;case 19:if(_e(Pe),i=t.memoizedState,i===null)return it(t),null;if(n=(t.flags&128)!==0,a=i.rendering,a===null)if(n)Eo(i,!1);else{if(Ve!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Cc(e),a!==null){for(t.flags|=128,Eo(i,!1),n=a.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Ne(Pe,Pe.current&1|2),t.child}e=e.sibling}i.tail!==null&&Fe()>eo&&(t.flags|=128,n=!0,Eo(i,!1),t.lanes=4194304)}else{if(!n)if(e=Cc(a),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Eo(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!Ee)return it(t),null}else 2*Fe()-i.renderingStartTime>eo&&r!==1073741824&&(t.flags|=128,n=!0,Eo(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(r=i.last,r!==null?r.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Fe(),t.sibling=null,r=Pe.current,Ne(Pe,n?r&1|2:r&1),t):(it(t),null);case 22:case 23:return xp(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Ot&1073741824&&(it(t),t.subtreeFlags&6&&(t.flags|=8192)):it(t),null;case 24:return null;case 25:return null}throw Error(I(156,t.tag))}function n_(e,t){switch(Zh(t),t.tag){case 1:return St(t.type)&&bc(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Xi(),_e(Nt),_e(ct),lp(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return ap(t),null;case 13:if(_e(Pe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(I(340));Yi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return _e(Pe),null;case 4:return Xi(),null;case 10:return np(t.type._context),null;case 22:case 23:return xp(),null;case 24:return null;default:return null}}var Nl=!1,at=!1,s_=typeof WeakSet=="function"?WeakSet:Set,W=null;function mi(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){De(e,t,n)}else r.current=null}function Cf(e,t,r){try{r()}catch(n){De(e,t,n)}}var Ng=!1;function i_(e,t){if(df=vc,e=Px(),Jh(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var a=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var g;f!==r||s!==0&&f.nodeType!==3||(l=a+s),f!==i||n!==0&&f.nodeType!==3||(c=a+n),f.nodeType===3&&(a+=f.nodeValue.length),(g=f.firstChild)!==null;)h=f,f=g;for(;;){if(f===e)break t;if(h===r&&++u===s&&(l=a),h===i&&++d===n&&(c=a),(g=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=g}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(ff={focusedElem:e,selectionRange:r},vc=!1,W=t;W!==null;)if(t=W,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,W=e;else for(;W!==null;){t=W;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var p=v.memoizedProps,b=v.memoizedState,w=t.stateNode,y=w.getSnapshotBeforeUpdate(t.elementType===t.type?p:nr(t.type,p),b);w.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(I(163))}}catch(j){De(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,W=e;break}W=t.return}return v=Ng,Ng=!1,v}function Qo(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Cf(t,r,i)}s=s.next}while(s!==n)}}function cu(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Tf(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function _w(e){var t=e.alternate;t!==null&&(e.alternate=null,_w(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Sr],delete t[ga],delete t[mf],delete t[Bk],delete t[zk])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ew(e){return e.tag===5||e.tag===3||e.tag===4}function Sg(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ew(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Pf(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=wc));else if(n!==4&&(e=e.child,e!==null))for(Pf(e,t,r),e=e.sibling;e!==null;)Pf(e,t,r),e=e.sibling}function Rf(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Rf(e,t,r),e=e.sibling;e!==null;)Rf(e,t,r),e=e.sibling}var Ze=null,or=!1;function rn(e,t,r){for(r=r.child;r!==null;)Cw(e,t,r),r=r.sibling}function Cw(e,t,r){if(_r&&typeof _r.onCommitFiberUnmount=="function")try{_r.onCommitFiberUnmount(tu,r)}catch{}switch(r.tag){case 5:at||mi(r,t);case 6:var n=Ze,s=or;Ze=null,rn(e,t,r),Ze=n,or=s,Ze!==null&&(or?(e=Ze,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Ze.removeChild(r.stateNode));break;case 18:Ze!==null&&(or?(e=Ze,r=r.stateNode,e.nodeType===8?id(e.parentNode,r):e.nodeType===1&&id(e,r),da(e)):id(Ze,r.stateNode));break;case 4:n=Ze,s=or,Ze=r.stateNode.containerInfo,or=!0,rn(e,t,r),Ze=n,or=s;break;case 0:case 11:case 14:case 15:if(!at&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&Cf(r,t,a),s=s.next}while(s!==n)}rn(e,t,r);break;case 1:if(!at&&(mi(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){De(r,t,l)}rn(e,t,r);break;case 21:rn(e,t,r);break;case 22:r.mode&1?(at=(n=at)||r.memoizedState!==null,rn(e,t,r),at=n):rn(e,t,r);break;default:rn(e,t,r)}}function kg(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new s_),t.forEach(function(n){var s=p_.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function er(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,a=t,l=a;e:for(;l!==null;){switch(l.tag){case 5:Ze=l.stateNode,or=!1;break e;case 3:Ze=l.stateNode.containerInfo,or=!0;break e;case 4:Ze=l.stateNode.containerInfo,or=!0;break e}l=l.return}if(Ze===null)throw Error(I(160));Cw(i,a,s),Ze=null,or=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){De(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Tw(t,e),t=t.sibling}function Tw(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(er(t,e),yr(e),n&4){try{Qo(3,e,e.return),cu(3,e)}catch(p){De(e,e.return,p)}try{Qo(5,e,e.return)}catch(p){De(e,e.return,p)}}break;case 1:er(t,e),yr(e),n&512&&r!==null&&mi(r,r.return);break;case 5:if(er(t,e),yr(e),n&512&&r!==null&&mi(r,r.return),e.flags&32){var s=e.stateNode;try{aa(s,"")}catch(p){De(e,e.return,p)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,a=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Jy(s,i),ef(l,a);var u=ef(l,i);for(a=0;a<c.length;a+=2){var d=c[a],f=c[a+1];d==="style"?rx(s,f):d==="dangerouslySetInnerHTML"?ex(s,f):d==="children"?aa(s,f):$h(s,d,f,u)}switch(l){case"input":Qd(s,i);break;case"textarea":Xy(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?xi(s,!!i.multiple,g,!1):h!==!!i.multiple&&(i.defaultValue!=null?xi(s,!!i.multiple,i.defaultValue,!0):xi(s,!!i.multiple,i.multiple?[]:"",!1))}s[ga]=i}catch(p){De(e,e.return,p)}}break;case 6:if(er(t,e),yr(e),n&4){if(e.stateNode===null)throw Error(I(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(p){De(e,e.return,p)}}break;case 3:if(er(t,e),yr(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{da(t.containerInfo)}catch(p){De(e,e.return,p)}break;case 4:er(t,e),yr(e);break;case 13:er(t,e),yr(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(vp=Fe())),n&4&&kg(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(at=(u=at)||d,er(t,e),at=u):er(t,e),yr(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(W=e,d=e.child;d!==null;){for(f=W=d;W!==null;){switch(h=W,g=h.child,h.tag){case 0:case 11:case 14:case 15:Qo(4,h,h.return);break;case 1:mi(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(p){De(n,r,p)}}break;case 5:mi(h,h.return);break;case 22:if(h.memoizedState!==null){Eg(f);continue}}g!==null?(g.return=h,W=g):Eg(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=tx("display",a))}catch(p){De(e,e.return,p)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(p){De(e,e.return,p)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:er(t,e),yr(e),n&4&&kg(e);break;case 21:break;default:er(t,e),yr(e)}}function yr(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Ew(r)){var n=r;break e}r=r.return}throw Error(I(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(aa(s,""),n.flags&=-33);var i=Sg(e);Rf(e,i,s);break;case 3:case 4:var a=n.stateNode.containerInfo,l=Sg(e);Pf(e,l,a);break;default:throw Error(I(161))}}catch(c){De(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function o_(e,t,r){W=e,Pw(e)}function Pw(e,t,r){for(var n=(e.mode&1)!==0;W!==null;){var s=W,i=s.child;if(s.tag===22&&n){var a=s.memoizedState!==null||Nl;if(!a){var l=s.alternate,c=l!==null&&l.memoizedState!==null||at;l=Nl;var u=at;if(Nl=a,(at=c)&&!u)for(W=s;W!==null;)a=W,c=a.child,a.tag===22&&a.memoizedState!==null?Cg(s):c!==null?(c.return=a,W=c):Cg(s);for(;i!==null;)W=i,Pw(i),i=i.sibling;W=s,Nl=l,at=u}_g(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,W=i):_g(e)}}function _g(e){for(;W!==null;){var t=W;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:at||cu(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!at)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:nr(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&ug(t,i,n);break;case 3:var a=t.updateQueue;if(a!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}ug(t,a,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&da(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(I(163))}at||t.flags&512&&Tf(t)}catch(h){De(t,t.return,h)}}if(t===e){W=null;break}if(r=t.sibling,r!==null){r.return=t.return,W=r;break}W=t.return}}function Eg(e){for(;W!==null;){var t=W;if(t===e){W=null;break}var r=t.sibling;if(r!==null){r.return=t.return,W=r;break}W=t.return}}function Cg(e){for(;W!==null;){var t=W;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{cu(4,t)}catch(c){De(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){De(t,s,c)}}var i=t.return;try{Tf(t)}catch(c){De(t,i,c)}break;case 5:var a=t.return;try{Tf(t)}catch(c){De(t,a,c)}}}catch(c){De(t,t.return,c)}if(t===e){W=null;break}var l=t.sibling;if(l!==null){l.return=t.return,W=l;break}W=t.return}}var a_=Math.ceil,Rc=Xr.ReactCurrentDispatcher,mp=Xr.ReactCurrentOwner,Yt=Xr.ReactCurrentBatchConfig,fe=0,Qe=null,ze=null,et=0,Ot=0,gi=Yn(0),Ve=0,ja=null,_s=0,uu=0,gp=0,Yo=null,wt=null,vp=0,eo=1/0,Dr=null,Oc=!1,Of=null,Mn=null,Sl=!1,En=null,Ac=0,Jo=0,Af=null,Xl=-1,Zl=0;function ht(){return fe&6?Fe():Xl!==-1?Xl:Xl=Fe()}function Dn(e){return e.mode&1?fe&2&&et!==0?et&-et:Hk.transition!==null?(Zl===0&&(Zl=px()),Zl):(e=ve,e!==0||(e=window.event,e=e===void 0?16:bx(e.type)),e):1}function dr(e,t,r,n){if(50<Jo)throw Jo=0,Af=null,Error(I(185));qa(e,r,n),(!(fe&2)||e!==Qe)&&(e===Qe&&(!(fe&2)&&(uu|=r),Ve===4&&pn(e,et)),kt(e,n),r===1&&fe===0&&!(t.mode&1)&&(eo=Fe()+500,ou&&Jn()))}function kt(e,t){var r=e.callbackNode;HS(e,t);var n=gc(e,e===Qe?et:0);if(n===0)r!==null&&Lm(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Lm(r),t===1)e.tag===0?Wk(Tg.bind(null,e)):Ux(Tg.bind(null,e)),Fk(function(){!(fe&6)&&Jn()}),r=null;else{switch(mx(n)){case 1:r=Wh;break;case 4:r=fx;break;case 16:r=mc;break;case 536870912:r=hx;break;default:r=mc}r=$w(r,Rw.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Rw(e,t){if(Xl=-1,Zl=0,fe&6)throw Error(I(327));var r=e.callbackNode;if(Si()&&e.callbackNode!==r)return null;var n=gc(e,e===Qe?et:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Ic(e,n);else{t=n;var s=fe;fe|=2;var i=Aw();(Qe!==e||et!==t)&&(Dr=null,eo=Fe()+500,bs(e,t));do try{u_();break}catch(l){Ow(e,l)}while(!0);rp(),Rc.current=i,fe=s,ze!==null?t=0:(Qe=null,et=0,t=Ve)}if(t!==0){if(t===2&&(s=of(e),s!==0&&(n=s,t=If(e,s))),t===1)throw r=ja,bs(e,0),pn(e,n),kt(e,Fe()),r;if(t===6)pn(e,n);else{if(s=e.current.alternate,!(n&30)&&!l_(s)&&(t=Ic(e,n),t===2&&(i=of(e),i!==0&&(n=i,t=If(e,i))),t===1))throw r=ja,bs(e,0),pn(e,n),kt(e,Fe()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(I(345));case 2:ss(e,wt,Dr);break;case 3:if(pn(e,n),(n&130023424)===n&&(t=vp+500-Fe(),10<t)){if(gc(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){ht(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=pf(ss.bind(null,e,wt,Dr),t);break}ss(e,wt,Dr);break;case 4:if(pn(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var a=31-ur(n);i=1<<a,a=t[a],a>s&&(s=a),n&=~i}if(n=s,n=Fe()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*a_(n/1960))-n,10<n){e.timeoutHandle=pf(ss.bind(null,e,wt,Dr),n);break}ss(e,wt,Dr);break;case 5:ss(e,wt,Dr);break;default:throw Error(I(329))}}}return kt(e,Fe()),e.callbackNode===r?Rw.bind(null,e):null}function If(e,t){var r=Yo;return e.current.memoizedState.isDehydrated&&(bs(e,t).flags|=256),e=Ic(e,t),e!==2&&(t=wt,wt=r,t!==null&&Mf(t)),e}function Mf(e){wt===null?wt=e:wt.push.apply(wt,e)}function l_(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!fr(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function pn(e,t){for(t&=~gp,t&=~uu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-ur(t),n=1<<r;e[r]=-1,t&=~n}}function Tg(e){if(fe&6)throw Error(I(327));Si();var t=gc(e,0);if(!(t&1))return kt(e,Fe()),null;var r=Ic(e,t);if(e.tag!==0&&r===2){var n=of(e);n!==0&&(t=n,r=If(e,n))}if(r===1)throw r=ja,bs(e,0),pn(e,t),kt(e,Fe()),r;if(r===6)throw Error(I(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ss(e,wt,Dr),kt(e,Fe()),null}function yp(e,t){var r=fe;fe|=1;try{return e(t)}finally{fe=r,fe===0&&(eo=Fe()+500,ou&&Jn())}}function Es(e){En!==null&&En.tag===0&&!(fe&6)&&Si();var t=fe;fe|=1;var r=Yt.transition,n=ve;try{if(Yt.transition=null,ve=1,e)return e()}finally{ve=n,Yt.transition=r,fe=t,!(fe&6)&&Jn()}}function xp(){Ot=gi.current,_e(gi)}function bs(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,$k(r)),ze!==null)for(r=ze.return;r!==null;){var n=r;switch(Zh(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&bc();break;case 3:Xi(),_e(Nt),_e(ct),lp();break;case 5:ap(n);break;case 4:Xi();break;case 13:_e(Pe);break;case 19:_e(Pe);break;case 10:np(n.type._context);break;case 22:case 23:xp()}r=r.return}if(Qe=e,ze=e=Ln(e.current,null),et=Ot=t,Ve=0,ja=null,gp=uu=_s=0,wt=Yo=null,us!==null){for(t=0;t<us.length;t++)if(r=us[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var a=i.next;i.next=s,n.next=a}r.pending=n}us=null}return e}function Ow(e,t){do{var r=ze;try{if(rp(),Ql.current=Pc,Tc){for(var n=Re.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Tc=!1}if(ks=0,Ke=He=Re=null,Go=!1,xa=0,mp.current=null,r===null||r.return===null){Ve=1,ja=t,ze=null;break}e:{var i=e,a=r.return,l=r,c=t;if(t=et,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=gg(a);if(g!==null){g.flags&=-257,vg(g,a,l,i,t),g.mode&1&&mg(i,u,t),t=g,c=u;var v=t.updateQueue;if(v===null){var p=new Set;p.add(c),t.updateQueue=p}else v.add(c);break e}else{if(!(t&1)){mg(i,u,t),wp();break e}c=Error(I(426))}}else if(Ee&&l.mode&1){var b=gg(a);if(b!==null){!(b.flags&65536)&&(b.flags|=256),vg(b,a,l,i,t),ep(Zi(c,l));break e}}i=c=Zi(c,l),Ve!==4&&(Ve=2),Yo===null?Yo=[i]:Yo.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var w=mw(i,c,t);cg(i,w);break e;case 1:l=c;var y=i.type,x=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Mn===null||!Mn.has(x)))){i.flags|=65536,t&=-t,i.lanes|=t;var j=gw(i,l,t);cg(i,j);break e}}i=i.return}while(i!==null)}Mw(r)}catch(k){t=k,ze===r&&r!==null&&(ze=r=r.return);continue}break}while(!0)}function Aw(){var e=Rc.current;return Rc.current=Pc,e===null?Pc:e}function wp(){(Ve===0||Ve===3||Ve===2)&&(Ve=4),Qe===null||!(_s&268435455)&&!(uu&268435455)||pn(Qe,et)}function Ic(e,t){var r=fe;fe|=2;var n=Aw();(Qe!==e||et!==t)&&(Dr=null,bs(e,t));do try{c_();break}catch(s){Ow(e,s)}while(!0);if(rp(),fe=r,Rc.current=n,ze!==null)throw Error(I(261));return Qe=null,et=0,Ve}function c_(){for(;ze!==null;)Iw(ze)}function u_(){for(;ze!==null&&!MS();)Iw(ze)}function Iw(e){var t=Lw(e.alternate,e,Ot);e.memoizedProps=e.pendingProps,t===null?Mw(e):ze=t,mp.current=null}function Mw(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=n_(r,t),r!==null){r.flags&=32767,ze=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ve=6,ze=null;return}}else if(r=r_(r,t,Ot),r!==null){ze=r;return}if(t=t.sibling,t!==null){ze=t;return}ze=t=e}while(t!==null);Ve===0&&(Ve=5)}function ss(e,t,r){var n=ve,s=Yt.transition;try{Yt.transition=null,ve=1,d_(e,t,r,n)}finally{Yt.transition=s,ve=n}return null}function d_(e,t,r,n){do Si();while(En!==null);if(fe&6)throw Error(I(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(I(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(VS(e,i),e===Qe&&(ze=Qe=null,et=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Sl||(Sl=!0,$w(mc,function(){return Si(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Yt.transition,Yt.transition=null;var a=ve;ve=1;var l=fe;fe|=4,mp.current=null,i_(e,r),Tw(r,e),Rk(ff),vc=!!df,ff=df=null,e.current=r,o_(r),DS(),fe=l,ve=a,Yt.transition=i}else e.current=r;if(Sl&&(Sl=!1,En=e,Ac=s),i=e.pendingLanes,i===0&&(Mn=null),FS(r.stateNode),kt(e,Fe()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Oc)throw Oc=!1,e=Of,Of=null,e;return Ac&1&&e.tag!==0&&Si(),i=e.pendingLanes,i&1?e===Af?Jo++:(Jo=0,Af=e):Jo=0,Jn(),null}function Si(){if(En!==null){var e=mx(Ac),t=Yt.transition,r=ve;try{if(Yt.transition=null,ve=16>e?16:e,En===null)var n=!1;else{if(e=En,En=null,Ac=0,fe&6)throw Error(I(331));var s=fe;for(fe|=4,W=e.current;W!==null;){var i=W,a=i.child;if(W.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(W=u;W!==null;){var d=W;switch(d.tag){case 0:case 11:case 15:Qo(8,d,i)}var f=d.child;if(f!==null)f.return=d,W=f;else for(;W!==null;){d=W;var h=d.sibling,g=d.return;if(_w(d),d===u){W=null;break}if(h!==null){h.return=g,W=h;break}W=g}}}var v=i.alternate;if(v!==null){var p=v.child;if(p!==null){v.child=null;do{var b=p.sibling;p.sibling=null,p=b}while(p!==null)}}W=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,W=a;else e:for(;W!==null;){if(i=W,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Qo(9,i,i.return)}var w=i.sibling;if(w!==null){w.return=i.return,W=w;break e}W=i.return}}var y=e.current;for(W=y;W!==null;){a=W;var x=a.child;if(a.subtreeFlags&2064&&x!==null)x.return=a,W=x;else e:for(a=y;W!==null;){if(l=W,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:cu(9,l)}}catch(k){De(l,l.return,k)}if(l===a){W=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,W=j;break e}W=l.return}}if(fe=s,Jn(),_r&&typeof _r.onPostCommitFiberRoot=="function")try{_r.onPostCommitFiberRoot(tu,e)}catch{}n=!0}return n}finally{ve=r,Yt.transition=t}}return!1}function Pg(e,t,r){t=Zi(r,t),t=mw(e,t,1),e=In(e,t,1),t=ht(),e!==null&&(qa(e,1,t),kt(e,t))}function De(e,t,r){if(e.tag===3)Pg(e,e,r);else for(;t!==null;){if(t.tag===3){Pg(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Mn===null||!Mn.has(n))){e=Zi(r,e),e=gw(t,e,1),t=In(t,e,1),e=ht(),t!==null&&(qa(t,1,e),kt(t,e));break}}t=t.return}}function f_(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=ht(),e.pingedLanes|=e.suspendedLanes&r,Qe===e&&(et&r)===r&&(Ve===4||Ve===3&&(et&130023424)===et&&500>Fe()-vp?bs(e,0):gp|=r),kt(e,t)}function Dw(e,t){t===0&&(e.mode&1?(t=pl,pl<<=1,!(pl&130023424)&&(pl=4194304)):t=1);var r=ht();e=Gr(e,t),e!==null&&(qa(e,t,r),kt(e,r))}function h_(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Dw(e,r)}function p_(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(I(314))}n!==null&&n.delete(t),Dw(e,r)}var Lw;Lw=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Nt.current)bt=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return bt=!1,t_(e,t,r);bt=!!(e.flags&131072)}else bt=!1,Ee&&t.flags&1048576&&Bx(t,Sc,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Jl(e,t),e=t.pendingProps;var s=Qi(t,ct.current);Ni(t,r),s=up(null,t,n,e,s,r);var i=dp();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,St(n)?(i=!0,jc(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,ip(t),s.updater=lu,t.stateNode=s,s._reactInternals=t,bf(t,n,e,r),t=Sf(null,t,n,!0,i,r)):(t.tag=0,Ee&&i&&Xh(t),ft(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Jl(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=g_(n),e=nr(n,e),s){case 0:t=Nf(null,t,n,e,r);break e;case 1:t=wg(null,t,n,e,r);break e;case 11:t=yg(null,t,n,e,r);break e;case 14:t=xg(null,t,n,nr(n.type,e),r);break e}throw Error(I(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:nr(n,s),Nf(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:nr(n,s),wg(e,t,n,s,r);case 3:e:{if(ww(t),e===null)throw Error(I(387));n=t.pendingProps,i=t.memoizedState,s=i.element,Kx(e,t),Ec(t,n,null,r);var a=t.memoizedState;if(n=a.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Zi(Error(I(423)),t),t=bg(e,t,n,r,s);break e}else if(n!==s){s=Zi(Error(I(424)),t),t=bg(e,t,n,r,s);break e}else for(Mt=An(t.stateNode.containerInfo.firstChild),Dt=t,Ee=!0,lr=null,r=Vx(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Yi(),n===s){t=Qr(e,t,r);break e}ft(e,t,n,r)}t=t.child}return t;case 5:return Gx(t),e===null&&yf(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,a=s.children,hf(n,s)?a=null:i!==null&&hf(n,i)&&(t.flags|=32),xw(e,t),ft(e,t,a,r),t.child;case 6:return e===null&&yf(t),null;case 13:return bw(e,t,r);case 4:return op(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Ji(t,null,n,r):ft(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:nr(n,s),yg(e,t,n,s,r);case 7:return ft(e,t,t.pendingProps,r),t.child;case 8:return ft(e,t,t.pendingProps.children,r),t.child;case 12:return ft(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,a=s.value,Ne(kc,n._currentValue),n._currentValue=a,i!==null)if(fr(i.value,a)){if(i.children===s.children&&!Nt.current){t=Qr(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){a=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=Hr(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),xf(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)a=i.type===t.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(I(341));a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),xf(a,r,t),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}ft(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Ni(t,r),s=Jt(s),n=n(s),t.flags|=1,ft(e,t,n,r),t.child;case 14:return n=t.type,s=nr(n,t.pendingProps),s=nr(n.type,s),xg(e,t,n,s,r);case 15:return vw(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:nr(n,s),Jl(e,t),t.tag=1,St(n)?(e=!0,jc(t)):e=!1,Ni(t,r),pw(t,n,s),bf(t,n,s,r),Sf(null,t,n,!0,e,r);case 19:return jw(e,t,r);case 22:return yw(e,t,r)}throw Error(I(156,t.tag))};function $w(e,t){return dx(e,t)}function m_(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gt(e,t,r,n){return new m_(e,t,r,n)}function bp(e){return e=e.prototype,!(!e||!e.isReactComponent)}function g_(e){if(typeof e=="function")return bp(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Uh)return 11;if(e===Bh)return 14}return 2}function Ln(e,t){var r=e.alternate;return r===null?(r=Gt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function ec(e,t,r,n,s,i){var a=2;if(n=e,typeof e=="function")bp(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case oi:return js(r.children,s,i,t);case Fh:a=8,s|=8;break;case Hd:return e=Gt(12,r,t,s|2),e.elementType=Hd,e.lanes=i,e;case Vd:return e=Gt(13,r,t,s),e.elementType=Vd,e.lanes=i,e;case qd:return e=Gt(19,r,t,s),e.elementType=qd,e.lanes=i,e;case Gy:return du(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case qy:a=10;break e;case Ky:a=9;break e;case Uh:a=11;break e;case Bh:a=14;break e;case un:a=16,n=null;break e}throw Error(I(130,e==null?e:typeof e,""))}return t=Gt(a,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function js(e,t,r,n){return e=Gt(7,e,n,t),e.lanes=r,e}function du(e,t,r,n){return e=Gt(22,e,n,t),e.elementType=Gy,e.lanes=r,e.stateNode={isHidden:!1},e}function hd(e,t,r){return e=Gt(6,e,null,t),e.lanes=r,e}function pd(e,t,r){return t=Gt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function v_(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Gu(0),this.expirationTimes=Gu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gu(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function jp(e,t,r,n,s,i,a,l,c){return e=new v_(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Gt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},ip(i),e}function y_(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ii,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Fw(e){if(!e)return zn;e=e._reactInternals;e:{if(Fs(e)!==e||e.tag!==1)throw Error(I(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(St(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(I(171))}if(e.tag===1){var r=e.type;if(St(r))return Fx(e,r,t)}return t}function Uw(e,t,r,n,s,i,a,l,c){return e=jp(r,n,!0,e,s,i,a,l,c),e.context=Fw(null),r=e.current,n=ht(),s=Dn(r),i=Hr(n,s),i.callback=t??null,In(r,i,s),e.current.lanes=s,qa(e,s,n),kt(e,n),e}function fu(e,t,r,n){var s=t.current,i=ht(),a=Dn(s);return r=Fw(r),t.context===null?t.context=r:t.pendingContext=r,t=Hr(i,a),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=In(s,t,a),e!==null&&(dr(e,s,a,i),Gl(e,s,a)),a}function Mc(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Rg(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Np(e,t){Rg(e,t),(e=e.alternate)&&Rg(e,t)}function x_(){return null}var Bw=typeof reportError=="function"?reportError:function(e){console.error(e)};function Sp(e){this._internalRoot=e}hu.prototype.render=Sp.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(I(409));fu(e,t,null,null)};hu.prototype.unmount=Sp.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Es(function(){fu(null,e,null,null)}),t[Kr]=null}};function hu(e){this._internalRoot=e}hu.prototype.unstable_scheduleHydration=function(e){if(e){var t=yx();e={blockedOn:null,target:e,priority:t};for(var r=0;r<hn.length&&t!==0&&t<hn[r].priority;r++);hn.splice(r,0,e),r===0&&wx(e)}};function kp(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function pu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Og(){}function w_(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=Mc(a);i.call(u)}}var a=Uw(t,n,e,0,null,!1,!1,"",Og);return e._reactRootContainer=a,e[Kr]=a.current,pa(e.nodeType===8?e.parentNode:e),Es(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=Mc(c);l.call(u)}}var c=jp(e,0,!1,null,null,!1,!1,"",Og);return e._reactRootContainer=c,e[Kr]=c.current,pa(e.nodeType===8?e.parentNode:e),Es(function(){fu(t,c,r,n)}),c}function mu(e,t,r,n,s){var i=r._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var l=s;s=function(){var c=Mc(a);l.call(c)}}fu(t,a,e,s)}else a=w_(r,t,e,s,n);return Mc(a)}gx=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=$o(t.pendingLanes);r!==0&&(Hh(t,r|1),kt(t,Fe()),!(fe&6)&&(eo=Fe()+500,Jn()))}break;case 13:Es(function(){var n=Gr(e,1);if(n!==null){var s=ht();dr(n,e,1,s)}}),Np(e,1)}};Vh=function(e){if(e.tag===13){var t=Gr(e,134217728);if(t!==null){var r=ht();dr(t,e,134217728,r)}Np(e,134217728)}};vx=function(e){if(e.tag===13){var t=Dn(e),r=Gr(e,t);if(r!==null){var n=ht();dr(r,e,t,n)}Np(e,t)}};yx=function(){return ve};xx=function(e,t){var r=ve;try{return ve=e,t()}finally{ve=r}};rf=function(e,t,r){switch(t){case"input":if(Qd(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=iu(n);if(!s)throw Error(I(90));Yy(n),Qd(n,s)}}}break;case"textarea":Xy(e,r);break;case"select":t=r.value,t!=null&&xi(e,!!r.multiple,t,!1)}};ix=yp;ox=Es;var b_={usingClientEntryPoint:!1,Events:[Ga,ui,iu,nx,sx,yp]},Co={findFiberByHostInstance:cs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},j_={bundleType:Co.bundleType,version:Co.version,rendererPackageName:Co.rendererPackageName,rendererConfig:Co.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Xr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=cx(e),e===null?null:e.stateNode},findFiberByHostInstance:Co.findFiberByHostInstance||x_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var kl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!kl.isDisabled&&kl.supportsFiber)try{tu=kl.inject(j_),_r=kl}catch{}}Ft.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=b_;Ft.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!kp(t))throw Error(I(200));return y_(e,t,null,r)};Ft.createRoot=function(e,t){if(!kp(e))throw Error(I(299));var r=!1,n="",s=Bw;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=jp(e,1,!1,null,null,r,!1,n,s),e[Kr]=t.current,pa(e.nodeType===8?e.parentNode:e),new Sp(t)};Ft.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(I(188)):(e=Object.keys(e).join(","),Error(I(268,e)));return e=cx(t),e=e===null?null:e.stateNode,e};Ft.flushSync=function(e){return Es(e)};Ft.hydrate=function(e,t,r){if(!pu(t))throw Error(I(200));return mu(null,e,t,!0,r)};Ft.hydrateRoot=function(e,t,r){if(!kp(e))throw Error(I(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",a=Bw;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),t=Uw(t,null,e,1,r??null,s,!1,i,a),e[Kr]=t.current,pa(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new hu(t)};Ft.render=function(e,t,r){if(!pu(t))throw Error(I(200));return mu(null,e,t,!1,r)};Ft.unmountComponentAtNode=function(e){if(!pu(e))throw Error(I(40));return e._reactRootContainer?(Es(function(){mu(null,null,e,!1,function(){e._reactRootContainer=null,e[Kr]=null})}),!0):!1};Ft.unstable_batchedUpdates=yp;Ft.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!pu(r))throw Error(I(200));if(e==null||e._reactInternals===void 0)throw Error(I(38));return mu(e,t,r,!1,n)};Ft.version="18.3.1-next-f1338f8080-20240426";function zw(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(zw)}catch(e){console.error(e)}}zw(),zy.exports=Ft;var Us=zy.exports;const N_=Ty(Us);var Ww,Ag=Us;Ww=Ag.createRoot,Ag.hydrateRoot;function S_(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var r,n,s,i,a=[],l="",c=e.split("/");for(c[0]||c.shift();s=c.shift();)r=s[0],r==="*"?(a.push(r),l+=s[1]==="?"?"(?:/(.*))?":"/(.*)"):r===":"?(n=s.indexOf("?",1),i=s.indexOf(".",1),a.push(s.substring(1,~n?n:~i?i:s.length)),l+=~n&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(l+=(~n?"?":"")+"\\"+s.substring(i))):l+="/"+s;return{keys:a,pattern:new RegExp("^"+l+(t?"(?=$|/)":"/?$"),"i")}}var Hw={exports:{}},Vw={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var to=m;function k_(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var __=typeof Object.is=="function"?Object.is:k_,E_=to.useState,C_=to.useEffect,T_=to.useLayoutEffect,P_=to.useDebugValue;function R_(e,t){var r=t(),n=E_({inst:{value:r,getSnapshot:t}}),s=n[0].inst,i=n[1];return T_(function(){s.value=r,s.getSnapshot=t,md(s)&&i({inst:s})},[e,r,t]),C_(function(){return md(s)&&i({inst:s}),e(function(){md(s)&&i({inst:s})})},[e]),P_(r),r}function md(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!__(e,r)}catch{return!0}}function O_(e,t){return t()}var A_=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?O_:R_;Vw.useSyncExternalStore=to.useSyncExternalStore!==void 0?to.useSyncExternalStore:A_;Hw.exports=Vw;var I_=Hw.exports;const M_=Uy.useInsertionEffect,D_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",L_=D_?m.useLayoutEffect:m.useEffect,$_=M_||L_,qw=e=>{const t=m.useRef([e,(...r)=>t[0](...r)]).current;return $_(()=>{t[0]=e}),t[1]},F_="popstate",_p="pushState",Ep="replaceState",U_="hashchange",Ig=[F_,_p,Ep,U_],B_=e=>{for(const t of Ig)addEventListener(t,e);return()=>{for(const t of Ig)removeEventListener(t,e)}},Kw=(e,t)=>I_.useSyncExternalStore(B_,e,t),z_=()=>location.search,W_=({ssrSearch:e=""}={})=>Kw(z_,()=>e),Mg=()=>location.pathname,H_=({ssrPath:e}={})=>Kw(Mg,e?()=>e:Mg),V_=(e,{replace:t=!1,state:r=null}={})=>history[t?Ep:_p](r,"",e),q_=(e={})=>[H_(e),V_],Dg=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[Dg]>"u"){for(const e of[_p,Ep]){const t=history[e];history[e]=function(){const r=t.apply(this,arguments),n=new Event(e);return n.arguments=arguments,dispatchEvent(n),r}}Object.defineProperty(window,Dg,{value:!0})}const K_=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",Gw=(e="")=>e==="/"?"":e,G_=(e,t)=>e[0]==="~"?e.slice(1):Gw(t)+e,Q_=(e="",t)=>K_(Lg(Gw(e)),Lg(t)),Lg=e=>{try{return decodeURI(e)}catch{return e}},Qw={hook:q_,searchHook:W_,parser:S_,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:e=>e},Yw=m.createContext(Qw),Ya=()=>m.useContext(Yw),Jw={},Xw=m.createContext(Jw),Cp=()=>m.useContext(Xw),gu=e=>{const[t,r]=e.hook(e);return[Q_(e.base,t),qw((n,s)=>r(G_(n,e.base),s))]},Ue=()=>gu(Ya()),Zw=(e,t,r,n)=>{const{pattern:s,keys:i}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",n),a=s.exec(r)||[],[l,...c]=a;return l!==void 0?[!0,(()=>{const u=i!==!1?Object.fromEntries(i.map((f,h)=>[f,c[h]])):a.groups;let d={...c};return u&&Object.assign(d,u),d})(),...n?[l]:[]]:[!1,null]},Y_=({children:e,...t})=>{var d,f;const r=Ya(),n=t.hook?Qw:r;let s=n;const[i,a]=((d=t.ssrPath)==null?void 0:d.split("?"))??[];a&&(t.ssrSearch=a,t.ssrPath=i),t.hrefs=t.hrefs??((f=t.hook)==null?void 0:f.hrefs);let l=m.useRef({}),c=l.current,u=c;for(let h in n){const g=h==="base"?n[h]+(t[h]||""):t[h]||n[h];c===u&&g!==u[h]&&(l.current=u={...u}),u[h]=g,g!==n[h]&&(s=u)}return m.createElement(Yw.Provider,{value:s,children:e})},$g=({children:e,component:t},r)=>t?m.createElement(t,{params:r}):typeof e=="function"?e(r):e,J_=e=>{let t=m.useRef(Jw),r=t.current;for(const n in e)e[n]!==r[n]&&(r=e);return Object.keys(e).length===0&&(r=e),t.current=r},Te=({path:e,nest:t,match:r,...n})=>{const s=Ya(),[i]=gu(s),[a,l,c]=r??Zw(s.parser,e,i,t),u=J_({...Cp(),...l});if(!a)return null;const d=c?m.createElement(Y_,{base:c},$g(n,u)):$g(n,u);return m.createElement(Xw.Provider,{value:u,children:d})},Na=m.forwardRef((e,t)=>{const r=Ya(),[n,s]=gu(r),{to:i="",href:a=i,onClick:l,asChild:c,children:u,className:d,replace:f,state:h,...g}=e,v=qw(b=>{b.ctrlKey||b.metaKey||b.altKey||b.shiftKey||b.button!==0||(l==null||l(b),b.defaultPrevented||(b.preventDefault(),s(a,e)))}),p=r.hrefs(a[0]==="~"?a.slice(1):r.base+a,r);return c&&m.isValidElement(u)?m.cloneElement(u,{onClick:v,href:p}):m.createElement("a",{...g,onClick:v,href:p,className:d!=null&&d.call?d(n===a):d,children:u,ref:t})}),e0=e=>Array.isArray(e)?e.flatMap(t=>e0(t&&t.type===m.Fragment?t.props.children:t)):[e],X_=({children:e,location:t})=>{const r=Ya(),[n]=gu(r);for(const s of e0(e)){let i=0;if(m.isValidElement(s)&&(i=Zw(r.parser,s.props.path,t||n,s.props.nest))[0])return m.cloneElement(s,{match:i})}return null};var Bs=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Cs=typeof window>"u"||"Deno"in globalThis;function Vt(){}function Z_(e,t){return typeof e=="function"?e(t):e}function Df(e){return typeof e=="number"&&e>=0&&e!==1/0}function t0(e,t){return Math.max(e+(t||0)-Date.now(),0)}function ki(e,t){return typeof e=="function"?e(t):e}function cr(e,t){return typeof e=="function"?e(t):e}function Fg(e,t){const{type:r="all",exact:n,fetchStatus:s,predicate:i,queryKey:a,stale:l}=e;if(a){if(n){if(t.queryHash!==Tp(a,t.options))return!1}else if(!Sa(t.queryKey,a))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||i&&!i(t))}function Ug(e,t){const{exact:r,status:n,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(Ts(t.options.mutationKey)!==Ts(i))return!1}else if(!Sa(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||s&&!s(t))}function Tp(e,t){return((t==null?void 0:t.queryKeyHashFn)||Ts)(e)}function Ts(e){return JSON.stringify(e,(t,r)=>Lf(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function Sa(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(r=>!Sa(e[r],t[r])):!1}function Pp(e,t){if(e===t)return e;const r=Bg(e)&&Bg(t);if(r||Lf(e)&&Lf(t)){const n=r?e:Object.keys(e),s=n.length,i=r?t:Object.keys(t),a=i.length,l=r?[]:{};let c=0;for(let u=0;u<a;u++){const d=r?u:i[u];(!r&&n.includes(d)||r)&&e[d]===void 0&&t[d]===void 0?(l[d]=void 0,c++):(l[d]=Pp(e[d],t[d]),l[d]===e[d]&&e[d]!==void 0&&c++)}return s===a&&c===s?e:l}return t}function Dc(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function Bg(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Lf(e){if(!zg(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!zg(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function zg(e){return Object.prototype.toString.call(e)==="[object Object]"}function eE(e){return new Promise(t=>{setTimeout(t,e)})}function $f(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?Pp(e,t):t}function tE(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function rE(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var Rp=Symbol();function r0(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Rp?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var hs,gn,Ai,yy,nE=(yy=class extends Bs{constructor(){super();K(this,hs);K(this,gn);K(this,Ai);D(this,Ai,t=>{if(!Cs&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){S(this,gn)||this.setEventListener(S(this,Ai))}onUnsubscribe(){var t;this.hasListeners()||((t=S(this,gn))==null||t.call(this),D(this,gn,void 0))}setEventListener(t){var r;D(this,Ai,t),(r=S(this,gn))==null||r.call(this),D(this,gn,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){S(this,hs)!==t&&(D(this,hs,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof S(this,hs)=="boolean"?S(this,hs):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},hs=new WeakMap,gn=new WeakMap,Ai=new WeakMap,yy),Op=new nE,Ii,vn,Mi,xy,sE=(xy=class extends Bs{constructor(){super();K(this,Ii,!0);K(this,vn);K(this,Mi);D(this,Mi,t=>{if(!Cs&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){S(this,vn)||this.setEventListener(S(this,Mi))}onUnsubscribe(){var t;this.hasListeners()||((t=S(this,vn))==null||t.call(this),D(this,vn,void 0))}setEventListener(t){var r;D(this,Mi,t),(r=S(this,vn))==null||r.call(this),D(this,vn,t(this.setOnline.bind(this)))}setOnline(t){S(this,Ii)!==t&&(D(this,Ii,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return S(this,Ii)}},Ii=new WeakMap,vn=new WeakMap,Mi=new WeakMap,xy),Lc=new sE;function Ff(){let e,t;const r=new Promise((s,i)=>{e=s,t=i});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),e(s)},r.reject=s=>{n({status:"rejected",reason:s}),t(s)},r}function iE(e){return Math.min(1e3*2**e,3e4)}function n0(e){return(e??"online")==="online"?Lc.isOnline():!0}var s0=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function gd(e){return e instanceof s0}function i0(e){let t=!1,r=0,n=!1,s;const i=Ff(),a=p=>{var b;n||(h(new s0(p)),(b=e.abort)==null||b.call(e))},l=()=>{t=!0},c=()=>{t=!1},u=()=>Op.isFocused()&&(e.networkMode==="always"||Lc.isOnline())&&e.canRun(),d=()=>n0(e.networkMode)&&e.canRun(),f=p=>{var b;n||(n=!0,(b=e.onSuccess)==null||b.call(e,p),s==null||s(),i.resolve(p))},h=p=>{var b;n||(n=!0,(b=e.onError)==null||b.call(e,p),s==null||s(),i.reject(p))},g=()=>new Promise(p=>{var b;s=w=>{(n||u())&&p(w)},(b=e.onPause)==null||b.call(e)}).then(()=>{var p;s=void 0,n||(p=e.onContinue)==null||p.call(e)}),v=()=>{if(n)return;let p;const b=r===0?e.initialPromise:void 0;try{p=b??e.fn()}catch(w){p=Promise.reject(w)}Promise.resolve(p).then(f).catch(w=>{var _;if(n)return;const y=e.retry??(Cs?0:3),x=e.retryDelay??iE,j=typeof x=="function"?x(r,w):x,k=y===!0||typeof y=="number"&&r<y||typeof y=="function"&&y(r,w);if(t||!k){h(w);return}r++,(_=e.onFail)==null||_.call(e,r,w),eE(j).then(()=>u()?void 0:g()).then(()=>{t?h(w):v()})})};return{promise:i,cancel:a,continue:()=>(s==null||s(),i),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?v():g().then(v),i)}}function oE(){let e=[],t=0,r=l=>{l()},n=l=>{l()},s=l=>setTimeout(l,0);const i=l=>{t?e.push(l):s(()=>{r(l)})},a=()=>{const l=e;e=[],l.length&&s(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||a()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{s=l}}}var Le=oE(),ps,wy,o0=(wy=class{constructor(){K(this,ps)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Df(this.gcTime)&&D(this,ps,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Cs?1/0:5*60*1e3))}clearGcTimeout(){S(this,ps)&&(clearTimeout(S(this,ps)),D(this,ps,void 0))}},ps=new WeakMap,wy),Di,Li,Wt,ot,Fa,ms,ir,Mr,by,aE=(by=class extends o0{constructor(t){super();K(this,ir);K(this,Di);K(this,Li);K(this,Wt);K(this,ot);K(this,Fa);K(this,ms);D(this,ms,!1),D(this,Fa,t.defaultOptions),this.setOptions(t.options),this.observers=[],D(this,Wt,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,D(this,Di,lE(this.options)),this.state=t.state??S(this,Di),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=S(this,ot))==null?void 0:t.promise}setOptions(t){this.options={...S(this,Fa),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&S(this,Wt).remove(this)}setData(t,r){const n=$f(this.state.data,t,this.options);return re(this,ir,Mr).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){re(this,ir,Mr).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,s;const r=(n=S(this,ot))==null?void 0:n.promise;return(s=S(this,ot))==null||s.cancel(t),r?r.then(Vt).catch(Vt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(S(this,Di))}isActive(){return this.observers.some(t=>cr(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Rp||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!t0(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=S(this,ot))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=S(this,ot))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),S(this,Wt).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(S(this,ot)&&(S(this,ms)?S(this,ot).cancel({revert:!0}):S(this,ot).cancelRetry()),this.scheduleGc()),S(this,Wt).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||re(this,ir,Mr).call(this,{type:"invalidate"})}fetch(t,r){var c,u,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(S(this,ot))return S(this,ot).continueRetry(),S(this,ot).promise}if(t&&this.setOptions(t),!this.options.queryFn){const f=this.observers.find(h=>h.options.queryFn);f&&this.setOptions(f.options)}const n=new AbortController,s=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(D(this,ms,!0),n.signal)})},i=()=>{const f=r0(this.options,r),h={queryKey:this.queryKey,meta:this.meta};return s(h),D(this,ms,!1),this.options.persister?this.options.persister(f,h,this):f(h)},a={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:i};s(a),(c=this.options.behavior)==null||c.onFetch(a,this),D(this,Li,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=a.fetchOptions)==null?void 0:u.meta))&&re(this,ir,Mr).call(this,{type:"fetch",meta:(d=a.fetchOptions)==null?void 0:d.meta});const l=f=>{var h,g,v,p;gd(f)&&f.silent||re(this,ir,Mr).call(this,{type:"error",error:f}),gd(f)||((g=(h=S(this,Wt).config).onError)==null||g.call(h,f,this),(p=(v=S(this,Wt).config).onSettled)==null||p.call(v,this.state.data,f,this)),this.scheduleGc()};return D(this,ot,i0({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,abort:n.abort.bind(n),onSuccess:f=>{var h,g,v,p;if(f===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(b){l(b);return}(g=(h=S(this,Wt).config).onSuccess)==null||g.call(h,f,this),(p=(v=S(this,Wt).config).onSettled)==null||p.call(v,f,this.state.error,this),this.scheduleGc()},onError:l,onFail:(f,h)=>{re(this,ir,Mr).call(this,{type:"failed",failureCount:f,error:h})},onPause:()=>{re(this,ir,Mr).call(this,{type:"pause"})},onContinue:()=>{re(this,ir,Mr).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),S(this,ot).start()}},Di=new WeakMap,Li=new WeakMap,Wt=new WeakMap,ot=new WeakMap,Fa=new WeakMap,ms=new WeakMap,ir=new WeakSet,Mr=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...a0(n.data,this.options),fetchMeta:t.meta??null};case"success":return{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return gd(s)&&s.revert&&S(this,Li)?{...S(this,Li),fetchStatus:"idle"}:{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),Le.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),S(this,Wt).notify({query:this,type:"updated",action:t})})},by);function a0(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:n0(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function lE(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var wr,jy,cE=(jy=class extends Bs{constructor(t={}){super();K(this,wr);this.config=t,D(this,wr,new Map)}build(t,r,n){const s=r.queryKey,i=r.queryHash??Tp(s,r);let a=this.get(i);return a||(a=new aE({cache:this,queryKey:s,queryHash:i,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(a)),a}add(t){S(this,wr).has(t.queryHash)||(S(this,wr).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=S(this,wr).get(t.queryHash);r&&(t.destroy(),r===t&&S(this,wr).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Le.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return S(this,wr).get(t)}getAll(){return[...S(this,wr).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Fg(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>Fg(t,n)):r}notify(t){Le.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){Le.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Le.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},wr=new WeakMap,jy),br,ut,gs,jr,ln,Ny,uE=(Ny=class extends o0{constructor(t){super();K(this,jr);K(this,br);K(this,ut);K(this,gs);this.mutationId=t.mutationId,D(this,ut,t.mutationCache),D(this,br,[]),this.state=t.state||l0(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){S(this,br).includes(t)||(S(this,br).push(t),this.clearGcTimeout(),S(this,ut).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){D(this,br,S(this,br).filter(r=>r!==t)),this.scheduleGc(),S(this,ut).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){S(this,br).length||(this.state.status==="pending"?this.scheduleGc():S(this,ut).remove(this))}continue(){var t;return((t=S(this,gs))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var s,i,a,l,c,u,d,f,h,g,v,p,b,w,y,x,j,k,_,N;D(this,gs,i0({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(E,O)=>{re(this,jr,ln).call(this,{type:"failed",failureCount:E,error:O})},onPause:()=>{re(this,jr,ln).call(this,{type:"pause"})},onContinue:()=>{re(this,jr,ln).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>S(this,ut).canRun(this)}));const r=this.state.status==="pending",n=!S(this,gs).canStart();try{if(!r){re(this,jr,ln).call(this,{type:"pending",variables:t,isPaused:n}),await((i=(s=S(this,ut).config).onMutate)==null?void 0:i.call(s,t,this));const O=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,t));O!==this.state.context&&re(this,jr,ln).call(this,{type:"pending",context:O,variables:t,isPaused:n})}const E=await S(this,gs).start();return await((u=(c=S(this,ut).config).onSuccess)==null?void 0:u.call(c,E,t,this.state.context,this)),await((f=(d=this.options).onSuccess)==null?void 0:f.call(d,E,t,this.state.context)),await((g=(h=S(this,ut).config).onSettled)==null?void 0:g.call(h,E,null,this.state.variables,this.state.context,this)),await((p=(v=this.options).onSettled)==null?void 0:p.call(v,E,null,t,this.state.context)),re(this,jr,ln).call(this,{type:"success",data:E}),E}catch(E){try{throw await((w=(b=S(this,ut).config).onError)==null?void 0:w.call(b,E,t,this.state.context,this)),await((x=(y=this.options).onError)==null?void 0:x.call(y,E,t,this.state.context)),await((k=(j=S(this,ut).config).onSettled)==null?void 0:k.call(j,void 0,E,this.state.variables,this.state.context,this)),await((N=(_=this.options).onSettled)==null?void 0:N.call(_,void 0,E,t,this.state.context)),E}finally{re(this,jr,ln).call(this,{type:"error",error:E})}}finally{S(this,ut).runNext(this)}}},br=new WeakMap,ut=new WeakMap,gs=new WeakMap,jr=new WeakSet,ln=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Le.batch(()=>{S(this,br).forEach(n=>{n.onMutationUpdate(t)}),S(this,ut).notify({mutation:this,type:"updated",action:t})})},Ny);function l0(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Pt,Ua,Sy,dE=(Sy=class extends Bs{constructor(t={}){super();K(this,Pt);K(this,Ua);this.config=t,D(this,Pt,new Map),D(this,Ua,Date.now())}build(t,r,n){const s=new uE({mutationCache:this,mutationId:++ll(this,Ua)._,options:t.defaultMutationOptions(r),state:n});return this.add(s),s}add(t){const r=_l(t),n=S(this,Pt).get(r)??[];n.push(t),S(this,Pt).set(r,n),this.notify({type:"added",mutation:t})}remove(t){var n;const r=_l(t);if(S(this,Pt).has(r)){const s=(n=S(this,Pt).get(r))==null?void 0:n.filter(i=>i!==t);s&&(s.length===0?S(this,Pt).delete(r):S(this,Pt).set(r,s))}this.notify({type:"removed",mutation:t})}canRun(t){var n;const r=(n=S(this,Pt).get(_l(t)))==null?void 0:n.find(s=>s.state.status==="pending");return!r||r===t}runNext(t){var n;const r=(n=S(this,Pt).get(_l(t)))==null?void 0:n.find(s=>s!==t&&s.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){Le.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...S(this,Pt).values()].flat()}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Ug(r,n))}findAll(t={}){return this.getAll().filter(r=>Ug(t,r))}notify(t){Le.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return Le.batch(()=>Promise.all(t.map(r=>r.continue().catch(Vt))))}},Pt=new WeakMap,Ua=new WeakMap,Sy);function _l(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function Wg(e){return{onFetch:(t,r)=>{var d,f,h,g,v;const n=t.options,s=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,i=((g=t.state.data)==null?void 0:g.pages)||[],a=((v=t.state.data)==null?void 0:v.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let p=!1;const b=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(t.signal.aborted?p=!0:t.signal.addEventListener("abort",()=>{p=!0}),t.signal)})},w=r0(t.options,t.fetchOptions),y=async(x,j,k)=>{if(p)return Promise.reject();if(j==null&&x.pages.length)return Promise.resolve(x);const _={queryKey:t.queryKey,pageParam:j,direction:k?"backward":"forward",meta:t.options.meta};b(_);const N=await w(_),{maxPages:E}=t.options,O=k?rE:tE;return{pages:O(x.pages,N,E),pageParams:O(x.pageParams,j,E)}};if(s&&i.length){const x=s==="backward",j=x?fE:Hg,k={pages:i,pageParams:a},_=j(n,k);l=await y(k,_,x)}else{const x=e??i.length;do{const j=c===0?a[0]??n.initialPageParam:Hg(n,l);if(c>0&&j==null)break;l=await y(l,j),c++}while(c<x)}return l};t.options.persister?t.fetchFn=()=>{var p,b;return(b=(p=t.options).persister)==null?void 0:b.call(p,u,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function Hg(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function fE(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var Ie,yn,xn,$i,Fi,wn,Ui,Bi,ky,hE=(ky=class{constructor(e={}){K(this,Ie);K(this,yn);K(this,xn);K(this,$i);K(this,Fi);K(this,wn);K(this,Ui);K(this,Bi);D(this,Ie,e.queryCache||new cE),D(this,yn,e.mutationCache||new dE),D(this,xn,e.defaultOptions||{}),D(this,$i,new Map),D(this,Fi,new Map),D(this,wn,0)}mount(){ll(this,wn)._++,S(this,wn)===1&&(D(this,Ui,Op.subscribe(async e=>{e&&(await this.resumePausedMutations(),S(this,Ie).onFocus())})),D(this,Bi,Lc.subscribe(async e=>{e&&(await this.resumePausedMutations(),S(this,Ie).onOnline())})))}unmount(){var e,t;ll(this,wn)._--,S(this,wn)===0&&((e=S(this,Ui))==null||e.call(this),D(this,Ui,void 0),(t=S(this,Bi))==null||t.call(this),D(this,Bi,void 0))}isFetching(e){return S(this,Ie).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return S(this,yn).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=S(this,Ie).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const r=this.defaultQueryOptions(e),n=S(this,Ie).build(this,r);return e.revalidateIfStale&&n.isStaleByTime(ki(r.staleTime,n))&&this.prefetchQuery(r),Promise.resolve(t)}}getQueriesData(e){return S(this,Ie).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),s=S(this,Ie).get(n.queryHash),i=s==null?void 0:s.state.data,a=Z_(t,i);if(a!==void 0)return S(this,Ie).build(this,n).setData(a,{...r,manual:!0})}setQueriesData(e,t,r){return Le.batch(()=>S(this,Ie).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=S(this,Ie).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=S(this,Ie);Le.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=S(this,Ie),n={type:"active",...e};return Le.batch(()=>(r.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries(n,t)))}cancelQueries(e={},t={}){const r={revert:!0,...t},n=Le.batch(()=>S(this,Ie).findAll(e).map(s=>s.cancel(r)));return Promise.all(n).then(Vt).catch(Vt)}invalidateQueries(e={},t={}){return Le.batch(()=>{if(S(this,Ie).findAll(e).forEach(n=>{n.invalidate()}),e.refetchType==="none")return Promise.resolve();const r={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(r,t)})}refetchQueries(e={},t){const r={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},n=Le.batch(()=>S(this,Ie).findAll(e).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,r);return r.throwOnError||(i=i.catch(Vt)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(Vt)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=S(this,Ie).build(this,t);return r.isStaleByTime(ki(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Vt).catch(Vt)}fetchInfiniteQuery(e){return e.behavior=Wg(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Vt).catch(Vt)}ensureInfiniteQueryData(e){return e.behavior=Wg(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Lc.isOnline()?S(this,yn).resumePausedMutations():Promise.resolve()}getQueryCache(){return S(this,Ie)}getMutationCache(){return S(this,yn)}getDefaultOptions(){return S(this,xn)}setDefaultOptions(e){D(this,xn,e)}setQueryDefaults(e,t){S(this,$i).set(Ts(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...S(this,$i).values()];let r={};return t.forEach(n=>{Sa(e,n.queryKey)&&(r={...r,...n.defaultOptions})}),r}setMutationDefaults(e,t){S(this,Fi).set(Ts(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...S(this,Fi).values()];let r={};return t.forEach(n=>{Sa(e,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...S(this,xn).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Tp(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===Rp&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...S(this,xn).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){S(this,Ie).clear(),S(this,yn).clear()}},Ie=new WeakMap,yn=new WeakMap,xn=new WeakMap,$i=new WeakMap,Fi=new WeakMap,wn=new WeakMap,Ui=new WeakMap,Bi=new WeakMap,ky),yt,de,Ba,dt,vs,zi,bn,Nr,za,Wi,Hi,ys,xs,jn,Vi,me,Uo,Uf,Bf,zf,Wf,Hf,Vf,qf,c0,_y,Ap=(_y=class extends Bs{constructor(t,r){super();K(this,me);K(this,yt);K(this,de);K(this,Ba);K(this,dt);K(this,vs);K(this,zi);K(this,bn);K(this,Nr);K(this,za);K(this,Wi);K(this,Hi);K(this,ys);K(this,xs);K(this,jn);K(this,Vi,new Set);this.options=r,D(this,yt,t),D(this,Nr,null),D(this,bn,Ff()),this.options.experimental_prefetchInRender||S(this,bn).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(S(this,de).addObserver(this),Vg(S(this,de),this.options)?re(this,me,Uo).call(this):this.updateResult(),re(this,me,Wf).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Kf(S(this,de),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Kf(S(this,de),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,re(this,me,Hf).call(this),re(this,me,Vf).call(this),S(this,de).removeObserver(this)}setOptions(t,r){const n=this.options,s=S(this,de);if(this.options=S(this,yt).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof cr(this.options.enabled,S(this,de))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");re(this,me,qf).call(this),S(this,de).setOptions(this.options),n._defaulted&&!Dc(this.options,n)&&S(this,yt).getQueryCache().notify({type:"observerOptionsUpdated",query:S(this,de),observer:this});const i=this.hasListeners();i&&qg(S(this,de),s,this.options,n)&&re(this,me,Uo).call(this),this.updateResult(r),i&&(S(this,de)!==s||cr(this.options.enabled,S(this,de))!==cr(n.enabled,S(this,de))||ki(this.options.staleTime,S(this,de))!==ki(n.staleTime,S(this,de)))&&re(this,me,Uf).call(this);const a=re(this,me,Bf).call(this);i&&(S(this,de)!==s||cr(this.options.enabled,S(this,de))!==cr(n.enabled,S(this,de))||a!==S(this,jn))&&re(this,me,zf).call(this,a)}getOptimisticResult(t){const r=S(this,yt).getQueryCache().build(S(this,yt),t),n=this.createResult(r,t);return mE(this,n)&&(D(this,dt,n),D(this,zi,this.options),D(this,vs,S(this,de).state)),n}getCurrentResult(){return S(this,dt)}trackResult(t,r){const n={};return Object.keys(t).forEach(s=>{Object.defineProperty(n,s,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(s),r==null||r(s),t[s])})}),n}trackProp(t){S(this,Vi).add(t)}getCurrentQuery(){return S(this,de)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=S(this,yt).defaultQueryOptions(t),n=S(this,yt).getQueryCache().build(S(this,yt),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return re(this,me,Uo).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),S(this,dt)))}createResult(t,r){var E;const n=S(this,de),s=this.options,i=S(this,dt),a=S(this,vs),l=S(this,zi),u=t!==n?t.state:S(this,Ba),{state:d}=t;let f={...d},h=!1,g;if(r._optimisticResults){const O=this.hasListeners(),A=!O&&Vg(t,r),$=O&&qg(t,n,r,s);(A||$)&&(f={...f,...a0(d.data,t.options)}),r._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:v,errorUpdatedAt:p,status:b}=f;if(r.select&&f.data!==void 0)if(i&&f.data===(a==null?void 0:a.data)&&r.select===S(this,za))g=S(this,Wi);else try{D(this,za,r.select),g=r.select(f.data),g=$f(i==null?void 0:i.data,g,r),D(this,Wi,g),D(this,Nr,null)}catch(O){D(this,Nr,O)}else g=f.data;if(r.placeholderData!==void 0&&g===void 0&&b==="pending"){let O;if(i!=null&&i.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData))O=i.data;else if(O=typeof r.placeholderData=="function"?r.placeholderData((E=S(this,Hi))==null?void 0:E.state.data,S(this,Hi)):r.placeholderData,r.select&&O!==void 0)try{O=r.select(O),D(this,Nr,null)}catch(A){D(this,Nr,A)}O!==void 0&&(b="success",g=$f(i==null?void 0:i.data,O,r),h=!0)}S(this,Nr)&&(v=S(this,Nr),g=S(this,Wi),p=Date.now(),b="error");const w=f.fetchStatus==="fetching",y=b==="pending",x=b==="error",j=y&&w,k=g!==void 0,N={status:b,fetchStatus:f.fetchStatus,isPending:y,isSuccess:b==="success",isError:x,isInitialLoading:j,isLoading:j,data:g,dataUpdatedAt:f.dataUpdatedAt,error:v,errorUpdatedAt:p,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:w,isRefetching:w&&!y,isLoadingError:x&&!k,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:x&&k,isStale:Ip(t,r),refetch:this.refetch,promise:S(this,bn)};if(this.options.experimental_prefetchInRender){const O=L=>{N.status==="error"?L.reject(N.error):N.data!==void 0&&L.resolve(N.data)},A=()=>{const L=D(this,bn,N.promise=Ff());O(L)},$=S(this,bn);switch($.status){case"pending":t.queryHash===n.queryHash&&O($);break;case"fulfilled":(N.status==="error"||N.data!==$.value)&&A();break;case"rejected":(N.status!=="error"||N.error!==$.reason)&&A();break}}return N}updateResult(t){const r=S(this,dt),n=this.createResult(S(this,de),this.options);if(D(this,vs,S(this,de).state),D(this,zi,this.options),S(this,vs).data!==void 0&&D(this,Hi,S(this,de)),Dc(n,r))return;D(this,dt,n);const s={},i=()=>{if(!r)return!0;const{notifyOnChangeProps:a}=this.options,l=typeof a=="function"?a():a;if(l==="all"||!l&&!S(this,Vi).size)return!0;const c=new Set(l??S(this,Vi));return this.options.throwOnError&&c.add("error"),Object.keys(S(this,dt)).some(u=>{const d=u;return S(this,dt)[d]!==r[d]&&c.has(d)})};(t==null?void 0:t.listeners)!==!1&&i()&&(s.listeners=!0),re(this,me,c0).call(this,{...s,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&re(this,me,Wf).call(this)}},yt=new WeakMap,de=new WeakMap,Ba=new WeakMap,dt=new WeakMap,vs=new WeakMap,zi=new WeakMap,bn=new WeakMap,Nr=new WeakMap,za=new WeakMap,Wi=new WeakMap,Hi=new WeakMap,ys=new WeakMap,xs=new WeakMap,jn=new WeakMap,Vi=new WeakMap,me=new WeakSet,Uo=function(t){re(this,me,qf).call(this);let r=S(this,de).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(Vt)),r},Uf=function(){re(this,me,Hf).call(this);const t=ki(this.options.staleTime,S(this,de));if(Cs||S(this,dt).isStale||!Df(t))return;const n=t0(S(this,dt).dataUpdatedAt,t)+1;D(this,ys,setTimeout(()=>{S(this,dt).isStale||this.updateResult()},n))},Bf=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(S(this,de)):this.options.refetchInterval)??!1},zf=function(t){re(this,me,Vf).call(this),D(this,jn,t),!(Cs||cr(this.options.enabled,S(this,de))===!1||!Df(S(this,jn))||S(this,jn)===0)&&D(this,xs,setInterval(()=>{(this.options.refetchIntervalInBackground||Op.isFocused())&&re(this,me,Uo).call(this)},S(this,jn)))},Wf=function(){re(this,me,Uf).call(this),re(this,me,zf).call(this,re(this,me,Bf).call(this))},Hf=function(){S(this,ys)&&(clearTimeout(S(this,ys)),D(this,ys,void 0))},Vf=function(){S(this,xs)&&(clearInterval(S(this,xs)),D(this,xs,void 0))},qf=function(){const t=S(this,yt).getQueryCache().build(S(this,yt),this.options);if(t===S(this,de))return;const r=S(this,de);D(this,de,t),D(this,Ba,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},c0=function(t){Le.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(S(this,dt))}),S(this,yt).getQueryCache().notify({query:S(this,de),type:"observerResultsUpdated"})})},_y);function pE(e,t){return cr(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Vg(e,t){return pE(e,t)||e.state.data!==void 0&&Kf(e,t,t.refetchOnMount)}function Kf(e,t,r){if(cr(t.enabled,e)!==!1){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&Ip(e,t)}return!1}function qg(e,t,r,n){return(e!==t||cr(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&Ip(e,r)}function Ip(e,t){return cr(t.enabled,e)!==!1&&e.isStaleByTime(ki(t.staleTime,e))}function mE(e,t){return!Dc(e.getCurrentResult(),t)}function Kg(e,t){return e.filter(r=>!t.includes(r))}function gE(e,t,r){const n=e.slice(0);return n[t]=r,n}var qi,Ht,ws,Ki,Rt,Nn,Wa,Ha,Ye,Gf,Qf,tc,Yf,Jf,Ey,vE=(Ey=class extends Bs{constructor(t,r,n){super();K(this,Ye);K(this,qi);K(this,Ht);K(this,ws);K(this,Ki);K(this,Rt);K(this,Nn);K(this,Wa);K(this,Ha);D(this,qi,t),D(this,Ki,n),D(this,ws,[]),D(this,Rt,[]),D(this,Ht,[]),this.setQueries(r)}onSubscribe(){this.listeners.size===1&&S(this,Rt).forEach(t=>{t.subscribe(r=>{re(this,Ye,Yf).call(this,t,r)})})}onUnsubscribe(){this.listeners.size||this.destroy()}destroy(){this.listeners=new Set,S(this,Rt).forEach(t=>{t.destroy()})}setQueries(t,r,n){D(this,ws,t),D(this,Ki,r),Le.batch(()=>{const s=S(this,Rt),i=re(this,Ye,tc).call(this,S(this,ws));i.forEach(u=>u.observer.setOptions(u.defaultedQueryOptions,n));const a=i.map(u=>u.observer),l=a.map(u=>u.getCurrentResult()),c=a.some((u,d)=>u!==s[d]);s.length===a.length&&!c||(D(this,Rt,a),D(this,Ht,l),this.hasListeners()&&(Kg(s,a).forEach(u=>{u.destroy()}),Kg(a,s).forEach(u=>{u.subscribe(d=>{re(this,Ye,Yf).call(this,u,d)})}),re(this,Ye,Jf).call(this)))})}getCurrentResult(){return S(this,Ht)}getQueries(){return S(this,Rt).map(t=>t.getCurrentQuery())}getObservers(){return S(this,Rt)}getOptimisticResult(t,r){const s=re(this,Ye,tc).call(this,t).map(i=>i.observer.getOptimisticResult(i.defaultedQueryOptions));return[s,i=>re(this,Ye,Qf).call(this,i??s,r),()=>re(this,Ye,Gf).call(this,s,t)]}},qi=new WeakMap,Ht=new WeakMap,ws=new WeakMap,Ki=new WeakMap,Rt=new WeakMap,Nn=new WeakMap,Wa=new WeakMap,Ha=new WeakMap,Ye=new WeakSet,Gf=function(t,r){const n=re(this,Ye,tc).call(this,r);return n.map((s,i)=>{const a=t[i];return s.defaultedQueryOptions.notifyOnChangeProps?a:s.observer.trackResult(a,l=>{n.forEach(c=>{c.observer.trackProp(l)})})})},Qf=function(t,r){return r?((!S(this,Nn)||S(this,Ht)!==S(this,Ha)||r!==S(this,Wa))&&(D(this,Wa,r),D(this,Ha,S(this,Ht)),D(this,Nn,Pp(S(this,Nn),r(t)))),S(this,Nn)):t},tc=function(t){const r=new Map(S(this,Rt).map(s=>[s.options.queryHash,s])),n=[];return t.forEach(s=>{const i=S(this,qi).defaultQueryOptions(s),a=r.get(i.queryHash);if(a)n.push({defaultedQueryOptions:i,observer:a});else{const l=S(this,Rt).find(c=>c.options.queryHash===i.queryHash);n.push({defaultedQueryOptions:i,observer:l??new Ap(S(this,qi),i)})}}),n.sort((s,i)=>t.findIndex(a=>a.queryHash===s.defaultedQueryOptions.queryHash)-t.findIndex(a=>a.queryHash===i.defaultedQueryOptions.queryHash))},Yf=function(t,r){const n=S(this,Rt).indexOf(t);n!==-1&&(D(this,Ht,gE(S(this,Ht),n,r)),re(this,Ye,Jf).call(this))},Jf=function(){var t;if(this.hasListeners()){const r=S(this,Nn),n=re(this,Ye,Qf).call(this,re(this,Ye,Gf).call(this,S(this,Ht),S(this,ws)),(t=S(this,Ki))==null?void 0:t.combine);r!==n&&Le.batch(()=>{this.listeners.forEach(s=>{s(S(this,Ht))})})}},Ey),Sn,kn,xt,Ur,Vr,rc,Xf,Cy,yE=(Cy=class extends Bs{constructor(r,n){super();K(this,Vr);K(this,Sn);K(this,kn);K(this,xt);K(this,Ur);D(this,Sn,r),this.setOptions(n),this.bindMethods(),re(this,Vr,rc).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var s;const n=this.options;this.options=S(this,Sn).defaultMutationOptions(r),Dc(this.options,n)||S(this,Sn).getMutationCache().notify({type:"observerOptionsUpdated",mutation:S(this,xt),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&Ts(n.mutationKey)!==Ts(this.options.mutationKey)?this.reset():((s=S(this,xt))==null?void 0:s.state.status)==="pending"&&S(this,xt).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=S(this,xt))==null||r.removeObserver(this)}onMutationUpdate(r){re(this,Vr,rc).call(this),re(this,Vr,Xf).call(this,r)}getCurrentResult(){return S(this,kn)}reset(){var r;(r=S(this,xt))==null||r.removeObserver(this),D(this,xt,void 0),re(this,Vr,rc).call(this),re(this,Vr,Xf).call(this)}mutate(r,n){var s;return D(this,Ur,n),(s=S(this,xt))==null||s.removeObserver(this),D(this,xt,S(this,Sn).getMutationCache().build(S(this,Sn),this.options)),S(this,xt).addObserver(this),S(this,xt).execute(r)}},Sn=new WeakMap,kn=new WeakMap,xt=new WeakMap,Ur=new WeakMap,Vr=new WeakSet,rc=function(){var n;const r=((n=S(this,xt))==null?void 0:n.state)??l0();D(this,kn,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},Xf=function(r){Le.batch(()=>{var n,s,i,a,l,c,u,d;if(S(this,Ur)&&this.hasListeners()){const f=S(this,kn).variables,h=S(this,kn).context;(r==null?void 0:r.type)==="success"?((s=(n=S(this,Ur)).onSuccess)==null||s.call(n,r.data,f,h),(a=(i=S(this,Ur)).onSettled)==null||a.call(i,r.data,null,f,h)):(r==null?void 0:r.type)==="error"&&((c=(l=S(this,Ur)).onError)==null||c.call(l,r.error,f,h),(d=(u=S(this,Ur)).onSettled)==null||d.call(u,void 0,r.error,f,h))}this.listeners.forEach(f=>{f(S(this,kn))})})},Cy),u0=m.createContext(void 0),Rr=e=>{const t=m.useContext(u0);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},xE=({client:e,children:t})=>(m.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),o.jsx(u0.Provider,{value:e,children:t})),d0=m.createContext(!1),f0=()=>m.useContext(d0);d0.Provider;function wE(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var bE=m.createContext(wE()),h0=()=>m.useContext(bE);function p0(e,t){return typeof e=="function"?e(...t):!!e}function $c(){}var m0=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},g0=e=>{m.useEffect(()=>{e.clearReset()},[e])},v0=({result:e,errorResetBoundary:t,throwOnError:r,query:n})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&p0(r,[e.error,n]),y0=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},x0=(e,t)=>e.isLoading&&e.isFetching&&!t,Zf=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,Fc=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function jE({queries:e,...t},r){const n=Rr(),s=f0(),i=h0(),a=m.useMemo(()=>e.map(v=>{const p=n.defaultQueryOptions(v);return p._optimisticResults=s?"isRestoring":"optimistic",p}),[e,n,s]);a.forEach(v=>{y0(v),m0(v,i)}),g0(i);const[l]=m.useState(()=>new vE(n,a,t)),[c,u,d]=l.getOptimisticResult(a,t.combine);m.useSyncExternalStore(m.useCallback(v=>s?$c:l.subscribe(Le.batchCalls(v)),[l,s]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),m.useEffect(()=>{l.setQueries(a,t,{listeners:!1})},[a,t,l]);const h=c.some((v,p)=>Zf(a[p],v))?c.flatMap((v,p)=>{const b=a[p];if(b){const w=new Ap(n,b);if(Zf(b,v))return Fc(b,w,i);x0(v,s)&&Fc(b,w,i)}return[]}):[];if(h.length>0)throw Promise.all(h);const g=c.find((v,p)=>{const b=a[p];return b&&v0({result:v,errorResetBoundary:i,throwOnError:b.throwOnError,query:n.getQueryCache().get(b.queryHash)})});if(g!=null&&g.error)throw g.error;return u(d())}function NE(e,t,r){var d,f,h,g,v;const n=Rr(),s=f0(),i=h0(),a=n.defaultQueryOptions(e);(f=(d=n.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||f.call(d,a),a._optimisticResults=s?"isRestoring":"optimistic",y0(a),m0(a,i),g0(i);const l=!n.getQueryCache().get(a.queryHash),[c]=m.useState(()=>new t(n,a)),u=c.getOptimisticResult(a);if(m.useSyncExternalStore(m.useCallback(p=>{const b=s?$c:c.subscribe(Le.batchCalls(p));return c.updateResult(),b},[c,s]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),m.useEffect(()=>{c.setOptions(a,{listeners:!1})},[a,c]),Zf(a,u))throw Fc(a,c,i);if(v0({result:u,errorResetBoundary:i,throwOnError:a.throwOnError,query:n.getQueryCache().get(a.queryHash)}))throw u.error;if((g=(h=n.getDefaultOptions().queries)==null?void 0:h._experimental_afterQuery)==null||g.call(h,a,u),a.experimental_prefetchInRender&&!Cs&&x0(u,s)){const p=l?Fc(a,c,i):(v=n.getQueryCache().get(a.queryHash))==null?void 0:v.promise;p==null||p.catch($c).finally(()=>{c.updateResult()})}return a.notifyOnChangeProps?u:c.trackResult(u)}function Ce(e,t){return NE(e,Ap)}function lt(e,t){const r=Rr(),[n]=m.useState(()=>new yE(r,e));m.useEffect(()=>{n.setOptions(e)},[n,e]);const s=m.useSyncExternalStore(m.useCallback(a=>n.subscribe(Le.batchCalls(a)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=m.useCallback((a,l)=>{n.mutate(a,l).catch($c)},[n]);if(s.error&&p0(n.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}const w0="https://turf-production-66ec.up.railway.app";async function b0(e){if(!e.ok){const t=await e.text()||e.statusText;throw new Error(`${e.status}: ${t}`)}}async function Qt(e,t,r){const n=await fetch(`${w0}${t}`,{method:e,headers:r?{"Content-Type":"application/json"}:{},body:r?JSON.stringify(r):void 0,credentials:"include"});return await b0(n),n}const SE=({on401:e})=>async({queryKey:t})=>{const r=t[0].startsWith("http")?t.join("/"):`${w0}${t.join("/")}`,n=await fetch(r,{credentials:"include"});return e==="returnNull"&&n.status===401?null:(await b0(n),await n.json())},kE=new hE({defaultOptions:{queries:{queryFn:SE({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),_E=1,EE=1e6;let vd=0;function CE(){return vd=(vd+1)%Number.MAX_SAFE_INTEGER,vd.toString()}const yd=new Map,Gg=e=>{if(yd.has(e))return;const t=setTimeout(()=>{yd.delete(e),Xo({type:"REMOVE_TOAST",toastId:e})},EE);yd.set(e,t)},TE=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,_E)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?Gg(r):e.toasts.forEach(n=>{Gg(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},nc=[];let sc={toasts:[]};function Xo(e){sc=TE(sc,e),nc.forEach(t=>{t(sc)})}function PE({...e}){const t=CE(),r=s=>Xo({type:"UPDATE_TOAST",toast:{...s,id:t}}),n=()=>Xo({type:"DISMISS_TOAST",toastId:t});return Xo({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||n()}}}),{id:t,dismiss:n,update:r}}function Zr(){const[e,t]=m.useState(sc);return m.useEffect(()=>(nc.push(t),()=>{const r=nc.indexOf(t);r>-1&&nc.splice(r,1)}),[e]),{...e,toast:PE,dismiss:r=>Xo({type:"DISMISS_TOAST",toastId:r})}}function X(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function Qg(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Ps(...e){return t=>{let r=!1;const n=e.map(s=>{const i=Qg(s,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let s=0;s<n.length;s++){const i=n[s];typeof i=="function"?i():Qg(e[s],null)}}}}function we(...e){return m.useCallback(Ps(...e),e)}function RE(e,t){const r=m.createContext(t),n=i=>{const{children:a,...l}=i,c=m.useMemo(()=>l,Object.values(l));return o.jsx(r.Provider,{value:c,children:a})};n.displayName=e+"Provider";function s(i){const a=m.useContext(r);if(a)return a;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,s]}function Or(e,t=[]){let r=[];function n(i,a){const l=m.createContext(a),c=r.length;r=[...r,a];const u=f=>{var w;const{scope:h,children:g,...v}=f,p=((w=h==null?void 0:h[e])==null?void 0:w[c])||l,b=m.useMemo(()=>v,Object.values(v));return o.jsx(p.Provider,{value:b,children:g})};u.displayName=i+"Provider";function d(f,h){var p;const g=((p=h==null?void 0:h[e])==null?void 0:p[c])||l,v=m.useContext(g);if(v)return v;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=r.map(a=>m.createContext(a));return function(l){const c=(l==null?void 0:l[e])||i;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,OE(s,...t)]}function OE(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const a=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return r.scopeName=t.scopeName,r}function Rs(e){const t=IE(e),r=m.forwardRef((n,s)=>{const{children:i,...a}=n,l=m.Children.toArray(i),c=l.find(DE);if(c){const u=c.props.children,d=l.map(f=>f===c?m.Children.count(u)>1?m.Children.only(null):m.isValidElement(u)?u.props.children:null:f);return o.jsx(t,{...a,ref:s,children:m.isValidElement(u)?m.cloneElement(u,void 0,d):null})}return o.jsx(t,{...a,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}var AE=Rs("Slot");function IE(e){const t=m.forwardRef((r,n)=>{const{children:s,...i}=r;if(m.isValidElement(s)){const a=$E(s),l=LE(i,s.props);return s.type!==m.Fragment&&(l.ref=n?Ps(n,a):a),m.cloneElement(s,l)}return m.Children.count(s)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var j0=Symbol("radix.slottable");function ME(e){const t=({children:r})=>o.jsx(o.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=j0,t}function DE(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===j0}function LE(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{i(...l),s(...l)}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function $E(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Mp(e){const t=e+"CollectionProvider",[r,n]=Or(t),[s,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),a=p=>{const{scope:b,children:w}=p,y=be.useRef(null),x=be.useRef(new Map).current;return o.jsx(s,{scope:b,itemMap:x,collectionRef:y,children:w})};a.displayName=t;const l=e+"CollectionSlot",c=Rs(l),u=be.forwardRef((p,b)=>{const{scope:w,children:y}=p,x=i(l,w),j=we(b,x.collectionRef);return o.jsx(c,{ref:j,children:y})});u.displayName=l;const d=e+"CollectionItemSlot",f="data-radix-collection-item",h=Rs(d),g=be.forwardRef((p,b)=>{const{scope:w,children:y,...x}=p,j=be.useRef(null),k=we(b,j),_=i(d,w);return be.useEffect(()=>(_.itemMap.set(j,{ref:j,...x}),()=>void _.itemMap.delete(j))),o.jsx(h,{[f]:"",ref:k,children:y})});g.displayName=d;function v(p){const b=i(e+"CollectionConsumer",p);return be.useCallback(()=>{const y=b.collectionRef.current;if(!y)return[];const x=Array.from(y.querySelectorAll(`[${f}]`));return Array.from(b.itemMap.values()).sort((_,N)=>x.indexOf(_.ref.current)-x.indexOf(N.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:a,Slot:u,ItemSlot:g},v,n]}var FE=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],ee=FE.reduce((e,t)=>{const r=Rs(`Primitive.${t}`),n=m.forwardRef((s,i)=>{const{asChild:a,...l}=s,c=a?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function N0(e,t){e&&Us.flushSync(()=>e.dispatchEvent(t))}function mt(e){const t=m.useRef(e);return m.useEffect(()=>{t.current=e}),m.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function UE(e,t=globalThis==null?void 0:globalThis.document){const r=mt(e);m.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var BE="DismissableLayer",eh="dismissableLayer.update",zE="dismissableLayer.pointerDownOutside",WE="dismissableLayer.focusOutside",Yg,S0=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),lo=m.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:a,onDismiss:l,...c}=e,u=m.useContext(S0),[d,f]=m.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=m.useState({}),v=we(t,N=>f(N)),p=Array.from(u.layers),[b]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),w=p.indexOf(b),y=d?p.indexOf(d):-1,x=u.layersWithOutsidePointerEventsDisabled.size>0,j=y>=w,k=VE(N=>{const E=N.target,O=[...u.branches].some(A=>A.contains(E));!j||O||(s==null||s(N),a==null||a(N),N.defaultPrevented||l==null||l())},h),_=qE(N=>{const E=N.target;[...u.branches].some(A=>A.contains(E))||(i==null||i(N),a==null||a(N),N.defaultPrevented||l==null||l())},h);return UE(N=>{y===u.layers.size-1&&(n==null||n(N),!N.defaultPrevented&&l&&(N.preventDefault(),l()))},h),m.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Yg=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),Jg(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=Yg)}},[d,h,r,u]),m.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),Jg())},[d,u]),m.useEffect(()=>{const N=()=>g({});return document.addEventListener(eh,N),()=>document.removeEventListener(eh,N)},[]),o.jsx(ee.div,{...c,ref:v,style:{pointerEvents:x?j?"auto":"none":void 0,...e.style},onFocusCapture:X(e.onFocusCapture,_.onFocusCapture),onBlurCapture:X(e.onBlurCapture,_.onBlurCapture),onPointerDownCapture:X(e.onPointerDownCapture,k.onPointerDownCapture)})});lo.displayName=BE;var HE="DismissableLayerBranch",k0=m.forwardRef((e,t)=>{const r=m.useContext(S0),n=m.useRef(null),s=we(t,n);return m.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),o.jsx(ee.div,{...e,ref:s})});k0.displayName=HE;function VE(e,t=globalThis==null?void 0:globalThis.document){const r=mt(e),n=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let c=function(){_0(zE,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);n.current=!1},a=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(a),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function qE(e,t=globalThis==null?void 0:globalThis.document){const r=mt(e),n=m.useRef(!1);return m.useEffect(()=>{const s=i=>{i.target&&!n.current&&_0(WE,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Jg(){const e=new CustomEvent(eh);document.dispatchEvent(e)}function _0(e,t,r,{discrete:n}){const s=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?N0(s,i):s.dispatchEvent(i)}var KE=lo,GE=k0,qe=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},QE="Portal",Ja=m.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[s,i]=m.useState(!1);qe(()=>i(!0),[]);const a=r||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return a?N_.createPortal(o.jsx(ee.div,{...n,ref:t}),a):null});Ja.displayName=QE;function YE(e,t){return m.useReducer((r,n)=>t[r][n]??r,e)}var en=e=>{const{present:t,children:r}=e,n=JE(t),s=typeof r=="function"?r({present:n.isPresent}):m.Children.only(r),i=we(n.ref,XE(s));return typeof r=="function"||n.isPresent?m.cloneElement(s,{ref:i}):null};en.displayName="Presence";function JE(e){const[t,r]=m.useState(),n=m.useRef({}),s=m.useRef(e),i=m.useRef("none"),a=e?"mounted":"unmounted",[l,c]=YE(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const u=El(n.current);i.current=l==="mounted"?u:"none"},[l]),qe(()=>{const u=n.current,d=s.current;if(d!==e){const h=i.current,g=El(u);e?c("MOUNT"):g==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),qe(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=g=>{const p=El(n.current).includes(g.animationName);if(g.target===t&&p&&(c("ANIMATION_END"),!s.current)){const b=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=b)})}},h=g=>{g.target===t&&(i.current=El(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:m.useCallback(u=>{u&&(n.current=getComputedStyle(u)),r(u)},[])}}function El(e){return(e==null?void 0:e.animationName)||"none"}function XE(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Os({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,s]=ZE({defaultProp:t,onChange:r}),i=e!==void 0,a=i?e:n,l=mt(r),c=m.useCallback(u=>{if(i){const f=typeof u=="function"?u(e):u;f!==e&&l(f)}else s(u)},[i,e,s,l]);return[a,c]}function ZE({defaultProp:e,onChange:t}){const r=m.useState(e),[n]=r,s=m.useRef(n),i=mt(t);return m.useEffect(()=>{s.current!==n&&(i(n),s.current=n)},[n,s,i]),r}var eC="VisuallyHidden",Xa=m.forwardRef((e,t)=>o.jsx(ee.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));Xa.displayName=eC;var tC=Xa,Dp="ToastProvider",[Lp,rC,nC]=Mp("Toast"),[E0,c3]=Or("Toast",[nC]),[sC,vu]=E0(Dp),C0=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:a}=e,[l,c]=m.useState(null),[u,d]=m.useState(0),f=m.useRef(!1),h=m.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${Dp}\`. Expected non-empty \`string\`.`),o.jsx(Lp.Provider,{scope:t,children:o.jsx(sC,{scope:t,label:r,duration:n,swipeDirection:s,swipeThreshold:i,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:m.useCallback(()=>d(g=>g+1),[]),onToastRemove:m.useCallback(()=>d(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:a})})};C0.displayName=Dp;var T0="ToastViewport",iC=["F8"],th="toast.viewportPause",rh="toast.viewportResume",P0=m.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=iC,label:s="Notifications ({hotkey})",...i}=e,a=vu(T0,r),l=rC(r),c=m.useRef(null),u=m.useRef(null),d=m.useRef(null),f=m.useRef(null),h=we(t,f,a.onViewportChange),g=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=a.toastCount>0;m.useEffect(()=>{const b=w=>{var x;n.length!==0&&n.every(j=>w[j]||w.code===j)&&((x=f.current)==null||x.focus())};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[n]),m.useEffect(()=>{const b=c.current,w=f.current;if(v&&b&&w){const y=()=>{if(!a.isClosePausedRef.current){const _=new CustomEvent(th);w.dispatchEvent(_),a.isClosePausedRef.current=!0}},x=()=>{if(a.isClosePausedRef.current){const _=new CustomEvent(rh);w.dispatchEvent(_),a.isClosePausedRef.current=!1}},j=_=>{!b.contains(_.relatedTarget)&&x()},k=()=>{b.contains(document.activeElement)||x()};return b.addEventListener("focusin",y),b.addEventListener("focusout",j),b.addEventListener("pointermove",y),b.addEventListener("pointerleave",k),window.addEventListener("blur",y),window.addEventListener("focus",x),()=>{b.removeEventListener("focusin",y),b.removeEventListener("focusout",j),b.removeEventListener("pointermove",y),b.removeEventListener("pointerleave",k),window.removeEventListener("blur",y),window.removeEventListener("focus",x)}}},[v,a.isClosePausedRef]);const p=m.useCallback(({tabbingDirection:b})=>{const y=l().map(x=>{const j=x.ref.current,k=[j,...yC(j)];return b==="forwards"?k:k.reverse()});return(b==="forwards"?y.reverse():y).flat()},[l]);return m.useEffect(()=>{const b=f.current;if(b){const w=y=>{var k,_,N;const x=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!x){const E=document.activeElement,O=y.shiftKey;if(y.target===b&&O){(k=u.current)==null||k.focus();return}const L=p({tabbingDirection:O?"backwards":"forwards"}),P=L.findIndex(C=>C===E);xd(L.slice(P+1))?y.preventDefault():O?(_=u.current)==null||_.focus():(N=d.current)==null||N.focus()}};return b.addEventListener("keydown",w),()=>b.removeEventListener("keydown",w)}},[l,p]),o.jsxs(GE,{ref:c,role:"region","aria-label":s.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&o.jsx(nh,{ref:u,onFocusFromOutsideViewport:()=>{const b=p({tabbingDirection:"forwards"});xd(b)}}),o.jsx(Lp.Slot,{scope:r,children:o.jsx(ee.ol,{tabIndex:-1,...i,ref:h})}),v&&o.jsx(nh,{ref:d,onFocusFromOutsideViewport:()=>{const b=p({tabbingDirection:"backwards"});xd(b)}})]})});P0.displayName=T0;var R0="ToastFocusProxy",nh=m.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...s}=e,i=vu(R0,r);return o.jsx(Xa,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:a=>{var u;const l=a.relatedTarget;!((u=i.viewport)!=null&&u.contains(l))&&n()}})});nh.displayName=R0;var yu="Toast",oC="toast.swipeStart",aC="toast.swipeMove",lC="toast.swipeCancel",cC="toast.swipeEnd",O0=m.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:s,onOpenChange:i,...a}=e,[l=!0,c]=Os({prop:n,defaultProp:s,onChange:i});return o.jsx(en,{present:r||l,children:o.jsx(fC,{open:l,...a,ref:t,onClose:()=>c(!1),onPause:mt(e.onPause),onResume:mt(e.onResume),onSwipeStart:X(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:X(e.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:X(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:X(e.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});O0.displayName=yu;var[uC,dC]=E0(yu,{onClose(){}}),fC=m.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:s,open:i,onClose:a,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:g,...v}=e,p=vu(yu,r),[b,w]=m.useState(null),y=we(t,C=>w(C)),x=m.useRef(null),j=m.useRef(null),k=s||p.duration,_=m.useRef(0),N=m.useRef(k),E=m.useRef(0),{onToastAdd:O,onToastRemove:A}=p,$=mt(()=>{var F;(b==null?void 0:b.contains(document.activeElement))&&((F=p.viewport)==null||F.focus()),a()}),L=m.useCallback(C=>{!C||C===1/0||(window.clearTimeout(E.current),_.current=new Date().getTime(),E.current=window.setTimeout($,C))},[$]);m.useEffect(()=>{const C=p.viewport;if(C){const F=()=>{L(N.current),u==null||u()},B=()=>{const J=new Date().getTime()-_.current;N.current=N.current-J,window.clearTimeout(E.current),c==null||c()};return C.addEventListener(th,B),C.addEventListener(rh,F),()=>{C.removeEventListener(th,B),C.removeEventListener(rh,F)}}},[p.viewport,k,c,u,L]),m.useEffect(()=>{i&&!p.isClosePausedRef.current&&L(k)},[i,k,p.isClosePausedRef,L]),m.useEffect(()=>(O(),()=>A()),[O,A]);const P=m.useMemo(()=>b?F0(b):null,[b]);return p.viewport?o.jsxs(o.Fragment,{children:[P&&o.jsx(hC,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:P}),o.jsx(uC,{scope:r,onClose:$,children:Us.createPortal(o.jsx(Lp.ItemSlot,{scope:r,children:o.jsx(KE,{asChild:!0,onEscapeKeyDown:X(l,()=>{p.isFocusedToastEscapeKeyDownRef.current||$(),p.isFocusedToastEscapeKeyDownRef.current=!1}),children:o.jsx(ee.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":p.swipeDirection,...v,ref:y,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:X(e.onKeyDown,C=>{C.key==="Escape"&&(l==null||l(C.nativeEvent),C.nativeEvent.defaultPrevented||(p.isFocusedToastEscapeKeyDownRef.current=!0,$()))}),onPointerDown:X(e.onPointerDown,C=>{C.button===0&&(x.current={x:C.clientX,y:C.clientY})}),onPointerMove:X(e.onPointerMove,C=>{if(!x.current)return;const F=C.clientX-x.current.x,B=C.clientY-x.current.y,J=!!j.current,T=["left","right"].includes(p.swipeDirection),M=["left","up"].includes(p.swipeDirection)?Math.min:Math.max,z=T?M(0,F):0,te=T?0:M(0,B),R=C.pointerType==="touch"?10:2,V={x:z,y:te},Z={originalEvent:C,delta:V};J?(j.current=V,Cl(aC,f,Z,{discrete:!1})):Xg(V,p.swipeDirection,R)?(j.current=V,Cl(oC,d,Z,{discrete:!1}),C.target.setPointerCapture(C.pointerId)):(Math.abs(F)>R||Math.abs(B)>R)&&(x.current=null)}),onPointerUp:X(e.onPointerUp,C=>{const F=j.current,B=C.target;if(B.hasPointerCapture(C.pointerId)&&B.releasePointerCapture(C.pointerId),j.current=null,x.current=null,F){const J=C.currentTarget,T={originalEvent:C,delta:F};Xg(F,p.swipeDirection,p.swipeThreshold)?Cl(cC,g,T,{discrete:!0}):Cl(lC,h,T,{discrete:!0}),J.addEventListener("click",M=>M.preventDefault(),{once:!0})}})})})}),p.viewport)})]}):null}),hC=e=>{const{__scopeToast:t,children:r,...n}=e,s=vu(yu,t),[i,a]=m.useState(!1),[l,c]=m.useState(!1);return gC(()=>a(!0)),m.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:o.jsx(Ja,{asChild:!0,children:o.jsx(Xa,{...n,children:i&&o.jsxs(o.Fragment,{children:[s.label," ",r]})})})},pC="ToastTitle",A0=m.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return o.jsx(ee.div,{...n,ref:t})});A0.displayName=pC;var mC="ToastDescription",I0=m.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return o.jsx(ee.div,{...n,ref:t})});I0.displayName=mC;var M0="ToastAction",D0=m.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?o.jsx($0,{altText:r,asChild:!0,children:o.jsx($p,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${M0}\`. Expected non-empty \`string\`.`),null)});D0.displayName=M0;var L0="ToastClose",$p=m.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,s=dC(L0,r);return o.jsx($0,{asChild:!0,children:o.jsx(ee.button,{type:"button",...n,ref:t,onClick:X(e.onClick,s.onClose)})})});$p.displayName=L0;var $0=m.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...s}=e;return o.jsx(ee.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...s,ref:t})});function F0(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),vC(n)){const s=n.ariaHidden||n.hidden||n.style.display==="none",i=n.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const a=n.dataset.radixToastAnnounceAlt;a&&t.push(a)}else t.push(...F0(n))}}),t}function Cl(e,t,r,{discrete:n}){const s=r.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?N0(s,i):s.dispatchEvent(i)}var Xg=(e,t,r=0)=>{const n=Math.abs(e.x),s=Math.abs(e.y),i=n>s;return t==="left"||t==="right"?i&&n>r:!i&&s>r};function gC(e=()=>{}){const t=mt(e);qe(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function vC(e){return e.nodeType===e.ELEMENT_NODE}function yC(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function xd(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var xC=C0,U0=P0,B0=O0,z0=A0,W0=I0,H0=D0,V0=$p;function q0(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=q0(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function K0(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=q0(e))&&(n&&(n+=" "),n+=t);return n}const Zg=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,ev=K0,co=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return ev(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:i}=t,a=Object.keys(s).map(u=>{const d=r==null?void 0:r[u],f=i==null?void 0:i[u];if(d===null)return null;const h=Zg(d)||Zg(f);return s[u][h]}),l=r&&Object.entries(r).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:h,...g}=d;return Object.entries(g).every(v=>{let[p,b]=v;return Array.isArray(b)?b.includes({...i,...l}[p]):{...i,...l}[p]===b})?[...u,f,h]:u},[]);return ev(e,a,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wC=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),G0=(...e)=>e.filter((t,r,n)=>!!t&&n.indexOf(t)===r).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var bC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jC=m.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:i,iconNode:a,...l},c)=>m.createElement("svg",{ref:c,...bC,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:G0("lucide",s),...l},[...a.map(([u,d])=>m.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=(e,t)=>{const r=m.forwardRef(({className:n,...s},i)=>m.createElement(jC,{ref:i,iconNode:t,className:G0(`lucide-${wC(e)}`,n),...s}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bt=Y("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NC=Y("BellOff",[["path",{d:"M8.7 3A6 6 0 0 1 18 8a21.3 21.3 0 0 0 .6 5",key:"o7mx20"}],["path",{d:"M17 17H3s3-2 3-9a4.67 4.67 0 0 1 .3-1.7",key:"16f1lm"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fp=Y("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sh=Y("CalendarCheck",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hr=Y("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SC=Y("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _i=Y("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $n=Y("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cr=Y("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Up=Y("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kC=Y("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cn=Y("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _C=Y("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q0=Y("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uc=Y("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _t=Y("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EC=Y("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ei=Y("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CC=Y("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y0=Y("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TC=Y("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PC=Y("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J0=Y("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X0=Y("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RC=Y("Fingerprint",[["path",{d:"M12 10a2 2 0 0 0-2 2c0 1.02-.1 2.51-.26 4",key:"1nerag"}],["path",{d:"M14 13.12c0 2.38 0 6.38-1 8.88",key:"o46ks0"}],["path",{d:"M17.29 21.02c.12-.6.43-2.3.5-3.02",key:"ptglia"}],["path",{d:"M2 12a10 10 0 0 1 18-6",key:"ydlgp0"}],["path",{d:"M2 16h.01",key:"1gqxmh"}],["path",{d:"M21.8 16c.2-2 .131-5.354 0-6",key:"drycrb"}],["path",{d:"M5 19.5C5.5 18 6 15 6 12a6 6 0 0 1 .34-2",key:"1tidbn"}],["path",{d:"M8.65 22c.21-.66.45-1.32.57-2",key:"13wd9y"}],["path",{d:"M9 6.8a6 6 0 0 1 9 5.2v2",key:"1fr1j5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ka=Y("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z0=Y("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OC=Y("ImagePlus",[["path",{d:"M16 5h6",key:"1vod17"}],["path",{d:"M19 2v6",key:"4bpg5p"}],["path",{d:"M21 11.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7.5",key:"1ue2ih"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AC=Y("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fn=Y("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bc=Y("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IC=Y("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bp=Y("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rt=Y("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MC=Y("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DC=Y("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eb=Y("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ci=Y("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LC=Y("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $C=Y("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FC=Y("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UC=Y("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tb=Y("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BC=Y("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zc=Y("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wr=Y("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wn=Y("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zC=Y("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xu=Y("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WC=Y("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tv=Y("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zp=Y("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HC=Y("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rb=Y("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VC=Y("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Za=Y("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Wp="-",qC=e=>{const t=GC(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:a=>{const l=a.split(Wp);return l[0]===""&&l.length!==1&&l.shift(),nb(l,t)||KC(a)},getConflictingClassGroupIds:(a,l)=>{const c=r[a]||[];return l&&n[a]?[...c,...n[a]]:c}}},nb=(e,t)=>{var a;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?nb(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const i=e.join(Wp);return(a=t.validators.find(({validator:l})=>l(i)))==null?void 0:a.classGroupId},rv=/^\[(.+)\]$/,KC=e=>{if(rv.test(e)){const t=rv.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},GC=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return YC(Object.entries(e.classGroups),r).forEach(([i,a])=>{ih(a,n,i,t)}),n},ih=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?t:nv(t,s);i.classGroupId=r;return}if(typeof s=="function"){if(QC(s)){ih(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([i,a])=>{ih(a,nv(t,i),r,n)})})},nv=(e,t)=>{let r=e;return t.split(Wp).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},QC=e=>e.isThemeGetter,YC=(e,t)=>t?e.map(([r,n])=>{const s=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([a,l])=>[t+a,l])):i);return[r,s]}):e,JC=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(i,a)=>{r.set(i,a),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let a=r.get(i);if(a!==void 0)return a;if((a=n.get(i))!==void 0)return s(i,a),a},set(i,a){r.has(i)?r.set(i,a):s(i,a)}}},sb="!",XC=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],i=t.length,a=l=>{const c=[];let u=0,d=0,f;for(let b=0;b<l.length;b++){let w=l[b];if(u===0){if(w===s&&(n||l.slice(b,b+i)===t)){c.push(l.slice(d,b)),d=b+i;continue}if(w==="/"){f=b;continue}}w==="["?u++:w==="]"&&u--}const h=c.length===0?l:l.substring(d),g=h.startsWith(sb),v=g?h.substring(1):h,p=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:g,baseClassName:v,maybePostfixModifierPosition:p}};return r?l=>r({className:l,parseClassName:a}):a},ZC=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},e2=e=>({cache:JC(e.cacheSize),parseClassName:XC(e),...qC(e)}),t2=/\s+/,r2=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,i=[],a=e.trim().split(t2);let l="";for(let c=a.length-1;c>=0;c-=1){const u=a[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:g}=r(u);let v=!!g,p=n(v?h.substring(0,g):h);if(!p){if(!v){l=u+(l.length>0?" "+l:l);continue}if(p=n(h),!p){l=u+(l.length>0?" "+l:l);continue}v=!1}const b=ZC(d).join(":"),w=f?b+sb:b,y=w+p;if(i.includes(y))continue;i.push(y);const x=s(p,v);for(let j=0;j<x.length;++j){const k=x[j];i.push(w+k)}l=u+(l.length>0?" "+l:l)}return l};function n2(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=ib(t))&&(n&&(n+=" "),n+=r);return n}const ib=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=ib(e[n]))&&(r&&(r+=" "),r+=t);return r};function s2(e,...t){let r,n,s,i=a;function a(c){const u=t.reduce((d,f)=>f(d),e());return r=e2(u),n=r.cache.get,s=r.cache.set,i=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=r2(c,r);return s(c,d),d}return function(){return i(n2.apply(null,arguments))}}const Se=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},ob=/^\[(?:([a-z-]+):)?(.+)\]$/i,i2=/^\d+\/\d+$/,o2=new Set(["px","full","screen"]),a2=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,l2=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,c2=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,u2=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,d2=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ir=e=>Ti(e)||o2.has(e)||i2.test(e),nn=e=>uo(e,"length",x2),Ti=e=>!!e&&!Number.isNaN(Number(e)),wd=e=>uo(e,"number",Ti),To=e=>!!e&&Number.isInteger(Number(e)),f2=e=>e.endsWith("%")&&Ti(e.slice(0,-1)),ae=e=>ob.test(e),sn=e=>a2.test(e),h2=new Set(["length","size","percentage"]),p2=e=>uo(e,h2,ab),m2=e=>uo(e,"position",ab),g2=new Set(["image","url"]),v2=e=>uo(e,g2,b2),y2=e=>uo(e,"",w2),Po=()=>!0,uo=(e,t,r)=>{const n=ob.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},x2=e=>l2.test(e)&&!c2.test(e),ab=()=>!1,w2=e=>u2.test(e),b2=e=>d2.test(e),j2=()=>{const e=Se("colors"),t=Se("spacing"),r=Se("blur"),n=Se("brightness"),s=Se("borderColor"),i=Se("borderRadius"),a=Se("borderSpacing"),l=Se("borderWidth"),c=Se("contrast"),u=Se("grayscale"),d=Se("hueRotate"),f=Se("invert"),h=Se("gap"),g=Se("gradientColorStops"),v=Se("gradientColorStopPositions"),p=Se("inset"),b=Se("margin"),w=Se("opacity"),y=Se("padding"),x=Se("saturate"),j=Se("scale"),k=Se("sepia"),_=Se("skew"),N=Se("space"),E=Se("translate"),O=()=>["auto","contain","none"],A=()=>["auto","hidden","clip","visible","scroll"],$=()=>["auto",ae,t],L=()=>[ae,t],P=()=>["",Ir,nn],C=()=>["auto",Ti,ae],F=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],B=()=>["solid","dashed","dotted","double","none"],J=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],T=()=>["start","end","center","between","around","evenly","stretch"],M=()=>["","0",ae],z=()=>["auto","avoid","all","avoid-page","page","left","right","column"],te=()=>[Ti,ae];return{cacheSize:500,separator:":",theme:{colors:[Po],spacing:[Ir,nn],blur:["none","",sn,ae],brightness:te(),borderColor:[e],borderRadius:["none","","full",sn,ae],borderSpacing:L(),borderWidth:P(),contrast:te(),grayscale:M(),hueRotate:te(),invert:M(),gap:L(),gradientColorStops:[e],gradientColorStopPositions:[f2,nn],inset:$(),margin:$(),opacity:te(),padding:L(),saturate:te(),scale:te(),sepia:M(),skew:te(),space:L(),translate:L()},classGroups:{aspect:[{aspect:["auto","square","video",ae]}],container:["container"],columns:[{columns:[sn]}],"break-after":[{"break-after":z()}],"break-before":[{"break-before":z()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...F(),ae]}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:O()}],"overscroll-x":[{"overscroll-x":O()}],"overscroll-y":[{"overscroll-y":O()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",To,ae]}],basis:[{basis:$()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ae]}],grow:[{grow:M()}],shrink:[{shrink:M()}],order:[{order:["first","last","none",To,ae]}],"grid-cols":[{"grid-cols":[Po]}],"col-start-end":[{col:["auto",{span:["full",To,ae]},ae]}],"col-start":[{"col-start":C()}],"col-end":[{"col-end":C()}],"grid-rows":[{"grid-rows":[Po]}],"row-start-end":[{row:["auto",{span:[To,ae]},ae]}],"row-start":[{"row-start":C()}],"row-end":[{"row-end":C()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ae]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ae]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...T()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...T(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...T(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ae,t]}],"min-w":[{"min-w":[ae,t,"min","max","fit"]}],"max-w":[{"max-w":[ae,t,"none","full","min","max","fit","prose",{screen:[sn]},sn]}],h:[{h:[ae,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ae,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ae,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ae,t,"auto","min","max","fit"]}],"font-size":[{text:["base",sn,nn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",wd]}],"font-family":[{font:[Po]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ae]}],"line-clamp":[{"line-clamp":["none",Ti,wd]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ir,ae]}],"list-image":[{"list-image":["none",ae]}],"list-style-type":[{list:["none","disc","decimal",ae]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...B(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ir,nn]}],"underline-offset":[{"underline-offset":["auto",Ir,ae]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:L()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ae]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ae]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...F(),m2]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",p2]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},v2]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...B(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:B()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...B()]}],"outline-offset":[{"outline-offset":[Ir,ae]}],"outline-w":[{outline:[Ir,nn]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:P()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[Ir,nn]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",sn,y2]}],"shadow-color":[{shadow:[Po]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...J(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":J()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",sn,ae]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[x]}],sepia:[{sepia:[k]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[x]}],"backdrop-sepia":[{"backdrop-sepia":[k]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ae]}],duration:[{duration:te()}],ease:[{ease:["linear","in","out","in-out",ae]}],delay:[{delay:te()}],animate:[{animate:["none","spin","ping","pulse","bounce",ae]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[To,ae]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[_]}],"skew-y":[{"skew-y":[_]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ae]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ae]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":L()}],"scroll-mx":[{"scroll-mx":L()}],"scroll-my":[{"scroll-my":L()}],"scroll-ms":[{"scroll-ms":L()}],"scroll-me":[{"scroll-me":L()}],"scroll-mt":[{"scroll-mt":L()}],"scroll-mr":[{"scroll-mr":L()}],"scroll-mb":[{"scroll-mb":L()}],"scroll-ml":[{"scroll-ml":L()}],"scroll-p":[{"scroll-p":L()}],"scroll-px":[{"scroll-px":L()}],"scroll-py":[{"scroll-py":L()}],"scroll-ps":[{"scroll-ps":L()}],"scroll-pe":[{"scroll-pe":L()}],"scroll-pt":[{"scroll-pt":L()}],"scroll-pr":[{"scroll-pr":L()}],"scroll-pb":[{"scroll-pb":L()}],"scroll-pl":[{"scroll-pl":L()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ae]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Ir,nn,wd]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},N2=s2(j2);function H(...e){return N2(K0(e))}const S2=xC,lb=m.forwardRef(({className:e,...t},r)=>o.jsx(U0,{ref:r,className:H("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));lb.displayName=U0.displayName;const k2=co("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),cb=m.forwardRef(({className:e,variant:t,...r},n)=>o.jsx(B0,{ref:n,className:H(k2({variant:t}),e),...r}));cb.displayName=B0.displayName;const _2=m.forwardRef(({className:e,...t},r)=>o.jsx(H0,{ref:r,className:H("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));_2.displayName=H0.displayName;const ub=m.forwardRef(({className:e,...t},r)=>o.jsx(V0,{ref:r,className:H("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:o.jsx(Za,{className:"h-4 w-4"})}));ub.displayName=V0.displayName;const db=m.forwardRef(({className:e,...t},r)=>o.jsx(z0,{ref:r,className:H("text-sm font-semibold",e),...t}));db.displayName=z0.displayName;const fb=m.forwardRef(({className:e,...t},r)=>o.jsx(W0,{ref:r,className:H("text-sm opacity-90",e),...t}));fb.displayName=W0.displayName;function E2(){const{toasts:e}=Zr();return o.jsxs(S2,{children:[e.map(function({id:t,title:r,description:n,action:s,...i}){return o.jsxs(cb,{...i,children:[o.jsxs("div",{className:"grid gap-1",children:[r&&o.jsx(db,{children:r}),n&&o.jsx(fb,{children:n})]}),s,o.jsx(ub,{})]},t)}),o.jsx(lb,{})]})}var C2=Uy[" useId ".trim().toString()]||(()=>{}),T2=0;function pt(e){const[t,r]=m.useState(C2());return qe(()=>{r(n=>n??String(T2++))},[e]),t?`radix-${t}`:""}const P2=["top","right","bottom","left"],Hn=Math.min,At=Math.max,Wc=Math.round,Tl=Math.floor,Tr=e=>({x:e,y:e}),R2={left:"right",right:"left",bottom:"top",top:"bottom"},O2={start:"end",end:"start"};function oh(e,t,r){return At(e,Hn(t,r))}function Yr(e,t){return typeof e=="function"?e(t):e}function Jr(e){return e.split("-")[0]}function fo(e){return e.split("-")[1]}function Hp(e){return e==="x"?"y":"x"}function Vp(e){return e==="y"?"height":"width"}function Vn(e){return["top","bottom"].includes(Jr(e))?"y":"x"}function qp(e){return Hp(Vn(e))}function A2(e,t,r){r===void 0&&(r=!1);const n=fo(e),s=qp(e),i=Vp(s);let a=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(a=Hc(a)),[a,Hc(a)]}function I2(e){const t=Hc(e);return[ah(e),t,ah(t)]}function ah(e){return e.replace(/start|end/g,t=>O2[t])}function M2(e,t,r){const n=["left","right"],s=["right","left"],i=["top","bottom"],a=["bottom","top"];switch(e){case"top":case"bottom":return r?t?s:n:t?n:s;case"left":case"right":return t?i:a;default:return[]}}function D2(e,t,r,n){const s=fo(e);let i=M2(Jr(e),r==="start",n);return s&&(i=i.map(a=>a+"-"+s),t&&(i=i.concat(i.map(ah)))),i}function Hc(e){return e.replace(/left|right|bottom|top/g,t=>R2[t])}function L2(e){return{top:0,right:0,bottom:0,left:0,...e}}function hb(e){return typeof e!="number"?L2(e):{top:e,right:e,bottom:e,left:e}}function Vc(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function sv(e,t,r){let{reference:n,floating:s}=e;const i=Vn(t),a=qp(t),l=Vp(a),c=Jr(t),u=i==="y",d=n.x+n.width/2-s.width/2,f=n.y+n.height/2-s.height/2,h=n[l]/2-s[l]/2;let g;switch(c){case"top":g={x:d,y:n.y-s.height};break;case"bottom":g={x:d,y:n.y+n.height};break;case"right":g={x:n.x+n.width,y:f};break;case"left":g={x:n.x-s.width,y:f};break;default:g={x:n.x,y:n.y}}switch(fo(t)){case"start":g[a]-=h*(r&&u?-1:1);break;case"end":g[a]+=h*(r&&u?-1:1);break}return g}const $2=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:i=[],platform:a}=r,l=i.filter(Boolean),c=await(a.isRTL==null?void 0:a.isRTL(t));let u=await a.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:f}=sv(u,n,c),h=n,g={},v=0;for(let p=0;p<l.length;p++){const{name:b,fn:w}=l[p],{x:y,y:x,data:j,reset:k}=await w({x:d,y:f,initialPlacement:n,placement:h,strategy:s,middlewareData:g,rects:u,platform:a,elements:{reference:e,floating:t}});d=y??d,f=x??f,g={...g,[b]:{...g[b],...j}},k&&v<=50&&(v++,typeof k=="object"&&(k.placement&&(h=k.placement),k.rects&&(u=k.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:s}):k.rects),{x:d,y:f}=sv(u,h,c)),p=-1)}return{x:d,y:f,placement:h,strategy:s,middlewareData:g}};async function _a(e,t){var r;t===void 0&&(t={});const{x:n,y:s,platform:i,rects:a,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:g=0}=Yr(t,e),v=hb(g),b=l[h?f==="floating"?"reference":"floating":f],w=Vc(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(b)))==null||r?b:b.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),y=f==="floating"?{x:n,y:s,width:a.floating.width,height:a.floating.height}:a.reference,x=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),j=await(i.isElement==null?void 0:i.isElement(x))?await(i.getScale==null?void 0:i.getScale(x))||{x:1,y:1}:{x:1,y:1},k=Vc(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:y,offsetParent:x,strategy:c}):y);return{top:(w.top-k.top+v.top)/j.y,bottom:(k.bottom-w.bottom+v.bottom)/j.y,left:(w.left-k.left+v.left)/j.x,right:(k.right-w.right+v.right)/j.x}}const F2=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:s,rects:i,platform:a,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=Yr(e,t)||{};if(u==null)return{};const f=hb(d),h={x:r,y:n},g=qp(s),v=Vp(g),p=await a.getDimensions(u),b=g==="y",w=b?"top":"left",y=b?"bottom":"right",x=b?"clientHeight":"clientWidth",j=i.reference[v]+i.reference[g]-h[g]-i.floating[v],k=h[g]-i.reference[g],_=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u));let N=_?_[x]:0;(!N||!await(a.isElement==null?void 0:a.isElement(_)))&&(N=l.floating[x]||i.floating[v]);const E=j/2-k/2,O=N/2-p[v]/2-1,A=Hn(f[w],O),$=Hn(f[y],O),L=A,P=N-p[v]-$,C=N/2-p[v]/2+E,F=oh(L,C,P),B=!c.arrow&&fo(s)!=null&&C!==F&&i.reference[v]/2-(C<L?A:$)-p[v]/2<0,J=B?C<L?C-L:C-P:0;return{[g]:h[g]+J,data:{[g]:F,centerOffset:C-F-J,...B&&{alignmentOffset:J}},reset:B}}}),U2=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:s,middlewareData:i,rects:a,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:p=!0,...b}=Yr(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const w=Jr(s),y=Vn(l),x=Jr(l)===l,j=await(c.isRTL==null?void 0:c.isRTL(u.floating)),k=h||(x||!p?[Hc(l)]:I2(l)),_=v!=="none";!h&&_&&k.push(...D2(l,p,v,j));const N=[l,...k],E=await _a(t,b),O=[];let A=((n=i.flip)==null?void 0:n.overflows)||[];if(d&&O.push(E[w]),f){const C=A2(s,a,j);O.push(E[C[0]],E[C[1]])}if(A=[...A,{placement:s,overflows:O}],!O.every(C=>C<=0)){var $,L;const C=((($=i.flip)==null?void 0:$.index)||0)+1,F=N[C];if(F)return{data:{index:C,overflows:A},reset:{placement:F}};let B=(L=A.filter(J=>J.overflows[0]<=0).sort((J,T)=>J.overflows[1]-T.overflows[1])[0])==null?void 0:L.placement;if(!B)switch(g){case"bestFit":{var P;const J=(P=A.filter(T=>{if(_){const M=Vn(T.placement);return M===y||M==="y"}return!0}).map(T=>[T.placement,T.overflows.filter(M=>M>0).reduce((M,z)=>M+z,0)]).sort((T,M)=>T[1]-M[1])[0])==null?void 0:P[0];J&&(B=J);break}case"initialPlacement":B=l;break}if(s!==B)return{reset:{placement:B}}}return{}}}};function iv(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function ov(e){return P2.some(t=>e[t]>=0)}const B2=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...s}=Yr(e,t);switch(n){case"referenceHidden":{const i=await _a(t,{...s,elementContext:"reference"}),a=iv(i,r.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:ov(a)}}}case"escaped":{const i=await _a(t,{...s,altBoundary:!0}),a=iv(i,r.floating);return{data:{escapedOffsets:a,escaped:ov(a)}}}default:return{}}}}};async function z2(e,t){const{placement:r,platform:n,elements:s}=e,i=await(n.isRTL==null?void 0:n.isRTL(s.floating)),a=Jr(r),l=fo(r),c=Vn(r)==="y",u=["left","top"].includes(a)?-1:1,d=i&&c?-1:1,f=Yr(t,e);let{mainAxis:h,crossAxis:g,alignmentAxis:v}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof v=="number"&&(g=l==="end"?v*-1:v),c?{x:g*d,y:h*u}:{x:h*u,y:g*d}}const W2=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:s,y:i,placement:a,middlewareData:l}=t,c=await z2(t,e);return a===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:a}}}}},H2=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:s}=t,{mainAxis:i=!0,crossAxis:a=!1,limiter:l={fn:b=>{let{x:w,y}=b;return{x:w,y}}},...c}=Yr(e,t),u={x:r,y:n},d=await _a(t,c),f=Vn(Jr(s)),h=Hp(f);let g=u[h],v=u[f];if(i){const b=h==="y"?"top":"left",w=h==="y"?"bottom":"right",y=g+d[b],x=g-d[w];g=oh(y,g,x)}if(a){const b=f==="y"?"top":"left",w=f==="y"?"bottom":"right",y=v+d[b],x=v-d[w];v=oh(y,v,x)}const p=l.fn({...t,[h]:g,[f]:v});return{...p,data:{x:p.x-r,y:p.y-n,enabled:{[h]:i,[f]:a}}}}}},V2=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:s,rects:i,middlewareData:a}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=Yr(e,t),d={x:r,y:n},f=Vn(s),h=Hp(f);let g=d[h],v=d[f];const p=Yr(l,t),b=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(c){const x=h==="y"?"height":"width",j=i.reference[h]-i.floating[x]+b.mainAxis,k=i.reference[h]+i.reference[x]-b.mainAxis;g<j?g=j:g>k&&(g=k)}if(u){var w,y;const x=h==="y"?"width":"height",j=["top","left"].includes(Jr(s)),k=i.reference[f]-i.floating[x]+(j&&((w=a.offset)==null?void 0:w[f])||0)+(j?0:b.crossAxis),_=i.reference[f]+i.reference[x]+(j?0:((y=a.offset)==null?void 0:y[f])||0)-(j?b.crossAxis:0);v<k?v=k:v>_&&(v=_)}return{[h]:g,[f]:v}}}},q2=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:s,rects:i,platform:a,elements:l}=t,{apply:c=()=>{},...u}=Yr(e,t),d=await _a(t,u),f=Jr(s),h=fo(s),g=Vn(s)==="y",{width:v,height:p}=i.floating;let b,w;f==="top"||f==="bottom"?(b=f,w=h===(await(a.isRTL==null?void 0:a.isRTL(l.floating))?"start":"end")?"left":"right"):(w=f,b=h==="end"?"top":"bottom");const y=p-d.top-d.bottom,x=v-d.left-d.right,j=Hn(p-d[b],y),k=Hn(v-d[w],x),_=!t.middlewareData.shift;let N=j,E=k;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(E=x),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(N=y),_&&!h){const A=At(d.left,0),$=At(d.right,0),L=At(d.top,0),P=At(d.bottom,0);g?E=v-2*(A!==0||$!==0?A+$:At(d.left,d.right)):N=p-2*(L!==0||P!==0?L+P:At(d.top,d.bottom))}await c({...t,availableWidth:E,availableHeight:N});const O=await a.getDimensions(l.floating);return v!==O.width||p!==O.height?{reset:{rects:!0}}:{}}}};function wu(){return typeof window<"u"}function ho(e){return pb(e)?(e.nodeName||"").toLowerCase():"#document"}function Lt(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Ar(e){var t;return(t=(pb(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function pb(e){return wu()?e instanceof Node||e instanceof Lt(e).Node:!1}function pr(e){return wu()?e instanceof Element||e instanceof Lt(e).Element:!1}function Pr(e){return wu()?e instanceof HTMLElement||e instanceof Lt(e).HTMLElement:!1}function av(e){return!wu()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Lt(e).ShadowRoot}function el(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=mr(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(s)}function K2(e){return["table","td","th"].includes(ho(e))}function bu(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Kp(e){const t=Gp(),r=pr(e)?mr(e):e;return["transform","translate","scale","rotate","perspective"].some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function G2(e){let t=qn(e);for(;Pr(t)&&!ro(t);){if(Kp(t))return t;if(bu(t))return null;t=qn(t)}return null}function Gp(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ro(e){return["html","body","#document"].includes(ho(e))}function mr(e){return Lt(e).getComputedStyle(e)}function ju(e){return pr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function qn(e){if(ho(e)==="html")return e;const t=e.assignedSlot||e.parentNode||av(e)&&e.host||Ar(e);return av(t)?t.host:t}function mb(e){const t=qn(e);return ro(t)?e.ownerDocument?e.ownerDocument.body:e.body:Pr(t)&&el(t)?t:mb(t)}function Ea(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=mb(e),i=s===((n=e.ownerDocument)==null?void 0:n.body),a=Lt(s);if(i){const l=lh(a);return t.concat(a,a.visualViewport||[],el(s)?s:[],l&&r?Ea(l):[])}return t.concat(s,Ea(s,[],r))}function lh(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function gb(e){const t=mr(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=Pr(e),i=s?e.offsetWidth:r,a=s?e.offsetHeight:n,l=Wc(r)!==i||Wc(n)!==a;return l&&(r=i,n=a),{width:r,height:n,$:l}}function Qp(e){return pr(e)?e:e.contextElement}function Pi(e){const t=Qp(e);if(!Pr(t))return Tr(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:i}=gb(t);let a=(i?Wc(r.width):r.width)/n,l=(i?Wc(r.height):r.height)/s;return(!a||!Number.isFinite(a))&&(a=1),(!l||!Number.isFinite(l))&&(l=1),{x:a,y:l}}const Q2=Tr(0);function vb(e){const t=Lt(e);return!Gp()||!t.visualViewport?Q2:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Y2(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Lt(e)?!1:t}function As(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),i=Qp(e);let a=Tr(1);t&&(n?pr(n)&&(a=Pi(n)):a=Pi(e));const l=Y2(i,r,n)?vb(i):Tr(0);let c=(s.left+l.x)/a.x,u=(s.top+l.y)/a.y,d=s.width/a.x,f=s.height/a.y;if(i){const h=Lt(i),g=n&&pr(n)?Lt(n):n;let v=h,p=lh(v);for(;p&&n&&g!==v;){const b=Pi(p),w=p.getBoundingClientRect(),y=mr(p),x=w.left+(p.clientLeft+parseFloat(y.paddingLeft))*b.x,j=w.top+(p.clientTop+parseFloat(y.paddingTop))*b.y;c*=b.x,u*=b.y,d*=b.x,f*=b.y,c+=x,u+=j,v=Lt(p),p=lh(v)}}return Vc({width:d,height:f,x:c,y:u})}function Yp(e,t){const r=ju(e).scrollLeft;return t?t.left+r:As(Ar(e)).left+r}function yb(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),s=n.left+t.scrollLeft-(r?0:Yp(e,n)),i=n.top+t.scrollTop;return{x:s,y:i}}function J2(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const i=s==="fixed",a=Ar(n),l=t?bu(t.floating):!1;if(n===a||l&&i)return r;let c={scrollLeft:0,scrollTop:0},u=Tr(1);const d=Tr(0),f=Pr(n);if((f||!f&&!i)&&((ho(n)!=="body"||el(a))&&(c=ju(n)),Pr(n))){const g=As(n);u=Pi(n),d.x=g.x+n.clientLeft,d.y=g.y+n.clientTop}const h=a&&!f&&!i?yb(a,c,!0):Tr(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+h.x,y:r.y*u.y-c.scrollTop*u.y+d.y+h.y}}function X2(e){return Array.from(e.getClientRects())}function Z2(e){const t=Ar(e),r=ju(e),n=e.ownerDocument.body,s=At(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=At(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let a=-r.scrollLeft+Yp(e);const l=-r.scrollTop;return mr(n).direction==="rtl"&&(a+=At(t.clientWidth,n.clientWidth)-s),{width:s,height:i,x:a,y:l}}function eT(e,t){const r=Lt(e),n=Ar(e),s=r.visualViewport;let i=n.clientWidth,a=n.clientHeight,l=0,c=0;if(s){i=s.width,a=s.height;const u=Gp();(!u||u&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:i,height:a,x:l,y:c}}function tT(e,t){const r=As(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,i=Pr(e)?Pi(e):Tr(1),a=e.clientWidth*i.x,l=e.clientHeight*i.y,c=s*i.x,u=n*i.y;return{width:a,height:l,x:c,y:u}}function lv(e,t,r){let n;if(t==="viewport")n=eT(e,r);else if(t==="document")n=Z2(Ar(e));else if(pr(t))n=tT(t,r);else{const s=vb(e);n={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return Vc(n)}function xb(e,t){const r=qn(e);return r===t||!pr(r)||ro(r)?!1:mr(r).position==="fixed"||xb(r,t)}function rT(e,t){const r=t.get(e);if(r)return r;let n=Ea(e,[],!1).filter(l=>pr(l)&&ho(l)!=="body"),s=null;const i=mr(e).position==="fixed";let a=i?qn(e):e;for(;pr(a)&&!ro(a);){const l=mr(a),c=Kp(a);!c&&l.position==="fixed"&&(s=null),(i?!c&&!s:!c&&l.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||el(a)&&!c&&xb(e,a))?n=n.filter(d=>d!==a):s=l,a=qn(a)}return t.set(e,n),n}function nT(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const a=[...r==="clippingAncestors"?bu(t)?[]:rT(t,this._c):[].concat(r),n],l=a[0],c=a.reduce((u,d)=>{const f=lv(t,d,s);return u.top=At(f.top,u.top),u.right=Hn(f.right,u.right),u.bottom=Hn(f.bottom,u.bottom),u.left=At(f.left,u.left),u},lv(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function sT(e){const{width:t,height:r}=gb(e);return{width:t,height:r}}function iT(e,t,r){const n=Pr(t),s=Ar(t),i=r==="fixed",a=As(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=Tr(0);if(n||!n&&!i)if((ho(t)!=="body"||el(s))&&(l=ju(t)),n){const h=As(t,!0,i,t);c.x=h.x+t.clientLeft,c.y=h.y+t.clientTop}else s&&(c.x=Yp(s));const u=s&&!n&&!i?yb(s,l):Tr(0),d=a.left+l.scrollLeft-c.x-u.x,f=a.top+l.scrollTop-c.y-u.y;return{x:d,y:f,width:a.width,height:a.height}}function bd(e){return mr(e).position==="static"}function cv(e,t){if(!Pr(e)||mr(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Ar(e)===r&&(r=r.ownerDocument.body),r}function wb(e,t){const r=Lt(e);if(bu(e))return r;if(!Pr(e)){let s=qn(e);for(;s&&!ro(s);){if(pr(s)&&!bd(s))return s;s=qn(s)}return r}let n=cv(e,t);for(;n&&K2(n)&&bd(n);)n=cv(n,t);return n&&ro(n)&&bd(n)&&!Kp(n)?r:n||G2(e)||r}const oT=async function(e){const t=this.getOffsetParent||wb,r=this.getDimensions,n=await r(e.floating);return{reference:iT(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function aT(e){return mr(e).direction==="rtl"}const lT={convertOffsetParentRelativeRectToViewportRelativeRect:J2,getDocumentElement:Ar,getClippingRect:nT,getOffsetParent:wb,getElementRects:oT,getClientRects:X2,getDimensions:sT,getScale:Pi,isElement:pr,isRTL:aT};function bb(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function cT(e,t){let r=null,n;const s=Ar(e);function i(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function a(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const u=e.getBoundingClientRect(),{left:d,top:f,width:h,height:g}=u;if(l||t(),!h||!g)return;const v=Tl(f),p=Tl(s.clientWidth-(d+h)),b=Tl(s.clientHeight-(f+g)),w=Tl(d),x={rootMargin:-v+"px "+-p+"px "+-b+"px "+-w+"px",threshold:At(0,Hn(1,c))||1};let j=!0;function k(_){const N=_[0].intersectionRatio;if(N!==c){if(!j)return a();N?a(!1,N):n=setTimeout(()=>{a(!1,1e-7)},1e3)}N===1&&!bb(u,e.getBoundingClientRect())&&a(),j=!1}try{r=new IntersectionObserver(k,{...x,root:s.ownerDocument})}catch{r=new IntersectionObserver(k,x)}r.observe(e)}return a(!0),i}function uT(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=Qp(e),d=s||i?[...u?Ea(u):[],...Ea(t)]:[];d.forEach(w=>{s&&w.addEventListener("scroll",r,{passive:!0}),i&&w.addEventListener("resize",r)});const f=u&&l?cT(u,r):null;let h=-1,g=null;a&&(g=new ResizeObserver(w=>{let[y]=w;y&&y.target===u&&g&&(g.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var x;(x=g)==null||x.observe(t)})),r()}),u&&!c&&g.observe(u),g.observe(t));let v,p=c?As(e):null;c&&b();function b(){const w=As(e);p&&!bb(p,w)&&r(),p=w,v=requestAnimationFrame(b)}return r(),()=>{var w;d.forEach(y=>{s&&y.removeEventListener("scroll",r),i&&y.removeEventListener("resize",r)}),f==null||f(),(w=g)==null||w.disconnect(),g=null,c&&cancelAnimationFrame(v)}}const dT=W2,fT=H2,hT=U2,pT=q2,mT=B2,uv=F2,gT=V2,vT=(e,t,r)=>{const n=new Map,s={platform:lT,...r},i={...s.platform,_c:n};return $2(e,t,{...s,platform:i})};var ic=typeof document<"u"?m.useLayoutEffect:m.useEffect;function qc(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!qc(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const i=s[n];if(!(i==="_owner"&&e.$$typeof)&&!qc(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function jb(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function dv(e,t){const r=jb(e);return Math.round(t*r)/r}function jd(e){const t=m.useRef(e);return ic(()=>{t.current=e}),t}function yT(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:i,floating:a}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=m.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,g]=m.useState(n);qc(h,n)||g(n);const[v,p]=m.useState(null),[b,w]=m.useState(null),y=m.useCallback(T=>{T!==_.current&&(_.current=T,p(T))},[]),x=m.useCallback(T=>{T!==N.current&&(N.current=T,w(T))},[]),j=i||v,k=a||b,_=m.useRef(null),N=m.useRef(null),E=m.useRef(d),O=c!=null,A=jd(c),$=jd(s),L=jd(u),P=m.useCallback(()=>{if(!_.current||!N.current)return;const T={placement:t,strategy:r,middleware:h};$.current&&(T.platform=$.current),vT(_.current,N.current,T).then(M=>{const z={...M,isPositioned:L.current!==!1};C.current&&!qc(E.current,z)&&(E.current=z,Us.flushSync(()=>{f(z)}))})},[h,t,r,$,L]);ic(()=>{u===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,f(T=>({...T,isPositioned:!1})))},[u]);const C=m.useRef(!1);ic(()=>(C.current=!0,()=>{C.current=!1}),[]),ic(()=>{if(j&&(_.current=j),k&&(N.current=k),j&&k){if(A.current)return A.current(j,k,P);P()}},[j,k,P,A,O]);const F=m.useMemo(()=>({reference:_,floating:N,setReference:y,setFloating:x}),[y,x]),B=m.useMemo(()=>({reference:j,floating:k}),[j,k]),J=m.useMemo(()=>{const T={position:r,left:0,top:0};if(!B.floating)return T;const M=dv(B.floating,d.x),z=dv(B.floating,d.y);return l?{...T,transform:"translate("+M+"px, "+z+"px)",...jb(B.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:M,top:z}},[r,l,B.floating,d.x,d.y]);return m.useMemo(()=>({...d,update:P,refs:F,elements:B,floatingStyles:J}),[d,P,F,B,J])}const xT=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?uv({element:n.current,padding:s}).fn(r):{}:n?uv({element:n,padding:s}).fn(r):{}}}},wT=(e,t)=>({...dT(e),options:[e,t]}),bT=(e,t)=>({...fT(e),options:[e,t]}),jT=(e,t)=>({...gT(e),options:[e,t]}),NT=(e,t)=>({...hT(e),options:[e,t]}),ST=(e,t)=>({...pT(e),options:[e,t]}),kT=(e,t)=>({...mT(e),options:[e,t]}),_T=(e,t)=>({...xT(e),options:[e,t]});var ET="Arrow",Nb=m.forwardRef((e,t)=>{const{children:r,width:n=10,height:s=5,...i}=e;return o.jsx(ee.svg,{...i,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:o.jsx("polygon",{points:"0,0 30,0 15,10"})})});Nb.displayName=ET;var CT=Nb;function TT(e){const[t,r]=m.useState(void 0);return qe(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let a,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;a=u.inlineSize,l=u.blockSize}else a=e.offsetWidth,l=e.offsetHeight;r({width:a,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var Jp="Popper",[Sb,po]=Or(Jp),[PT,kb]=Sb(Jp),_b=e=>{const{__scopePopper:t,children:r}=e,[n,s]=m.useState(null);return o.jsx(PT,{scope:t,anchor:n,onAnchorChange:s,children:r})};_b.displayName=Jp;var Eb="PopperAnchor",Cb=m.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...s}=e,i=kb(Eb,r),a=m.useRef(null),l=we(t,a);return m.useEffect(()=>{i.onAnchorChange((n==null?void 0:n.current)||a.current)}),n?null:o.jsx(ee.div,{...s,ref:l})});Cb.displayName=Eb;var Xp="PopperContent",[RT,OT]=Sb(Xp),Tb=m.forwardRef((e,t)=>{var U,le,he,pe,ye,xe;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:i="center",alignOffset:a=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:g="optimized",onPlaced:v,...p}=e,b=kb(Xp,r),[w,y]=m.useState(null),x=we(t,Ct=>y(Ct)),[j,k]=m.useState(null),_=TT(j),N=(_==null?void 0:_.width)??0,E=(_==null?void 0:_.height)??0,O=n+(i!=="center"?"-"+i:""),A=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},$=Array.isArray(u)?u:[u],L=$.length>0,P={padding:A,boundary:$.filter(IT),altBoundary:L},{refs:C,floatingStyles:F,placement:B,isPositioned:J,middlewareData:T}=yT({strategy:"fixed",placement:O,whileElementsMounted:(...Ct)=>uT(...Ct,{animationFrame:g==="always"}),elements:{reference:b.anchor},middleware:[wT({mainAxis:s+E,alignmentAxis:a}),c&&bT({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?jT():void 0,...P}),c&&NT({...P}),ST({...P,apply:({elements:Ct,rects:vr,availableWidth:yo,availableHeight:xo})=>{const{width:wo,height:YN}=vr.reference,al=Ct.floating.style;al.setProperty("--radix-popper-available-width",`${yo}px`),al.setProperty("--radix-popper-available-height",`${xo}px`),al.setProperty("--radix-popper-anchor-width",`${wo}px`),al.setProperty("--radix-popper-anchor-height",`${YN}px`)}}),j&&_T({element:j,padding:l}),MT({arrowWidth:N,arrowHeight:E}),h&&kT({strategy:"referenceHidden",...P})]}),[M,z]=Ob(B),te=mt(v);qe(()=>{J&&(te==null||te())},[J,te]);const R=(U=T.arrow)==null?void 0:U.x,V=(le=T.arrow)==null?void 0:le.y,Z=((he=T.arrow)==null?void 0:he.centerOffset)!==0,[q,oe]=m.useState();return qe(()=>{w&&oe(window.getComputedStyle(w).zIndex)},[w]),o.jsx("div",{ref:C.setFloating,"data-radix-popper-content-wrapper":"",style:{...F,transform:J?F.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:q,"--radix-popper-transform-origin":[(pe=T.transformOrigin)==null?void 0:pe.x,(ye=T.transformOrigin)==null?void 0:ye.y].join(" "),...((xe=T.hide)==null?void 0:xe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:o.jsx(RT,{scope:r,placedSide:M,onArrowChange:k,arrowX:R,arrowY:V,shouldHideArrow:Z,children:o.jsx(ee.div,{"data-side":M,"data-align":z,...p,ref:x,style:{...p.style,animation:J?void 0:"none"}})})})});Tb.displayName=Xp;var Pb="PopperArrow",AT={top:"bottom",right:"left",bottom:"top",left:"right"},Rb=m.forwardRef(function(t,r){const{__scopePopper:n,...s}=t,i=OT(Pb,n),a=AT[i.placedSide];return o.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:o.jsx(CT,{...s,ref:r,style:{...s.style,display:"block"}})})});Rb.displayName=Pb;function IT(e){return e!==null}var MT=e=>({name:"transformOrigin",options:e,fn(t){var b,w,y;const{placement:r,rects:n,middlewareData:s}=t,a=((b=s.arrow)==null?void 0:b.centerOffset)!==0,l=a?0:e.arrowWidth,c=a?0:e.arrowHeight,[u,d]=Ob(r),f={start:"0%",center:"50%",end:"100%"}[d],h=(((w=s.arrow)==null?void 0:w.x)??0)+l/2,g=(((y=s.arrow)==null?void 0:y.y)??0)+c/2;let v="",p="";return u==="bottom"?(v=a?f:`${h}px`,p=`${-c}px`):u==="top"?(v=a?f:`${h}px`,p=`${n.floating.height+c}px`):u==="right"?(v=`${-c}px`,p=a?f:`${g}px`):u==="left"&&(v=`${n.floating.width+c}px`,p=a?f:`${g}px`),{data:{x:v,y:p}}}});function Ob(e){const[t,r="center"]=e.split("-");return[t,r]}var Ab=_b,Nu=Cb,Zp=Tb,em=Rb,[Su,u3]=Or("Tooltip",[po]),tm=po(),Ib="TooltipProvider",DT=700,fv="tooltip.open",[LT,Mb]=Su(Ib),Db=e=>{const{__scopeTooltip:t,delayDuration:r=DT,skipDelayDuration:n=300,disableHoverableContent:s=!1,children:i}=e,a=m.useRef(!0),l=m.useRef(!1),c=m.useRef(0);return m.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),o.jsx(LT,{scope:t,isOpenDelayedRef:a,delayDuration:r,onOpen:m.useCallback(()=>{window.clearTimeout(c.current),a.current=!1},[]),onClose:m.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>a.current=!0,n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:m.useCallback(u=>{l.current=u},[]),disableHoverableContent:s,children:i})};Db.displayName=Ib;var Lb="Tooltip",[d3,ku]=Su(Lb),ch="TooltipTrigger",$T=m.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=ku(ch,r),i=Mb(ch,r),a=tm(r),l=m.useRef(null),c=we(t,l,s.onTriggerChange),u=m.useRef(!1),d=m.useRef(!1),f=m.useCallback(()=>u.current=!1,[]);return m.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),o.jsx(Nu,{asChild:!0,...a,children:o.jsx(ee.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...n,ref:c,onPointerMove:X(e.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:X(e.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:X(e.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:X(e.onFocus,()=>{u.current||s.onOpen()}),onBlur:X(e.onBlur,s.onClose),onClick:X(e.onClick,s.onClose)})})});$T.displayName=ch;var FT="TooltipPortal",[f3,UT]=Su(FT,{forceMount:void 0}),no="TooltipContent",$b=m.forwardRef((e,t)=>{const r=UT(no,e.__scopeTooltip),{forceMount:n=r.forceMount,side:s="top",...i}=e,a=ku(no,e.__scopeTooltip);return o.jsx(en,{present:n||a.open,children:a.disableHoverableContent?o.jsx(Fb,{side:s,...i,ref:t}):o.jsx(BT,{side:s,...i,ref:t})})}),BT=m.forwardRef((e,t)=>{const r=ku(no,e.__scopeTooltip),n=Mb(no,e.__scopeTooltip),s=m.useRef(null),i=we(t,s),[a,l]=m.useState(null),{trigger:c,onClose:u}=r,d=s.current,{onPointerInTransitChange:f}=n,h=m.useCallback(()=>{l(null),f(!1)},[f]),g=m.useCallback((v,p)=>{const b=v.currentTarget,w={x:v.clientX,y:v.clientY},y=qT(w,b.getBoundingClientRect()),x=KT(w,y),j=GT(p.getBoundingClientRect()),k=YT([...x,...j]);l(k),f(!0)},[f]);return m.useEffect(()=>()=>h(),[h]),m.useEffect(()=>{if(c&&d){const v=b=>g(b,d),p=b=>g(b,c);return c.addEventListener("pointerleave",v),d.addEventListener("pointerleave",p),()=>{c.removeEventListener("pointerleave",v),d.removeEventListener("pointerleave",p)}}},[c,d,g,h]),m.useEffect(()=>{if(a){const v=p=>{const b=p.target,w={x:p.clientX,y:p.clientY},y=(c==null?void 0:c.contains(b))||(d==null?void 0:d.contains(b)),x=!QT(w,a);y?h():x&&(h(),u())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[c,d,a,u,h]),o.jsx(Fb,{...e,ref:i})}),[zT,WT]=Su(Lb,{isInside:!1}),HT=ME("TooltipContent"),Fb=m.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:a,...l}=e,c=ku(no,r),u=tm(r),{onClose:d}=c;return m.useEffect(()=>(document.addEventListener(fv,d),()=>document.removeEventListener(fv,d)),[d]),m.useEffect(()=>{if(c.trigger){const f=h=>{const g=h.target;g!=null&&g.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),o.jsx(lo,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:o.jsxs(Zp,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[o.jsx(HT,{children:n}),o.jsx(zT,{scope:r,isInside:!0,children:o.jsx(tC,{id:c.contentId,role:"tooltip",children:s||n})})]})})});$b.displayName=no;var Ub="TooltipArrow",VT=m.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=tm(r);return WT(Ub,r).isInside?null:o.jsx(em,{...s,...n,ref:t})});VT.displayName=Ub;function qT(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(r,n,s,i)){case i:return"left";case s:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function KT(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function GT(e){const{top:t,right:r,bottom:n,left:s}=e;return[{x:s,y:t},{x:r,y:t},{x:r,y:n},{x:s,y:n}]}function QT(e,t){const{x:r,y:n}=e;let s=!1;for(let i=0,a=t.length-1;i<t.length;a=i++){const l=t[i].x,c=t[i].y,u=t[a].x,d=t[a].y;c>n!=d>n&&r<(u-l)*(n-c)/(d-c)+l&&(s=!s)}return s}function YT(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),JT(t)}function JT(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const s=e[n];for(;t.length>=2;){const i=t[t.length-1],a=t[t.length-2];if((i.x-a.x)*(s.y-a.y)>=(i.y-a.y)*(s.x-a.x))t.pop();else break}t.push(s)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const s=e[n];for(;r.length>=2;){const i=r[r.length-1],a=r[r.length-2];if((i.x-a.x)*(s.y-a.y)>=(i.y-a.y)*(s.x-a.x))r.pop();else break}r.push(s)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var XT=Db,Bb=$b;const ZT=XT,eP=m.forwardRef(({className:e,sideOffset:t=4,...r},n)=>o.jsx(Bb,{ref:n,sideOffset:t,className:H("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...r}));eP.displayName=Bb.displayName;const tP=[{icon:Z0,label:"Home",path:"/"},{icon:Ci,label:"Search",path:"/search"},{icon:hr,label:"Bookings",path:"/bookings"},{icon:ka,label:"Favorites",path:"/favorites"},{icon:zp,label:"Profile",path:"/profile"}];function rP(){const[e]=Ue();return o.jsx("nav",{className:"fixed bottom-0 left-0 right-0 z-50 bg-background/95 backdrop-blur-lg border-t border-border","data-testid":"nav-bottom",children:o.jsx("div",{className:"flex items-center justify-around h-16 max-w-lg mx-auto px-2",children:tP.map(t=>{const r=e===t.path||t.path==="/"&&e==="/"||t.path!=="/"&&e.startsWith(t.path);return o.jsx(Na,{href:t.path,children:o.jsxs("button",{className:`flex flex-col items-center justify-center gap-1 px-4 py-2 rounded-lg transition-colors min-w-[56px] ${r?"text-primary":"text-muted-foreground"}`,"data-testid":`nav-${t.label.toLowerCase()}`,children:[o.jsx(t.icon,{className:`w-5 h-5 transition-transform ${r?"scale-110":""}`,strokeWidth:r?2.5:2}),o.jsx("span",{className:`text-[10px] font-medium ${r?"text-primary":"text-muted-foreground"}`,children:t.label})]})},t.path)})})})}var kr=function(){return kr=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},kr.apply(this,arguments)};function mo(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function nP(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function l(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})}function sP(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,i;n<s;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}const iP=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class rm extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class oP extends rm{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class hv extends rm{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class pv extends rm{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var uh;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(uh||(uh={}));class aP{constructor(t,{headers:r={},customFetch:n,region:s=uh.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=iP(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return nP(this,arguments,void 0,function*(r,n={}){var s;let i,a;try{const{headers:l,method:c,body:u,signal:d,timeout:f}=n;let h={},{region:g}=n;g||(g=this.region);const v=new URL(`${this.url}/${r}`);g&&g!=="any"&&(h["x-region"]=g,v.searchParams.set("forceFunctionRegion",g));let p;u&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",p=u):typeof u=="string"?(h["Content-Type"]="text/plain",p=u):typeof FormData<"u"&&u instanceof FormData?p=u:(h["Content-Type"]="application/json",p=JSON.stringify(u)):u&&typeof u!="string"&&!(typeof Blob<"u"&&u instanceof Blob)&&!(u instanceof ArrayBuffer)&&!(typeof FormData<"u"&&u instanceof FormData)?p=JSON.stringify(u):p=u;let b=d;f&&(a=new AbortController,i=setTimeout(()=>a.abort(),f),d?(b=a.signal,d.addEventListener("abort",()=>a.abort())):b=a.signal);const w=yield this.fetch(v.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),l),body:p,signal:b}).catch(k=>{throw new oP(k)}),y=w.headers.get("x-relay-error");if(y&&y==="true")throw new hv(w);if(!w.ok)throw new pv(w);let x=((s=w.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),j;return x==="application/json"?j=yield w.json():x==="application/octet-stream"||x==="application/pdf"?j=yield w.blob():x==="text/event-stream"?j=w:x==="multipart/form-data"?j=yield w.formData():j=yield w.text(),{data:j,error:null,response:w}}catch(l){return{data:null,error:l,response:l instanceof pv||l instanceof hv?l.context:void 0}}finally{i&&clearTimeout(i)}})}}var lP=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},cP=class{constructor(e){var t,r,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,this.urlLengthLimit=(n=e.urlLengthLimit)!==null&&n!==void 0?n:8e3,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let a=null,l=null,c=null,u=i.status,d=i.statusText;if(i.ok){var f,h;if(r.method!=="HEAD"){var g;const w=await i.text();w===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((g=r.headers.get("Accept"))===null||g===void 0)&&g.includes("application/vnd.pgrst.plan+text"))?l=w:l=JSON.parse(w))}const p=(f=r.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),b=(h=i.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");p&&b&&b.length>1&&(c=parseInt(b[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(l)&&(l.length>1?(a={code:"PGRST116",details:`Results contain ${l.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},l=null,c=null,u=406,d="Not Acceptable"):l.length===1?l=l[0]:l=null)}else{var v;const p=await i.text();try{a=JSON.parse(p),Array.isArray(a)&&i.status===404&&(l=[],a=null,u=200,d="OK")}catch{i.status===404&&p===""?(u=204,d="No Content"):a={message:p}}if(a&&r.isMaybeSingle&&(!(a==null||(v=a.details)===null||v===void 0)&&v.includes("0 rows"))&&(a=null,u=200,d="OK"),a&&r.shouldThrowOnError)throw new lP(a)}return{error:a,data:l,count:c,status:u,statusText:d}});return this.shouldThrowOnError||(s=s.catch(i=>{var a;let l="",c="",u="";const d=i==null?void 0:i.cause;if(d){var f,h,g,v;const w=(f=d==null?void 0:d.message)!==null&&f!==void 0?f:"",y=(h=d==null?void 0:d.code)!==null&&h!==void 0?h:"";l=`${(g=i==null?void 0:i.name)!==null&&g!==void 0?g:"FetchError"}: ${i==null?void 0:i.message}`,l+=`

Caused by: ${(v=d==null?void 0:d.name)!==null&&v!==void 0?v:"Error"}: ${w}`,y&&(l+=` (${y})`),d!=null&&d.stack&&(l+=`
${d.stack}`)}else{var p;l=(p=i==null?void 0:i.stack)!==null&&p!==void 0?p:""}const b=this.url.toString().length;return(i==null?void 0:i.name)==="AbortError"||(i==null?void 0:i.code)==="ABORT_ERR"?(u="",c="Request was aborted (timeout or manual cancellation)",b>this.urlLengthLimit&&(c+=`. Note: Your request URL is ${b} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):((d==null?void 0:d.name)==="HeadersOverflowError"||(d==null?void 0:d.code)==="UND_ERR_HEADERS_OVERFLOW")&&(u="",c="HTTP headers exceeded server limits (typically 16KB)",b>this.urlLengthLimit&&(c+=`. Your request URL is ${b} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(a=i==null?void 0:i.name)!==null&&a!==void 0?a:"FetchError"}: ${i==null?void 0:i.message}`,details:l,hint:c,code:u},data:null,count:null,status:0,statusText:""}})),s.then(e,t)}returns(){return this}overrideTypes(){return this}},uP=class extends cP{select(e){let t=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:s=n}={}){const i=s?`${s}.order`:"order",a=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${a?`${a},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"offset":`${n}.offset`,i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(i,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:s=!1,format:i="text"}={}){var a;const l=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,s?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${c}"; options=${l};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const mv=new RegExp("[,()]");var ei=class extends uP{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&mv.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&mv.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n}={}){let s="";n==="plain"?s="pl":n==="phrase"?s="ph":n==="websearch"&&(s="w");const i=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${s}fts${i}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},dP=class{constructor(e,{headers:t={},schema:r,fetch:n,urlLengthLimit:s=8e3}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=n,this.urlLengthLimit=s}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:r=!1,count:n}=t??{},s=r?"HEAD":"GET";let i=!1;const a=(e??"*").split("").map(u=>/\s/.test(u)&&!i?"":(u==='"'&&(i=!i),u)).join(""),{url:l,headers:c}=this.cloneRequestState();return l.searchParams.set("select",a),n&&c.append("Prefer",`count=${n}`),new ei({method:s,url:l,headers:c,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(e,{count:t,defaultToNull:r=!0}={}){var n;const s="POST",{url:i,headers:a}=this.cloneRequestState();if(t&&a.append("Prefer",`count=${t}`),r||a.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);i.searchParams.set("columns",c.join(","))}}return new ei({method:s,url:i,headers:a,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:s=!0}={}){var i;const a="POST",{url:l,headers:c}=this.cloneRequestState();if(c.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&l.searchParams.set("on_conflict",t),n&&c.append("Prefer",`count=${n}`),s||c.append("Prefer","missing=default"),Array.isArray(e)){const u=e.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(u.length>0){const d=[...new Set(u)].map(f=>`"${f}"`);l.searchParams.set("columns",d.join(","))}}return new ei({method:a,url:l,headers:c,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch,urlLengthLimit:this.urlLengthLimit})}update(e,{count:t}={}){var r;const n="PATCH",{url:s,headers:i}=this.cloneRequestState();return t&&i.append("Prefer",`count=${t}`),new ei({method:n,url:s,headers:i,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:e}={}){var t;const r="DELETE",{url:n,headers:s}=this.cloneRequestState();return e&&s.append("Prefer",`count=${e}`),new ei({method:r,url:n,headers:s,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch,urlLengthLimit:this.urlLengthLimit})}};function Ca(e){"@babel/helpers - typeof";return Ca=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ca(e)}function fP(e,t){if(Ca(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ca(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hP(e){var t=fP(e,"string");return Ca(t)=="symbol"?t:t+""}function pP(e,t,r){return(t=hP(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Pl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gv(Object(r),!0).forEach(function(n){pP(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gv(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var mP=class zb{constructor(t,{headers:r={},schema:n,fetch:s,timeout:i,urlLengthLimit:a=8e3}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.urlLengthLimit=a;const l=s??globalThis.fetch;i!==void 0&&i>0?this.fetch=(c,u)=>{const d=new AbortController,f=setTimeout(()=>d.abort(),i),h=u==null?void 0:u.signal;if(h){if(h.aborted)return clearTimeout(f),l(c,u);const g=()=>{clearTimeout(f),d.abort()};return h.addEventListener("abort",g,{once:!0}),l(c,Pl(Pl({},u),{},{signal:d.signal})).finally(()=>{clearTimeout(f),h.removeEventListener("abort",g)})}return l(c,Pl(Pl({},u),{},{signal:d.signal})).finally(()=>clearTimeout(f))}:this.fetch=l}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new dP(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(t){return new zb(this.url,{headers:this.headers,schema:t,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(t,r={},{head:n=!1,get:s=!1,count:i}={}){var a;let l;const c=new URL(`${this.url}/rpc/${t}`);let u;const d=g=>g!==null&&typeof g=="object"&&(!Array.isArray(g)||g.some(d)),f=n&&Object.values(r).some(d);f?(l="POST",u=r):n||s?(l=n?"HEAD":"GET",Object.entries(r).filter(([g,v])=>v!==void 0).map(([g,v])=>[g,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([g,v])=>{c.searchParams.append(g,v)})):(l="POST",u=r);const h=new Headers(this.headers);return f?h.set("Prefer",i?`count=${i},return=minimal`:"return=minimal"):i&&h.set("Prefer",`count=${i}`),new ei({method:l,url:c,headers:h,schema:this.schemaName,body:u,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch,urlLengthLimit:this.urlLengthLimit})}};class gP{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const n=r.versions;if(n&&n.node){const s=n.node,i=parseInt(s.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const vP="2.97.0",yP=`realtime-js/${vP}`,xP="1.0.0",Wb="2.0.0",vv=Wb,dh=1e4,wP=1e3,bP=100;var fn;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(fn||(fn={}));var We;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(We||(We={}));var ar;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(ar||(ar={}));var fh;(function(e){e.websocket="websocket"})(fh||(fh={}));var as;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(as||(as={}));class jP{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const s=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(t){var r,n;const s=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},a=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,a)}_encodeUserBroadcastPush(t,r,n){var s,i;const a=t.topic,l=(s=t.ref)!==null&&s!==void 0?s:"",c=(i=t.join_ref)!==null&&i!==void 0?i:"",u=t.payload.event,d=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},f=Object.keys(d).length===0?"":JSON.stringify(d);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`ref length ${l.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`topic length ${a.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`metadata length ${f.length} exceeds maximum of 255`);const h=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+l.length+a.length+u.length+f.length,g=new ArrayBuffer(this.HEADER_LENGTH+h);let v=new DataView(g),p=0;v.setUint8(p++,this.KINDS.userBroadcastPush),v.setUint8(p++,c.length),v.setUint8(p++,l.length),v.setUint8(p++,a.length),v.setUint8(p++,u.length),v.setUint8(p++,f.length),v.setUint8(p++,r),Array.from(c,w=>v.setUint8(p++,w.charCodeAt(0))),Array.from(l,w=>v.setUint8(p++,w.charCodeAt(0))),Array.from(a,w=>v.setUint8(p++,w.charCodeAt(0))),Array.from(u,w=>v.setUint8(p++,w.charCodeAt(0))),Array.from(f,w=>v.setUint8(p++,w.charCodeAt(0)));var b=new Uint8Array(g.byteLength+n.byteLength);return b.set(new Uint8Array(g),0),b.set(new Uint8Array(n),g.byteLength),b.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[s,i,a,l,c]=n;return r({join_ref:s,ref:i,topic:a,event:l,payload:c})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),s=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,s)}}_decodeUserBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2),a=r.getUint8(3),l=r.getUint8(4);let c=this.HEADER_LENGTH+4;const u=n.decode(t.slice(c,c+s));c=c+s;const d=n.decode(t.slice(c,c+i));c=c+i;const f=n.decode(t.slice(c,c+a));c=c+a;const h=t.slice(c,t.byteLength),g=l===this.JSON_ENCODING?JSON.parse(n.decode(h)):h,v={type:this.BROADCAST_EVENT,event:d,payload:g};return a>0&&(v.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:v}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class Hb{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var je;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(je||(je={}));const yv=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((i,a)=>(i[a]=NP(a,e,t,s),i),{}):{}},NP=(e,t,r,n)=>{const s=t.find(l=>l.name===e),i=s==null?void 0:s.type,a=r[e];return i&&!n.includes(i)?Vb(i,a):hh(a)},Vb=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return EP(t,r)}switch(e){case je.bool:return SP(t);case je.float4:case je.float8:case je.int2:case je.int4:case je.int8:case je.numeric:case je.oid:return kP(t);case je.json:case je.jsonb:return _P(t);case je.timestamp:return CP(t);case je.abstime:case je.date:case je.daterange:case je.int4range:case je.int8range:case je.money:case je.reltime:case je.text:case je.time:case je.timestamptz:case je.timetz:case je.tsrange:case je.tstzrange:return hh(t);default:return hh(t)}},hh=e=>e,SP=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},kP=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},_P=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},EP=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const a=e.slice(1,r);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(l=>Vb(t,l))}return e},CP=e=>typeof e=="string"?e.replace(" ","T"):e,qb=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Nd{constructor(t,r,n={},s=dh){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var xv;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(xv||(xv={}));class Zo{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:a,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Zo.syncState(this.state,s,i,a),this.pendingDiffs.forEach(c=>{this.state=Zo.syncDiff(this.state,c,i,a)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:a,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Zo.syncDiff(this.state,s,i,a),l())}),this.onJoin((s,i,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:a})}),this.onLeave((s,i,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),a=this.transformState(r),l={},c={};return this.map(i,(u,d)=>{a[u]||(c[u]=d)}),this.map(a,(u,d)=>{const f=i[u];if(f){const h=d.map(b=>b.presence_ref),g=f.map(b=>b.presence_ref),v=d.filter(b=>g.indexOf(b.presence_ref)<0),p=f.filter(b=>h.indexOf(b.presence_ref)<0);v.length>0&&(l[u]=v),p.length>0&&(c[u]=p)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(g=>g.presence_ref),h=d.filter(g=>f.indexOf(g.presence_ref)<0);t[l].unshift(...h)}n(l,d,c)}),this.map(a,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var wv;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(wv||(wv={}));var ea;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(ea||(ea={}));var Lr;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Lr||(Lr={}));class vi{constructor(t,r={config:{}},n){var s,i;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=We.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Nd(this,ar.join,this.params,this.timeout),this.rejoinTimer=new Hb(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=We.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=We.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=We.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=We.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=We.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ar.reply,{},(a,l)=>{this._trigger(this._replyEventName(l),a)}),this.presence=new Zo(this),this.broadcastEndpointURL=qb(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==We.closed){const{config:{broadcast:a,presence:l,private:c}}=this.params,u=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(g=>g.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[ea.PRESENCE]&&this.bindings[ea.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,f={},h={broadcast:a,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(g=>t==null?void 0:t(Lr.CHANNEL_ERROR,g)),this._onClose(()=>t==null?void 0:t(Lr.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:g})=>{var v;if(this.socket._isManualToken()||this.socket.setAuth(),g===void 0){t==null||t(Lr.SUBSCRIBED);return}else{const p=this.bindings.postgres_changes,b=(v=p==null?void 0:p.length)!==null&&v!==void 0?v:0,w=[];for(let y=0;y<b;y++){const x=p[y],{filter:{event:j,schema:k,table:_,filter:N}}=x,E=g&&g[y];if(E&&E.event===j&&vi.isFilterValueEqual(E.schema,k)&&vi.isFilterValueEqual(E.table,_)&&vi.isFilterValueEqual(E.filter,N))w.push(Object.assign(Object.assign({},x),{id:E.id}));else{this.unsubscribe(),this.state=We.errored,t==null||t(Lr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,t&&t(Lr.SUBSCRIBED);return}}).receive("error",g=>{this.state=We.errored,t==null||t(Lr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(g).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Lr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===We.joined&&t===ea.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var s;if(r==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const a={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const u=await l.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:a}=t,l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=We.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ar.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new Nd(this,ar.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=We.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),a=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),a}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Nd(this,t,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>bP){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const a=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=ar;if(n&&[l,c,u,d].indexOf(a)>=0&&n!==this._joinRef())return;let h=this._onMessage(a,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(g=>{var v,p,b;return((v=g.filter)===null||v===void 0?void 0:v.event)==="*"||((b=(p=g.filter)===null||p===void 0?void 0:p.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===a}).map(g=>g.callback(h,n)):(i=this.bindings[a])===null||i===void 0||i.filter(g=>{var v,p,b,w,y,x;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in g){const j=g.id,k=(v=g.filter)===null||v===void 0?void 0:v.event;return j&&((p=r.ids)===null||p===void 0?void 0:p.includes(j))&&(k==="*"||(k==null?void 0:k.toLocaleLowerCase())===((b=r.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const j=(y=(w=g==null?void 0:g.filter)===null||w===void 0?void 0:w.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return j==="*"||j===((x=r==null?void 0:r.event)===null||x===void 0?void 0:x.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===a}).map(g=>{if(typeof h=="object"&&"ids"in h){const v=h.data,{schema:p,table:b,commit_timestamp:w,type:y,errors:x}=v;h=Object.assign(Object.assign({},{schema:p,table:b,commit_timestamp:w,eventType:y,new:{},old:{},errors:x}),this._getPayloadRecords(v))}g.callback(h,n)})}_isClosed(){return this.state===We.closed}_isJoined(){return this.state===We.joined}_isJoining(){return this.state===We.joining}_isLeaving(){return this.state===We.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&vi.isEqual(s.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(ar.close,{},t)}_onError(t){this._on(ar.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=We.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=yv(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=yv(t.columns,t.old_record)),r}}const Sd=()=>{},Rl={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},TP=[1e3,2e3,5e3,1e4],PP=1e4,RP=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class OP{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=dh,this.transport=null,this.heartbeatIntervalMs=Rl.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Sd,this.ref=0,this.reconnectTimer=null,this.vsn=vv,this.logger=Sd,this.conn=null,this.sendBuffer=[],this.serializer=new jP,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${fh.websocket}`,this.httpEndpoint=qb(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=gP.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case fn.connecting:return as.Connecting;case fn.open:return as.Open;case fn.closing:return as.Closing;default:return as.Closed}}isConnected(){return this.connectionState()===as.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new vi(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:s,ref:i}=t,a=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(wP,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Rl.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const u=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",u)}catch(d){this.log("error","error in heartbeat callback",d)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:s,payload:i,ref:a}=r,l=a?`(${a})`:"",c=i.status||"";this.log("receive",`${c} ${n} ${s} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(s,i,a)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===fn.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===fn.open||this.conn.readyState===fn.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(r){this.log("error","error in heartbeat callback",r)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(ar.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([RP],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(s=>{const i={access_token:r,version:yP};r&&s.updateJoinPayload(i),s.joinedOnce&&s._isJoined()&&s._push(ar.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new Hb(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Rl.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,s,i,a,l,c,u,d,f,h,g;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:dh,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:Rl.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(a=t==null?void 0:t.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:Sd,this.vsn=(c=t==null?void 0:t.vsn)!==null&&c!==void 0?c:vv,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:v=>TP[v-1]||PP,this.vsn){case xP:this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(v,p)=>p(JSON.stringify(v)),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:(v,p)=>p(JSON.parse(v));break;case Wb:this.encode=(h=t==null?void 0:t.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(g=t==null?void 0:t.decode)!==null&&g!==void 0?g:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var Ta=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function AP(e,t,r){const n=new URL(t,e);if(r)for(const[s,i]of Object.entries(r))i!==void 0&&n.searchParams.set(s,i);return n.toString()}async function IP(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function MP(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:s,body:i,headers:a}){const l=AP(e.baseUrl,n,s),c=await IP(e.auth),u=await t(l,{method:r,headers:{...i?{"Content-Type":"application/json"}:{},...c,...a},body:i?JSON.stringify(i):void 0}),d=await u.text(),f=(u.headers.get("content-type")||"").includes("application/json"),h=f&&d?JSON.parse(d):d;if(!u.ok){const g=f?h:void 0,v=g==null?void 0:g.error;throw new Ta((v==null?void 0:v.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:v==null?void 0:v.type,icebergCode:v==null?void 0:v.code,details:g})}return{status:u.status,headers:u.headers,data:h}}}}function Ol(e){return e.join("")}var DP=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Ol(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ol(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ol(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ol(e.namespace)}`}),!0}catch(t){if(t instanceof Ta&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof Ta&&r.status===409)return;throw r}}};function Hs(e){return e.join("")}var LP=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Hs(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Hs(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Hs(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Hs(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Hs(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Hs(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof Ta&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof Ta&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},$P=class{constructor(e){var n;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=MP({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(n=e.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new DP(this.client,t),this.tableOps=new LP(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},_u=class extends Error{constructor(e,t="storage",r,n){super(e),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=r,this.statusCode=n}};function Eu(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var Al=class extends _u{constructor(e,t,r,n="storage"){super(e,n,t,r),this.name=n==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Kb=class extends _u{constructor(e,t,r="storage"){super(e,r),this.name=r==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const FP=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),UP=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},ph=e=>{if(Array.isArray(e))return e.map(r=>ph(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=ph(n)}),t},BP=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function Pa(e){"@babel/helpers - typeof";return Pa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pa(e)}function zP(e,t){if(Pa(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Pa(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function WP(e){var t=zP(e,"string");return Pa(t)=="symbol"?t:t+""}function HP(e,t,r){return(t=WP(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ne(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bv(Object(r),!0).forEach(function(n){HP(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bv(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const jv=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},VP=async(e,t,r,n)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const s=e,i=s.status||500;if(typeof s.json=="function")s.json().then(a=>{const l=(a==null?void 0:a.statusCode)||(a==null?void 0:a.code)||i+"";t(new Al(jv(a),i,l,n))}).catch(()=>{if(n==="vectors"){const a=i+"";t(new Al(s.statusText||`HTTP ${i} error`,i,a,n))}else{const a=i+"";t(new Al(s.statusText||`HTTP ${i} error`,i,a,n))}});else{const a=i+"";t(new Al(s.statusText||`HTTP ${i} error`,i,a,n))}}else t(new Kb(jv(e),e,n))},qP=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||e==="HEAD"||!n?ne(ne({},s),r):(UP(n)?(s.headers=ne({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,t!=null&&t.duplex&&(s.duplex=t.duplex),ne(ne({},s),r))};async function Ro(e,t,r,n,s,i,a){return new Promise((l,c)=>{e(r,qP(t,n,s,i)).then(u=>{if(!u.ok)throw u;if(n!=null&&n.noResolveJson)return u;if(a==="vectors"){const d=u.headers.get("content-type");if(u.headers.get("content-length")==="0"||u.status===204)return{};if(!d||!d.includes("application/json"))return{}}return u.json()}).then(u=>l(u)).catch(u=>VP(u,c,n,a))})}function Gb(e="storage"){return{get:async(t,r,n,s)=>Ro(t,"GET",r,n,s,void 0,e),post:async(t,r,n,s,i)=>Ro(t,"POST",r,s,i,n,e),put:async(t,r,n,s,i)=>Ro(t,"PUT",r,s,i,n,e),head:async(t,r,n,s)=>Ro(t,"HEAD",r,ne(ne({},n),{},{noResolveJson:!0}),s,void 0,e),remove:async(t,r,n,s,i)=>Ro(t,"DELETE",r,s,i,n,e)}}const KP=Gb("storage"),{get:Ra,post:sr,put:mh,head:GP,remove:nm}=KP,It=Gb("vectors");var go=class{constructor(e,t={},r,n="storage"){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=FP(r),this.namespace=n}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=ne(ne({},this.headers),{},{[e]:t}),this}async handleOperation(e){var t=this;try{return{data:await e(),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Eu(r))return{data:null,error:r};throw r}}},QP=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Eu(t))return{data:null,error:t};throw t}}};let Qb;Qb=Symbol.toStringTag;var YP=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[Qb]="BlobDownloadBuilder",this.promise=null}asStream(){return new QP(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Eu(t))return{data:null,error:t};throw t}}};const JP={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Nv={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var XP=class extends go{constructor(e,t={},r,n){super(e,t,n,"storage"),this.bucketId=r}async uploadOrUpdate(e,t,r,n){var s=this;return s.handleOperation(async()=>{let i;const a=ne(ne({},Nv),n);let l=ne(ne({},s.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const c=a.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),c&&i.append("metadata",s.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.has("cacheControl")||i.append("cacheControl",a.cacheControl),c&&!i.has("metadata")&&i.append("metadata",s.encodeMetadata(c))):(i=r,l["cache-control"]=`max-age=${a.cacheControl}`,l["content-type"]=a.contentType,c&&(l["x-metadata"]=s.toBase64(s.encodeMetadata(c))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!a.duplex&&(a.duplex="half")),n!=null&&n.headers&&(l=ne(ne({},l),n.headers));const u=s._removeEmptyFolders(t),d=s._getFinalPath(u),f=await(e=="PUT"?mh:sr)(s.fetch,`${s.url}/object/${d}`,i,ne({headers:l},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{path:u,id:f.Id,fullPath:f.Key}})}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,n){var s=this;const i=s._removeEmptyFolders(e),a=s._getFinalPath(i),l=new URL(s.url+`/object/upload/sign/${a}`);return l.searchParams.set("token",t),s.handleOperation(async()=>{let c;const u=ne({upsert:Nv.upsert},n),d=ne(ne({},s.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType),{path:i,fullPath:(await mh(s.fetch,l.toString(),c,{headers:d})).Key}})}async createSignedUploadUrl(e,t){var r=this;return r.handleOperation(async()=>{let n=r._getFinalPath(e);const s=ne({},r.headers);t!=null&&t.upsert&&(s["x-upsert"]="true");const i=await sr(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:s}),a=new URL(r.url+i.url),l=a.searchParams.get("token");if(!l)throw new _u("No token returned by API");return{signedUrl:a.toString(),path:e,token:l}})}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var n=this;return n.handleOperation(async()=>await sr(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}))}async copy(e,t,r){var n=this;return n.handleOperation(async()=>({path:(await sr(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key}))}async createSignedUrl(e,t,r){var n=this;return n.handleOperation(async()=>{let s=n._getFinalPath(e),i=await sr(n.fetch,`${n.url}/object/sign/${s}`,ne({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{signedUrl:encodeURI(`${n.url}${i.signedURL}${a}`)}})}async createSignedUrls(e,t,r){var n=this;return n.handleOperation(async()=>{const s=await sr(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:t,paths:e},{headers:n.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return s.map(a=>ne(ne({},a),{},{signedUrl:a.signedURL?encodeURI(`${n.url}${a.signedURL}${i}`):null}))})}download(e,t,r){const n=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),i=s?`?${s}`:"",a=this._getFinalPath(e),l=()=>Ra(this.fetch,`${this.url}/${n}/${a}${i}`,{headers:this.headers,noResolveJson:!0},r);return new YP(l,this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);return t.handleOperation(async()=>ph(await Ra(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})))}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await GP(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Eu(n)&&n instanceof Kb){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],s=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";s!==""&&n.push(s);const i=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",a=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});a!==""&&n.push(a);let l=n.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${r}${l}`)}}}async remove(e){var t=this;return t.handleOperation(async()=>await nm(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}))}async list(e,t,r){var n=this;return n.handleOperation(async()=>{const s=ne(ne(ne({},JP),t),{},{prefix:e||""});return await sr(n.fetch,`${n.url}/object/list/${n.bucketId}`,s,{headers:n.headers},r)})}async listV2(e,t){var r=this;return r.handleOperation(async()=>{const n=ne({},e);return await sr(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const ZP="2.97.0",tl={"X-Client-Info":`storage-js/${ZP}`};var eR=class extends go{constructor(e,t={},r,n){const s=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase."));const i=s.href.replace(/\/$/,""),a=ne(ne({},tl),t);super(i,a,r,"storage")}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=t.listBucketOptionsToQueryString(e);return await Ra(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await Ra(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}))}async createBucket(e,t={public:!1}){var r=this;return r.handleOperation(async()=>await sr(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async updateBucket(e,t){var r=this;return r.handleOperation(async()=>await mh(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await sr(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await nm(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},tR=class extends go{constructor(e,t={},r){const n=e.replace(/\/$/,""),s=ne(ne({},tl),t);super(n,s,r,"storage")}async createBucket(e){var t=this;return t.handleOperation(async()=>await sr(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),s=n?`${t.url}/bucket?${n}`:`${t.url}/bucket`;return await Ra(t.fetch,s,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await nm(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}from(e){var t=this;if(!BP(e))throw new _u("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new $P({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(s,i){const a=s[i];return typeof a!="function"?a:async(...l)=>{try{return{data:await a.apply(s,l),error:null}}catch(c){if(n)throw c;return{data:null,error:c}}}}})}},rR=class extends go{constructor(e,t={},r){const n=e.replace(/\/$/,""),s=ne(ne({},tl),{},{"Content-Type":"application/json"},t);super(n,s,r,"vectors")}async createIndex(e){var t=this;return t.handleOperation(async()=>await It.post(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{})}async getIndex(e,t){var r=this;return r.handleOperation(async()=>await It.post(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await It.post(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}))}async deleteIndex(e,t){var r=this;return r.handleOperation(async()=>await It.post(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{})}},nR=class extends go{constructor(e,t={},r){const n=e.replace(/\/$/,""),s=ne(ne({},tl),{},{"Content-Type":"application/json"},t);super(n,s,r,"vectors")}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await It.post(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await It.post(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}))}async listVectors(e){var t=this;if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return t.handleOperation(async()=>await It.post(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await It.post(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await It.post(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{})}},sR=class extends go{constructor(e,t={},r){const n=e.replace(/\/$/,""),s=ne(ne({},tl),{},{"Content-Type":"application/json"},t);super(n,s,r,"vectors")}async createBucket(e){var t=this;return t.handleOperation(async()=>await It.post(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await It.post(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}))}async listBuckets(e={}){var t=this;return t.handleOperation(async()=>await It.post(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await It.post(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}},iR=class extends sR{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new oR(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,r=this;return t().call(r,e)}async getBucket(e){var t=()=>super.getBucket,r=this;return t().call(r,e)}async listBuckets(e={}){var t=()=>super.listBuckets,r=this;return t().call(r,e)}async deleteBucket(e){var t=()=>super.deleteBucket,r=this;return t().call(r,e)}},oR=class extends rR{constructor(e,t,r,n){super(e,t,n),this.vectorBucketName=r}async createIndex(e){var t=()=>super.createIndex,r=this;return t().call(r,ne(ne({},e),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,r=this;return t().call(r,ne(ne({},e),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,r=this;return t().call(r,r.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,r=this;return t().call(r,r.vectorBucketName,e)}index(e){return new aR(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},aR=class extends nR{constructor(e,t,r,n,s){super(e,t,s),this.vectorBucketName=r,this.indexName=n}async putVectors(e){var t=()=>super.putVectors,r=this;return t().call(r,ne(ne({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(e){var t=()=>super.getVectors,r=this;return t().call(r,ne(ne({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,r=this;return t().call(r,ne(ne({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,r=this;return t().call(r,ne(ne({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,r=this;return t().call(r,ne(ne({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},lR=class extends eR{constructor(e,t={},r,n){super(e,t,r,n)}from(e){return new XP(this.url,this.headers,e,this.fetch)}get vectors(){return new iR(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new tR(this.url+"/iceberg",this.headers,this.fetch)}};const Yb="2.97.0",ti=30*1e3,gh=3,kd=gh*ti,cR="http://localhost:9999",uR="supabase.auth.token",dR={"X-Client-Info":`gotrue-js/${Yb}`},vh="X-Supabase-Api-Version",Jb={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},fR=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,hR=10*60*1e3;class Oa extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function G(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class pR extends Oa{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function mR(e){return G(e)&&e.name==="AuthApiError"}class ls extends Oa{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class tn extends Oa{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class Tt extends tn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function _d(e){return G(e)&&e.name==="AuthSessionMissingError"}class Vs extends tn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Il extends tn{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Ml extends tn{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function gR(e){return G(e)&&e.name==="AuthImplicitGrantRedirectError"}class Sv extends tn{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class vR extends tn{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class yh extends tn{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Ed(e){return G(e)&&e.name==="AuthRetryableFetchError"}class kv extends tn{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class xh extends tn{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Kc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),_v=` 	
\r=`.split(""),yR=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<_v.length;t+=1)e[_v[t].charCodeAt(0)]=-2;for(let t=0;t<Kc.length;t+=1)e[Kc[t].charCodeAt(0)]=t;return e})();function Ev(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Kc[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Kc[n]),t.queuedBits-=6}}function Xb(e,t,r){const n=yR[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Cv(e){const t=[],r=a=>{t.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=a=>{bR(a,n,r)};for(let a=0;a<e.length;a+=1)Xb(e.charCodeAt(a),s,i);return t.join("")}function xR(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function wR(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}xR(n,t)}}function bR(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Ri(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)Xb(e.charCodeAt(s),r,n);return new Uint8Array(t)}function jR(e){const t=[];return wR(e,r=>t.push(r)),new Uint8Array(t)}function fs(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>Ev(s,r,n)),Ev(null,r,n),t.join("")}function NR(e){return Math.round(Date.now()/1e3)+e}function SR(){return Symbol("auth-callback")}const Xe=()=>typeof window<"u"&&typeof document<"u",ts={tested:!1,writable:!1},Zb=()=>{if(!Xe())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ts.tested)return ts.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ts.tested=!0,ts.writable=!0}catch{ts.tested=!0,ts.writable=!1}return ts.writable};function kR(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const e1=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),_R=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",ri=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},rs=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Je=async(e,t)=>{await e.removeItem(t)};class Cu{constructor(){this.promise=new Cu.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Cu.promiseConstructor=Promise;function Dl(e){const t=e.split(".");if(t.length!==3)throw new xh("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!fR.test(t[n]))throw new xh("JWT not in base64url format");return{header:JSON.parse(Cv(t[0])),payload:JSON.parse(Cv(t[1])),signature:Ri(t[2]),raw:{header:t[0],payload:t[1]}}}async function ER(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function CR(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await e(i);if(!t(i,null,a)){n(a);return}}catch(a){if(!t(i,a)){s(a);return}}})()})}function TR(e){return("0"+e.toString(16)).substr(-2)}function PR(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,TR).join("")}async function RR(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function OR(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await RR(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function qs(e,t,r=!1){const n=PR();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await ri(e,`${t}-code-verifier`,s);const i=await OR(n);return[i,n===i?"plain":"s256"]}const AR=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function IR(e){const t=e.headers.get(vh);if(!t||!t.match(AR))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function MR(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function DR(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const LR=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ks(e){if(!LR.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Cd(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function $R(e,t){return new Proxy(e,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,s)}})}function Tv(e){return JSON.parse(JSON.stringify(e))}const is=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),FR=[502,503,504];async function Pv(e){var t;if(!_R(e))throw new yh(is(e),0);if(FR.includes(e.status))throw new yh(is(e),e.status);let r;try{r=await e.json()}catch(i){throw new ls(is(i),i)}let n;const s=IR(e);if(s&&s.getTime()>=Jb["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new kv(is(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Tt}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new kv(is(r),e.status,r.weak_password.reasons);throw new pR(is(r),e.status||500,n)}const UR=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function se(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[vh]||(i[vh]=Jb["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const a=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const l=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",c=await BR(e,t,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function BR(e,t,r,n,s,i){const a=UR(t,n,s,i);let l;try{l=await e(r,Object.assign({},a))}catch(c){throw console.error(c),new yh(is(c),0)}if(l.ok||await Pv(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await Pv(c)}}function tr(e){var t;let r=null;HR(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=NR(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Rv(e){const t=tr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function mn(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function zR(e){return{data:e,error:null}}function WR(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,a=mo(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},c=Object.assign({},a);return{data:{properties:l,user:c},error:null}}function Ov(e){return e}function HR(e){return e.access_token&&e.refresh_token&&e.expires_in}const Td=["global","local","others"];class VR{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=e1(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=Td[0]){if(Td.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Td.join(", ")}`);try{return await se(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(G(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await se(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:mn})}catch(n){if(G(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=mo(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await se(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:WR,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(G(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await se(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:mn})}catch(r){if(G(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,a,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await se(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Ov});if(d.error)throw d.error;const f=await d.json(),h=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,g=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return g.length>0&&(g.forEach(v=>{const p=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(v.split(";")[1].split("=")[1]);u[`${b}Page`]=p}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(G(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Ks(t);try{return await se(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:mn})}catch(r){if(G(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Ks(t);try{return await se(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:mn})}catch(n){if(G(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Ks(t);try{return await se(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:mn})}catch(n){if(G(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Ks(t.userId);try{const{data:r,error:n}=await se(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(G(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Ks(t.userId),Ks(t.id);try{return{data:await se(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(G(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,s,i,a,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await se(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Ov});if(d.error)throw d.error;const f=await d.json(),h=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,g=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return g.length>0&&(g.forEach(v=>{const p=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(v.split(";")[1].split("=")[1]);u[`${b}Page`]=p}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(G(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await se(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(G(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await se(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(G(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await se(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(G(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await se(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(G(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await se(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(G(r))return{data:null,error:r};throw r}}}function Av(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Gs={debug:!!(globalThis&&Zb()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class t1 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Iv extends t1{}async function qR(e,t,r){Gs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;t>0&&setTimeout(()=>{n.abort(),Gs.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve();try{return await globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Gs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{Gs.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Gs.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Iv(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Gs.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}})}catch(s){throw(s==null?void 0:s.name)==="AbortError"?new Iv(`Acquiring an exclusive Navigator LockManager lock "${e}" timed out waiting ${t}ms`):s}}function KR(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function r1(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function GR(e){return parseInt(e,16)}function QR(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function YR(e){var t;const{chainId:r,domain:n,expirationTime:s,issuedAt:i=new Date,nonce:a,notBefore:l,requestId:c,resources:u,scheme:d,uri:f,version:h}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const g=r1(e.address),v=d?`${d}://${n}`:n,p=e.statement?`${e.statement}
`:"",b=`${v} wants you to sign in with your Ethereum account:
${g}

${p}`;let w=`URI: ${f}
Version: ${h}
Chain ID: ${r}${a?`
Nonce: ${a}`:""}
Issued At: ${i.toISOString()}`;if(s&&(w+=`
Expiration Time: ${s.toISOString()}`),l&&(w+=`
Not Before: ${l.toISOString()}`),c&&(w+=`
Request ID: ${c}`),u){let y=`
Resources:`;for(const x of u){if(!x||typeof x!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${x}`);y+=`
- ${x}`}w+=y}return`${b}
${w}`}class Be extends Error{constructor({message:t,code:r,cause:n,name:s}){var i;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=s??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class Gc extends Be{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function JR({error:e,options:t}){var r,n,s;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Be({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Be({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Be({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Be({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Be({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Be({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new Be({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Be({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const a=window.location.hostname;if(n1(a)){if(i.rp.id!==a)return new Be({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Be({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Be({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Be({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Be({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function XR({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Be({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Be({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(n1(n)){if(r.rpId!==n)return new Be({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Be({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Be({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Be({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class ZR{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const eO=new ZR;function tO(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,s=mo(e,["challenge","user","excludeCredentials"]),i=Ri(t).buffer,a=Object.assign(Object.assign({},r),{id:Ri(r.id).buffer}),l=Object.assign(Object.assign({},s),{challenge:i,user:a});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const u=n[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:Ri(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function rO(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=mo(e,["challenge","allowCredentials"]),s=Ri(t).buffer,i=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let a=0;a<r.length;a++){const l=r[a];i.allowCredentials[a]=Object.assign(Object.assign({},l),{id:Ri(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return i}function nO(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:fs(new Uint8Array(e.response.attestationObject)),clientDataJSON:fs(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function sO(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:fs(new Uint8Array(s.authenticatorData)),clientDataJSON:fs(new Uint8Array(s.clientDataJSON)),signature:fs(new Uint8Array(s.signature)),userHandle:s.userHandle?fs(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function n1(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Mv(){var e,t;return!!(Xe()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function iO(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Gc("Browser returned unexpected credential type",t)}:{data:null,error:new Gc("Empty credential response",t)}}catch(t){return{data:null,error:JR({error:t,options:e})}}}async function oO(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Gc("Browser returned unexpected credential type",t)}:{data:null,error:new Gc("Empty credential response",t)}}catch(t){return{data:null,error:XR({error:t,options:e})}}}const aO={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},lO={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Qc(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of e)if(s)for(const i in s){const a=s[i];if(a!==void 0)if(Array.isArray(a))n[i]=a;else if(r(a))n[i]=a;else if(t(a)){const l=n[i];t(l)?n[i]=Qc(l,a):n[i]=Qc(a)}else n[i]=a}return n}function cO(e,t){return Qc(aO,e,t||{})}function uO(e,t){return Qc(lO,e,t||{})}class dO{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:s},i){var a;try{const{data:l,error:c}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!l)return{data:null,error:c};const u=s??eO.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:d}=l.webauthn.credential_options.publicKey;if(!d.name){const f=n;if(f)d.name=`${d.id}:${f}`;else{const g=(await this.client.getUser()).data.user,v=((a=g==null?void 0:g.user_metadata)===null||a===void 0?void 0:a.name)||(g==null?void 0:g.email)||(g==null?void 0:g.id)||"User";d.name=`${d.id}:${v}`}}d.displayName||(d.displayName=d.name)}switch(l.webauthn.type){case"create":{const d=cO(l.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:f,error:h}=await iO({publicKey:d,signal:u});return f?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:f}},error:null}:{data:null,error:h}}case"request":{const d=uO(l.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:f,error:h}=await oO(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:d,signal:u}));return f?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:f}},error:null}:{data:null,error:h}}}}catch(l){return G(l)?{data:null,error:l}:{data:null,error:new ls("Unexpected error in challenge",l)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new Oa("rpId is required for WebAuthn authentication")};try{if(!Mv())return{data:null,error:new ls("Browser does not support WebAuthn",null)};const{data:a,error:l}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:i});if(!a)return{data:null,error:l};const{webauthn:c}=a;return this._verify({factorId:t,challengeId:a.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(a){return G(a)?{data:null,error:a}:{data:null,error:new ls("Unexpected error in authenticate",a)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new Oa("rpId is required for WebAuthn registration")};try{if(!Mv())return{data:null,error:new ls("Browser does not support WebAuthn",null)};const{data:a,error:l}=await this._enroll({friendlyName:t});if(!a)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:i});return c?this._verify({factorId:a.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(a){return G(a)?{data:null,error:a}:{data:null,error:new ls("Unexpected error in register",a)}}}}KR();const fO={url:cR,storageKey:uR,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:dR,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4,skipAutoInitialize:!1};async function Dv(e,t,r){return await r()}const Qs={};class Aa{get jwks(){var t,r;return(r=(t=Qs[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Qs[this.storageKey]=Object.assign(Object.assign({},Qs[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Qs[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Qs[this.storageKey]=Object.assign(Object.assign({},Qs[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},fO),t);if(this.storageKey=i.storageKey,this.instanceID=(r=Aa.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Aa.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&Xe()){const a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new VR({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=e1(i.fetch),this.lock=i.lock||Dv,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,this.lockAcquireTimeout=i.lockAcquireTimeout,i.lock?this.lock=i.lock:this.persistSession&&Xe()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=qR:this.lock=Dv,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new dO(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:Zb()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Av(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Av(this.memoryStorage)),Xe()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a);try{await this._notifyAllSubscribers(a.data.event,a.data.session,!1)}catch(l){this._debug("#broadcastChannel","error",l)}})}i.skipAutoInitialize||this.initialize().catch(a=>{this._debug("#initialize()","error",a)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Yb}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(Xe()&&(r=kR(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),Xe()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),gR(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return{error:i}}const{session:a,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",l),await this._saveSession(a),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return G(r)?this._returnResult({error:r}):this._returnResult({error:new ls("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:tr}),{data:a,error:l}=i;if(l||!a)return this._returnResult({data:{user:null,session:null},error:l});const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(G(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:d,password:f,options:h}=t;let g=null,v=null;this.flowType==="pkce"&&([g,v]=await qs(this.storage,this.storageKey)),i=await se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:g,code_challenge_method:v},xform:tr})}else if("phone"in t){const{phone:d,password:f,options:h}=t;i=await se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:tr})}else throw new Il("You must provide either an email or phone number and a password");const{data:a,error:l}=i;if(l||!a)return await Je(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(await Je(this.storage,`${this.storageKey}-code-verifier`),G(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:a,options:l}=t;r=await se(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Rv})}else if("phone"in t){const{phone:i,password:a,options:l}=t;r=await se(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Rv})}else throw new Il("You must provide either an email or phone number and a password");const{data:n,error:s}=r;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!n||!n.session||!n.user){const i=new Vs;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(G(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,s,i,a,l,c,u,d,f,h;let g,v;if("message"in t)g=t.message,v=t.signature;else{const{chain:p,wallet:b,statement:w,options:y}=t;let x;if(Xe())if(typeof b=="object")x=b;else{const O=window;if("ethereum"in O&&typeof O.ethereum=="object"&&"request"in O.ethereum&&typeof O.ethereum.request=="function")x=O.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=b}const j=new URL((r=y==null?void 0:y.url)!==null&&r!==void 0?r:window.location.href),k=await x.request({method:"eth_requestAccounts"}).then(O=>O).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!k||k.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const _=r1(k[0]);let N=(n=y==null?void 0:y.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!N){const O=await x.request({method:"eth_chainId"});N=GR(O)}const E={domain:j.host,address:_,statement:w,uri:j.href,version:"1",chainId:N,nonce:(s=y==null?void 0:y.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(a=(i=y==null?void 0:y.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(l=y==null?void 0:y.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=y==null?void 0:y.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=y==null?void 0:y.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=y==null?void 0:y.signInWithEthereum)===null||d===void 0?void 0:d.resources};g=YR(E),v=await x.request({method:"personal_sign",params:[QR(g),_]})}try{const{data:p,error:b}=await se(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:g,signature:v},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:tr});if(b)throw b;if(!p||!p.session||!p.user){const w=new Vs;return this._returnResult({data:{user:null,session:null},error:w})}return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),this._returnResult({data:Object.assign({},p),error:b})}catch(p){if(G(p))return this._returnResult({data:{user:null,session:null},error:p});throw p}}async signInWithSolana(t){var r,n,s,i,a,l,c,u,d,f,h,g;let v,p;if("message"in t)v=t.message,p=t.signature;else{const{chain:b,wallet:w,statement:y,options:x}=t;let j;if(Xe())if(typeof w=="object")j=w;else{const _=window;if("solana"in _&&typeof _.solana=="object"&&("signIn"in _.solana&&typeof _.solana.signIn=="function"||"signMessage"in _.solana&&typeof _.solana.signMessage=="function"))j=_.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=w}const k=new URL((r=x==null?void 0:x.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in j&&j.signIn){const _=await j.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},x==null?void 0:x.signInWithSolana),{version:"1",domain:k.host,uri:k.href}),y?{statement:y}:null));let N;if(Array.isArray(_)&&_[0]&&typeof _[0]=="object")N=_[0];else if(_&&typeof _=="object"&&"signedMessage"in _&&"signature"in _)N=_;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in N&&"signature"in N&&(typeof N.signedMessage=="string"||N.signedMessage instanceof Uint8Array)&&N.signature instanceof Uint8Array)v=typeof N.signedMessage=="string"?N.signedMessage:new TextDecoder().decode(N.signedMessage),p=N.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in j)||typeof j.signMessage!="function"||!("publicKey"in j)||typeof j!="object"||!j.publicKey||!("toBase58"in j.publicKey)||typeof j.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${k.host} wants you to sign in with your Solana account:`,j.publicKey.toBase58(),...y?["",y,""]:[""],"Version: 1",`URI: ${k.href}`,`Issued At: ${(s=(n=x==null?void 0:x.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=x==null?void 0:x.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${x.signInWithSolana.notBefore}`]:[],...!((a=x==null?void 0:x.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${x.signInWithSolana.expirationTime}`]:[],...!((l=x==null?void 0:x.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${x.signInWithSolana.chainId}`]:[],...!((c=x==null?void 0:x.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${x.signInWithSolana.nonce}`]:[],...!((u=x==null?void 0:x.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${x.signInWithSolana.requestId}`]:[],...!((f=(d=x==null?void 0:x.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...x.signInWithSolana.resources.map(N=>`- ${N}`)]:[]].join(`
`);const _=await j.signMessage(new TextEncoder().encode(v),"utf8");if(!_||!(_ instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");p=_}}try{const{data:b,error:w}=await se(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:fs(p)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(g=t.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:tr});if(w)throw w;if(!b||!b.session||!b.user){const y=new Vs;return this._returnResult({data:{user:null,session:null},error:y})}return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign({},b),error:w})}catch(b){if(G(b))return this._returnResult({data:{user:null,session:null},error:b});throw b}}async _exchangeCodeForSession(t){const r=await rs(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new vR;const{data:i,error:a}=await se(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:tr});if(await Je(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!i||!i.session||!i.user){const l=new Vs;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:a})}catch(i){if(await Je(this.storage,`${this.storageKey}-code-verifier`),G(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:a}=t,l=await se(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:tr}),{data:c,error:u}=l;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){const d=new Vs;return this._returnResult({data:{user:null,session:null},error:d})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(r){if(G(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,s,i,a;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await qs(this.storage,this.storageKey));const{error:f}=await se(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await se(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(a=c==null?void 0:c.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new Il("You must provide either an email or phone number.")}catch(l){if(await Je(this.storage,`${this.storageKey}-code-verifier`),G(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:l}=await se(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:tr});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");const c=a.session,u=a.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(s){if(G(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var r,n,s,i,a;try{let l=null,c=null;this.flowType==="pkce"&&([l,c]=await qs(this.storage,this.storageKey));const u=await se(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:zR});return!((i=u.data)===null||i===void 0)&&i.url&&Xe()&&!(!((a=t.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(l){if(await Je(this.storage,`${this.storageKey}-code-verifier`),G(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Tt;const{error:s}=await se(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if(G(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:a}=await se(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:a,error:l}=await se(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:l})}throw new Il("You must provide either an email or phone number and a type")}catch(r){if(G(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await rs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<kd:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const a=await rs(this.userStorage,this.storageKey+"-user");a!=null&&a.user?t.user=a.user:t.user=Cd()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};t.user=$R(t.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await se(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:mn}):await this._useSession(async r=>{var n,s,i;const{data:a,error:l}=r;if(l)throw l;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Tt}:await se(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:mn})})}catch(r){if(G(r))return _d(r)&&(await this._removeSession(),await Je(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new Tt;const a=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await qs(this.storage,this.storageKey));const{data:u,error:d}=await se(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:a.access_token,xform:mn});if(d)throw d;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(n){if(await Je(this.storage,`${this.storageKey}-code-verifier`),G(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Tt;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:a}=Dl(t.access_token);if(a.exp&&(n=a.exp,s=n<=r),s){const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(G(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:a,error:l}=r;if(l)throw l;t=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Tt;const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(G(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!Xe())throw new Ml("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Ml(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Sv("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ml("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Sv("No code detected.");const{data:y,error:x}=await this._exchangeCodeForSession(t.code);if(x)throw x;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:l,expires_at:c,token_type:u}=t;if(!i||!l||!a||!u)throw new Ml("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let h=d+f;c&&(h=parseInt(c));const g=h-d;g*1e3<=ti&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${f}s`);const v=h-f;d-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,h,d):d-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,h,d);const{data:p,error:b}=await this._getUser(i);if(b)throw b;const w={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:f,expires_at:h,refresh_token:a,token_type:u,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:w,redirectType:t.type},error:null})}catch(n){if(G(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await rs(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i&&!_d(i))return this._returnResult({error:i});const a=(n=s.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:l}=await this.admin.signOut(a,t);if(l&&!(mR(l)&&(l.status===404||l.status===401||l.status===403)||_d(l)))return this._returnResult({error:l})}return t!=="others"&&(await this._removeSession(),await Je(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=SR(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await qs(this.storage,this.storageKey,!0));try{return await se(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(await Je(this.storage,`${this.storageKey}-code-verifier`),G(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(G(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var a,l,c,u,d;const{data:f,error:h}=i;if(h)throw h;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await se(this.fetch,"GET",g,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Xe()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(G(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:i}}=r;if(s)throw s;const{options:a,provider:l,token:c,access_token:u,nonce:d}=t,f=await se(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:tr}),{data:h,error:g}=f;return g?this._returnResult({data:{user:null,session:null},error:g}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new Vs}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:g}))}catch(s){if(await Je(this.storage,`${this.storageKey}-code-verifier`),G(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)throw a;return await se(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(G(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await CR(async s=>(s>0&&await ER(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await se(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:tr})),(s,i)=>{const a=200*Math.pow(2,s);return i&&Ed(i)&&Date.now()+a-n<ti})}catch(n){if(this._debug(r,"error",n),G(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Xe()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await rs(this.storage,this.storageKey);if(s&&this.userStorage){let a=await rs(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:s.user},await ri(this.userStorage,this.storageKey+"-user",a)),s.user=(t=a==null?void 0:a.user)!==null&&t!==void 0?t:Cd()}else if(s&&!s.user&&!s.user){const a=await rs(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(s.user=a.user,await Je(this.storage,this.storageKey+"-user"),await ri(this.storage,this.storageKey,s)):s.user=Cd()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<kd;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${kd}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:a}=await this._callRefreshToken(s.refresh_token);a&&(console.error(a),Ed(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:l}=await this._getUser(s.access_token);!l&&(a!=null&&a.user)?(s.user=a.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(n,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Tt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Cu;const{data:i,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!i.session)throw new Tt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={data:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),G(i)){const a={data:null,error:i};return Ed(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(a),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Je(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await ri(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=Tv(s);await ri(this.storage,this.storageKey,i)}else{const s=Tv(r);await ri(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Je(this.storage,this.storageKey),await Je(this.storage,this.storageKey+"-code-verifier"),await Je(this.storage,this.storageKey+"-user"),this.userStorage&&await Je(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Xe()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),ti);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/ti);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${ti}ms, refresh threshold is ${gh} ticks`),s<=gh&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof t1)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Xe()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,a]=await qs(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?this._returnResult({data:null,error:i}):await se(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(G(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await se(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&c.type==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(r){if(G(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const a=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?nO(t.webauthn.credential_response):sO(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=await se(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:a,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))})}catch(r){if(G(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const a=await se(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(a.error)return a;const{data:l}=a;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:tO(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:rO(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(G(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(t){var r,n,s,i;if(t)try{const{payload:g}=Dl(t);let v=null;g.aal&&(v=g.aal);let p=v;const{data:{user:b},error:w}=await this.getUser(t);if(w)return this._returnResult({data:null,error:w});((n=(r=b==null?void 0:b.factors)===null||r===void 0?void 0:r.filter(j=>j.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(p="aal2");const x=g.amr||[];return{data:{currentLevel:v,nextLevel:p,currentAuthenticationMethods:x},error:null}}catch(g){if(G(g))return this._returnResult({data:null,error:g});throw g}const{data:{session:a},error:l}=await this.getSession();if(l)return this._returnResult({data:null,error:l});if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=Dl(a.access_token);let u=null;c.aal&&(u=c.aal);let d=u;((i=(s=a.user.factors)===null||s===void 0?void 0:s.filter(g=>g.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(d="aal2");const h=c.amr||[];return{data:{currentLevel:u,nextLevel:d,currentAuthenticationMethods:h},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await se(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Tt})})}catch(r){if(G(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Tt});const a=await se(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return a.data&&a.data.redirect_url&&Xe()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(G(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Tt});const a=await se(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return a.data&&a.data.redirect_url&&Xe()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(G(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await se(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Tt})})}catch(t){if(G(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?(await se(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Tt})})}catch(r){if(G(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+hR>s)return n;const{data:i,error:a}=await se(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:g,error:v}=await this.getSession();if(v||!g.session)return this._returnResult({data:null,error:v});n=g.session.access_token}const{header:s,payload:i,signature:a,raw:{header:l,payload:c}}=Dl(n);r!=null&&r.allowExpired||MR(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:g}=await this.getUser(n);if(g)throw g;return{data:{claims:i,header:s,signature:a},error:null}}const d=DR(s.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,a,jR(`${l}.${c}`)))throw new xh("Invalid JWT signature");return{data:{claims:i,header:s,signature:a},error:null}}catch(n){if(G(n))return this._returnResult({data:null,error:n});throw n}}}Aa.nextInstanceID={};const hO=Aa,pO="2.97.0";let Bo="";typeof Deno<"u"?Bo="deno":typeof document<"u"?Bo="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Bo="react-native":Bo="node";const mO={"X-Client-Info":`supabase-js-${Bo}/${pO}`},gO={headers:mO},vO={schema:"public"},yO={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},xO={};function Ia(e){"@babel/helpers - typeof";return Ia=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ia(e)}function wO(e,t){if(Ia(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ia(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bO(e){var t=wO(e,"string");return Ia(t)=="symbol"?t:t+""}function jO(e,t,r){return(t=bO(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Me(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Lv(Object(r),!0).forEach(function(n){jO(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Lv(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const NO=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),SO=()=>Headers,kO=(e,t,r)=>{const n=NO(r),s=SO();return async(i,a)=>{var l;const c=(l=await t())!==null&&l!==void 0?l:e;let u=new s(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,Me(Me({},a),{},{headers:u}))}};function _O(e){return e.endsWith("/")?e:e+"/"}function EO(e,t){var r,n;const{db:s,auth:i,realtime:a,global:l}=e,{db:c,auth:u,realtime:d,global:f}=t,h={db:Me(Me({},c),s),auth:Me(Me({},u),i),realtime:Me(Me({},d),a),storage:{},global:Me(Me(Me({},f),l),{},{headers:Me(Me({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function CO(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(_O(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var TO=class extends hO{constructor(e){super(e)}},PO=class{constructor(e,t,r){var n,s;this.supabaseUrl=e,this.supabaseKey=t;const i=CO(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const a=`sb-${i.hostname.split(".")[0]}-auth-token`,l={db:vO,realtime:xO,auth:Me(Me({},yO),{},{storageKey:a}),global:gO},c=EO(r??{},l);if(this.storageKey=(n=c.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(s=c.global.headers)!==null&&s!==void 0?s:{},c.accessToken)this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=c.auth)!==null&&u!==void 0?u:{},this.headers,c.global.fetch)}this.fetch=kO(t,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Me({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new mP(new URL("rest/v1",i).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch,timeout:c.db.timeout,urlLengthLimit:c.db.urlLengthLimit}),this.storage=new lR(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new aP(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,r;if(e.accessToken)return await e.accessToken();const{data:n}=await e.auth.getSession();return(t=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:s,storageKey:i,flowType:a,lock:l,debug:c,throwOnError:u},d,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new TO({url:this.authUrl.href,headers:Me(Me({},h),d),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:s,flowType:a,lock:l,debug:c,throwOnError:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(g=>g.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new OP(this.realtimeUrl.href,Me(Me({},e),{},{params:Me(Me({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const RO=(e,t,r)=>new PO(e,t,r);function OO(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const r=t.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}OO()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const AO="https://neqpqpixprzhodrqjllw.supabase.co",IO="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5lcXBxcGl4cHJ6aG9kcnFqbGx3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzE1NTAwODQsImV4cCI6MjA4NzEyNjA4NH0.w2wMuCZiLSqRTsMH_NfG-1rZS4M_4_1PiGq0N6uFLkI",$r=RO(AO,IO),s1=m.createContext(void 0);function nt(){const e=m.useContext(s1);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}function MO({children:e}){var y,x,j,k;const[t,r]=m.useState(null),[n,s]=m.useState(null),[i,a]=m.useState(!0),l=["shaikmahammadshahidafrid@gmail.com","shaikafridt1@gmail.com"],c=!!(t!=null&&t.email)&&l.includes(t.email.toLowerCase()),u=c?"admin":((y=t==null?void 0:t.user_metadata)==null?void 0:y.role)||"user",d=((x=t==null?void 0:t.user_metadata)==null?void 0:x.ownerStatus)||"none",f=((j=t==null?void 0:t.user_metadata)==null?void 0:j.full_name)||"",h=c||!!((k=t==null?void 0:t.user_metadata)!=null&&k.role);m.useEffect(()=>{$r.auth.getSession().then(({data:{session:N}})=>{s(N),r((N==null?void 0:N.user)??null),a(!1)});const{data:{subscription:_}}=$r.auth.onAuthStateChange(async(N,E)=>{s(E),r((E==null?void 0:E.user)??null),a(!1)});return()=>_.unsubscribe()},[]);const g=async(_,N)=>{const{error:E}=await $r.auth.signUp({email:_,password:N});return{error:E}},v=async(_,N)=>{const{error:E}=await $r.auth.signInWithPassword({email:_,password:N});return{error:E}},p=async()=>{await $r.auth.signOut()},b=async(_,N)=>{const E=N==="owner"?"pending":"none",{data:O,error:A}=await $r.auth.updateUser({data:{full_name:_,role:N,ownerStatus:E}});if(!A&&O.user&&(r(O.user),N==="owner"))try{await fetch("/api/users",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:O.user.id,password:O.user.id,fullName:_,role:"owner",ownerStatus:"pending"})})}catch{}},w=async _=>{const{data:N,error:E}=await $r.auth.updateUser({data:{ownerStatus:_}});!E&&N.user&&r(N.user)};return o.jsx(s1.Provider,{value:{user:t,session:n,loading:i,userRole:u,ownerStatus:d,fullName:f,profileComplete:h,signUp:g,signIn:v,signOut:p,setupProfile:b,updateOwnerStatus:w},children:e})}const DO=co("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover-elevate active-elevate-2",{variants:{variant:{default:"bg-primary text-primary-foreground border border-primary-border",destructive:"bg-destructive text-destructive-foreground border border-destructive-border",outline:" border [border-color:var(--button-outline)]  shadow-xs active:shadow-none ",secondary:"border bg-secondary text-secondary-foreground border border-secondary-border ",ghost:"border border-transparent"},size:{default:"min-h-9 px-4 py-2",sm:"min-h-8 rounded-md px-3 text-xs",lg:"min-h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),Q=m.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...s},i)=>{const a=n?AE:"button";return o.jsx(a,{className:H(DO({variant:t,size:r,className:e})),ref:i,...s})});Q.displayName="Button";const jt=m.forwardRef(({className:e,type:t,...r},n)=>o.jsx("input",{type:t,className:H("flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));jt.displayName="Input";var LO="Label",i1=m.forwardRef((e,t)=>o.jsx(ee.label,{...e,ref:t,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));i1.displayName=LO;var o1=i1;const $O=co("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),oc=m.forwardRef(({className:e,...t},r)=>o.jsx(o1,{ref:r,className:H($O(),e),...t}));oc.displayName=o1.displayName;const ie=m.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:H("shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm",e),...t}));ie.displayName="Card";const a1=m.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:H("flex flex-col space-y-1.5 p-6",e),...t}));a1.displayName="CardHeader";const l1=m.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:H("text-2xl font-semibold leading-none tracking-tight",e),...t}));l1.displayName="CardTitle";const c1=m.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:H("text-sm text-muted-foreground",e),...t}));c1.displayName="CardDescription";const sm=m.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:H("p-6 pt-0",e),...t}));sm.displayName="CardContent";const FO=m.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:H("flex items-center p-6 pt-0",e),...t}));FO.displayName="CardFooter";const UO=co("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),u1=m.forwardRef(({className:e,variant:t,...r},n)=>o.jsx("div",{ref:n,role:"alert",className:H(UO({variant:t}),e),...r}));u1.displayName="Alert";const BO=m.forwardRef(({className:e,...t},r)=>o.jsx("h5",{ref:r,className:H("mb-1 font-medium leading-none tracking-tight",e),...t}));BO.displayName="AlertTitle";const d1=m.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:H("text-sm [&_p]:leading-relaxed",e),...t}));d1.displayName="AlertDescription";function zs({size:e="md",showText:t=!0,className:r}){const n={sm:{icon:28,text:"text-lg"},md:{icon:36,text:"text-xl"},lg:{icon:48,text:"text-2xl"}},{icon:s,text:i}=n[e];return o.jsxs("div",{className:`flex items-center gap-2 ${r||""}`,"data-testid":"logo-turftime",children:[o.jsx("div",{className:"relative",children:o.jsxs("svg",{width:s,height:s,viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"text-primary",children:[o.jsx("circle",{cx:"24",cy:"24",r:"22",stroke:"currentColor",strokeWidth:"2",fill:"none",opacity:"0.3"}),o.jsx("path",{d:"M14 14H34V18H26V36H22V18H14V14Z",fill:"currentColor"}),o.jsx("line",{x1:"14",y1:"24",x2:"22",y2:"24",stroke:"currentColor",strokeWidth:"1.5",opacity:"0.5"}),o.jsx("line",{x1:"26",y1:"24",x2:"34",y2:"24",stroke:"currentColor",strokeWidth:"1.5",opacity:"0.5"}),o.jsx("line",{x1:"14",y1:"30",x2:"22",y2:"30",stroke:"currentColor",strokeWidth:"1.5",opacity:"0.5"}),o.jsx("line",{x1:"26",y1:"30",x2:"34",y2:"30",stroke:"currentColor",strokeWidth:"1.5",opacity:"0.5"}),o.jsx("rect",{x:"32",y:"20",width:"4",height:"8",rx:"1",fill:"currentColor",opacity:"0.6"})]})}),t&&o.jsxs("span",{className:`font-bold ${i} tracking-tight`,children:[o.jsx("span",{className:"text-primary",children:"Turf"}),o.jsx("span",{className:"text-foreground",children:"Time"})]})]})}function f1({mode:e,onToggleMode:t}){const[r,n]=m.useState(""),[s,i]=m.useState(""),[a,l]=m.useState(""),[c,u]=m.useState(!1),[d,f]=m.useState(!1),[h,g]=m.useState(""),{signIn:v,signUp:p}=nt(),b=async w=>{w.preventDefault(),g(""),f(!0);try{if(e==="register"){if(s!==a){g("Passwords do not match");return}const{error:y}=await p(r,s);g(y?y.message:"Check your email for the confirmation link!")}else{const{error:y}=await v(r,s);y&&g(y.message)}}catch{g("An unexpected error occurred")}finally{f(!1)}};return o.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center px-4",children:o.jsxs(ie,{className:"w-full max-w-md",children:[o.jsxs(a1,{className:"text-center",children:[o.jsx("div",{className:"flex justify-center mb-4",children:o.jsx(zs,{size:"lg"})}),o.jsx(l1,{className:"text-2xl font-bold",children:e==="login"?"Welcome Back":"Create Account"}),o.jsx(c1,{children:e==="login"?"Sign in to your TurfTime account":"Join TurfTime to book your favorite sports venues"})]}),o.jsxs(sm,{children:[o.jsxs("form",{onSubmit:b,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(oc,{htmlFor:"email",children:"Email"}),o.jsxs("div",{className:"relative",children:[o.jsx(Bp,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),o.jsx(jt,{id:"email",type:"email",placeholder:"your@email.com",value:r,onChange:w=>n(w.target.value),className:"pl-10",required:!0})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(oc,{htmlFor:"password",children:"Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(Bc,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),o.jsx(jt,{id:"password",type:c?"text":"password",placeholder:"Enter your password",value:s,onChange:w=>i(w.target.value),className:"pl-10 pr-10",required:!0}),o.jsx(Q,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full px-3 hover:bg-transparent",onClick:()=>u(!c),children:c?o.jsx(J0,{className:"h-4 w-4 text-muted-foreground"}):o.jsx(X0,{className:"h-4 w-4 text-muted-foreground"})})]})]}),e==="register"&&o.jsxs("div",{className:"space-y-2",children:[o.jsx(oc,{htmlFor:"confirmPassword",children:"Confirm Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(Bc,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),o.jsx(jt,{id:"confirmPassword",type:c?"text":"password",placeholder:"Confirm your password",value:a,onChange:w=>l(w.target.value),className:"pl-10",required:!0})]})]}),h&&o.jsx(u1,{variant:"destructive",children:o.jsx(d1,{children:h})}),o.jsx(Q,{type:"submit",className:"w-full",disabled:d,children:d?e==="login"?"Signing In...":"Creating Account...":e==="login"?"Sign In":"Create Account"})]}),o.jsx("div",{className:"mt-6 text-center",children:o.jsxs("p",{className:"text-sm text-muted-foreground",children:[e==="login"?"Don't have an account?":"Already have an account?",o.jsx(Q,{variant:"ghost",className:"p-0 h-auto ml-1 text-primary hover:text-primary/80",onClick:t,children:e==="login"?"Sign up":"Sign in"})]})})]})]})})}function h1(){const{setupProfile:e}=nt(),[t,r]=m.useState(""),[n,s]=m.useState(null),[i,a]=m.useState(!1),[l,c]=m.useState(""),u=async()=>{if(!t.trim()){c("Please enter your full name");return}if(!n){c("Please select your role");return}a(!0),c("");try{await e(t.trim(),n)}catch{c("Something went wrong. Please try again.")}finally{a(!1)}};return o.jsxs("div",{className:"min-h-screen bg-background flex flex-col items-center justify-center px-6",children:[o.jsx("div",{className:"mb-8",children:o.jsx(zs,{size:"lg"})}),o.jsxs("div",{className:"w-full max-w-sm space-y-6",children:[o.jsxs("div",{className:"text-center space-y-1",children:[o.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Set Up Your Profile"}),o.jsx("p",{className:"text-muted-foreground text-sm",children:"Tell us a bit about yourself to get started"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-foreground",children:"Full Name"}),o.jsx(jt,{placeholder:"Enter your full name",value:t,onChange:d=>r(d.target.value),className:"h-12 bg-card border-border focus:border-primary"})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("label",{className:"text-sm font-medium text-foreground",children:"I am a..."}),o.jsxs("button",{onClick:()=>s("user"),className:`w-full flex items-center gap-4 p-4 rounded-xl border-2 transition-all text-left ${n==="user"?"border-primary bg-accent/30":"border-border bg-card hover:border-muted-foreground/40"}`,children:[o.jsx("div",{className:`w-11 h-11 rounded-full flex items-center justify-center flex-shrink-0 ${n==="user"?"bg-primary":"bg-muted"}`,children:o.jsx(zp,{className:`w-5 h-5 ${n==="user"?"text-black":"text-muted-foreground"}`})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"font-semibold text-foreground",children:"Player"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Discover and book sports turfs"})]}),o.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center flex-shrink-0 ${n==="user"?"border-primary bg-primary":"border-muted-foreground/40"}`,children:n==="user"&&o.jsx("div",{className:"w-2 h-2 rounded-full bg-black"})})]}),o.jsxs("button",{onClick:()=>s("owner"),className:`w-full flex items-center gap-4 p-4 rounded-xl border-2 transition-all text-left ${n==="owner"?"border-primary bg-accent/30":"border-border bg-card hover:border-muted-foreground/40"}`,children:[o.jsx("div",{className:`w-11 h-11 rounded-full flex items-center justify-center flex-shrink-0 ${n==="owner"?"bg-primary":"bg-muted"}`,children:o.jsx(Wn,{className:`w-5 h-5 ${n==="owner"?"text-black":"text-muted-foreground"}`})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"font-semibold text-foreground",children:"Turf Owner"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"List and manage your sports facilities"})]}),o.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center flex-shrink-0 ${n==="owner"?"border-primary bg-primary":"border-muted-foreground/40"}`,children:n==="owner"&&o.jsx("div",{className:"w-2 h-2 rounded-full bg-black"})})]})]}),n==="owner"&&o.jsx("div",{className:"bg-accent/20 border border-primary/20 rounded-xl p-4",children:o.jsxs("p",{className:"text-sm text-muted-foreground",children:[o.jsx("span",{className:"text-primary font-medium",children:"Note:"})," Turf owners require admin approval before you can list turfs. You can submit your application right away!"]})}),l&&o.jsx("p",{className:"text-destructive text-sm text-center",children:l}),o.jsx(Q,{onClick:u,disabled:i||!t.trim()||!n,className:"w-full h-12 text-base font-semibold",children:i?"Setting up...":o.jsxs("span",{className:"flex items-center gap-2",children:["Continue ",o.jsx(Cr,{className:"w-4 h-4"})]})})]})]})}function p1(){const{ownerStatus:e,signOut:t,fullName:r,updateOwnerStatus:n,user:s}=nt(),i=e==="rejected";return m.useEffect(()=>{if(!(s!=null&&s.id))return;(async()=>{try{await fetch("/api/users",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:s.id,password:s.id,fullName:r||"Turf Owner",role:"owner",ownerStatus:"pending"})})}catch{}})();const l=setInterval(async()=>{try{const c=await fetch(`/api/users/status/${s.id}`);if(!c.ok)return;const u=await c.json();u.ownerStatus==="approved"&&e!=="approved"?await n("approved"):u.ownerStatus==="rejected"&&e!=="rejected"&&await n("rejected")}catch{}},5e3);return()=>clearInterval(l)},[s==null?void 0:s.id,e,n]),o.jsxs("div",{className:"min-h-screen bg-background flex flex-col items-center justify-center px-6 text-center",children:[o.jsx("div",{className:"mb-8",children:o.jsx(zs,{size:"lg"})}),o.jsx("div",{className:`w-24 h-24 rounded-full flex items-center justify-center mb-6 ${i?"bg-destructive/10":"bg-primary/10"}`,children:i?o.jsx(Uc,{className:"w-12 h-12 text-destructive"}):o.jsx(_t,{className:"w-12 h-12 text-primary"})}),o.jsx("h1",{className:"text-2xl font-bold text-foreground mb-2",children:i?"Application Rejected":"Awaiting Approval"}),o.jsxs("p",{className:"text-muted-foreground mb-2",children:["Hi, ",r||"there","!"]}),o.jsx("p",{className:"text-muted-foreground text-sm max-w-xs mb-8",children:i?"We're sorry, your turf owner application was not approved at this time. Please contact support for more details.":"Your turf owner application is under review. Our admin team will approve your account shortly. You'll be notified once approved."}),!i&&o.jsxs("div",{className:"w-full max-w-xs bg-card rounded-2xl p-5 mb-8 text-left space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-8 h-8 rounded-full bg-primary flex items-center justify-center flex-shrink-0",children:o.jsx(Cn,{className:"w-4 h-4 text-black"})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-foreground text-sm",children:"Profile Created"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Account registered successfully"})]})]}),o.jsx("div",{className:"ml-4 w-px h-4 bg-border"}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/20 border-2 border-primary flex items-center justify-center flex-shrink-0 animate-pulse",children:o.jsx(_t,{className:"w-4 h-4 text-primary"})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-foreground text-sm",children:"Admin Review"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Waiting for approval"})]})]}),o.jsx("div",{className:"ml-4 w-px h-4 bg-border"}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-8 h-8 rounded-full bg-muted flex items-center justify-center flex-shrink-0",children:o.jsx(Wn,{className:"w-4 h-4 text-muted-foreground"})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-muted-foreground text-sm",children:"Access Granted"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Manage your turfs"})]})]})]}),o.jsx(Q,{variant:"outline",onClick:t,className:"w-full max-w-xs",children:"Sign Out"})]})}function on({children:e,requireRole:t}){const{user:r,loading:n,userRole:s,ownerStatus:i,profileComplete:a}=nt(),[l,c]=m.useState("login");return n?o.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:o.jsxs("div",{className:"flex flex-col items-center gap-4",children:[o.jsx("div",{className:"w-10 h-10 rounded-full border-2 border-primary border-t-transparent animate-spin"}),o.jsx("p",{className:"text-muted-foreground text-sm",children:"Loading..."})]})}):r?a?s==="owner"&&(i==="pending"||i==="rejected")?o.jsx(p1,{}):t&&s!==t?o.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center px-6 text-center",children:o.jsxs("div",{className:"space-y-3",children:[o.jsx("p",{className:"text-2xl font-bold text-foreground",children:"Access Denied"}),o.jsx("p",{className:"text-muted-foreground text-sm",children:"You don't have permission to view this page."})]})}):o.jsx(o.Fragment,{children:e}):o.jsx(h1,{}):o.jsx(f1,{mode:l,onToggleMode:()=>c(l==="login"?"register":"login")})}const zO=co("whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 hover-elevate ",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow-xs",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground shadow-xs",outline:" border [border-color:var(--badge-outline)] shadow-xs"}},defaultVariants:{variant:"default"}});function $e({className:e,variant:t,...r}){return o.jsx("div",{className:H(zO({variant:t}),e),...r})}function WO(e){const[t,r]=m.useState(()=>localStorage.getItem(`fav_${e}`)==="1");return{isFav:t,toggle:s=>{s.preventDefault(),s.stopPropagation();const i=!t;r(i),localStorage.setItem(`fav_${e}`,i?"1":"0");const a=JSON.parse(localStorage.getItem("favIds")||"[]");if(i)a.includes(e)||a.push(e);else{const l=a.indexOf(e);l!==-1&&a.splice(l,1)}localStorage.setItem("favIds",JSON.stringify(a))}}}function wh({turf:e,variant:t="list"}){const{isFav:r,toggle:n}=WO(e.id);return t==="featured"?o.jsx(Na,{href:`/booking/${e.id}`,children:o.jsxs(ie,{className:"relative overflow-hidden rounded-xl min-w-[280px] h-[200px] flex-shrink-0 group cursor-pointer hover-elevate","data-testid":`card-turf-featured-${e.id}`,children:[o.jsx("img",{src:e.imageUrl,alt:e.name,className:"absolute inset-0 w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"}),o.jsx("div",{className:"absolute inset-0 turf-card-gradient"}),o.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4",children:[o.jsx("div",{className:"flex items-center gap-2 mb-2",children:e.isAvailable&&o.jsx($e,{className:"bg-primary text-primary-foreground text-xs font-semibold",children:"Available Now"})}),o.jsx("h3",{className:"text-lg font-bold text-white mb-1",children:e.name}),o.jsxs("div",{className:"flex items-center gap-2 text-white/80 text-sm",children:[o.jsx(rt,{className:"w-3.5 h-3.5"}),o.jsx("span",{children:e.location})]})]}),o.jsxs("div",{className:"absolute top-3 right-3 flex items-center gap-2",children:[o.jsx("button",{onClick:n,className:"w-7 h-7 rounded-full bg-black/60 backdrop-blur-sm flex items-center justify-center",children:o.jsx(ka,{className:`w-3.5 h-3.5 transition-colors ${r?"fill-red-500 text-red-500":"text-white"}`})}),o.jsxs("div",{className:"flex items-center gap-1 bg-black/60 backdrop-blur-sm px-2 py-1 rounded-full",children:[o.jsx(Wr,{className:"w-3.5 h-3.5 text-yellow-400 fill-yellow-400"}),o.jsx("span",{className:"text-white text-xs font-medium",children:e.rating>0?e.rating:"New"})]})]})]})}):o.jsx(Na,{href:`/booking/${e.id}`,children:o.jsxs(ie,{className:"flex gap-4 p-3 hover-elevate cursor-pointer","data-testid":`card-turf-${e.id}`,children:[o.jsxs("div",{className:"relative w-24 h-24 rounded-lg overflow-hidden flex-shrink-0",children:[o.jsx("img",{src:e.imageUrl,alt:e.name,className:"w-full h-full object-cover"}),e.isAvailable&&o.jsx("div",{className:"absolute top-1.5 left-1.5",children:o.jsx("div",{className:"w-2.5 h-2.5 bg-primary rounded-full animate-pulse"})})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-start justify-between gap-2",children:[o.jsx("h3",{className:"font-semibold text-foreground truncate",children:e.name}),o.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[o.jsx("button",{onClick:n,className:"p-1",children:o.jsx(ka,{className:`w-4 h-4 transition-colors ${r?"fill-red-500 text-red-500":"text-muted-foreground"}`})}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Wr,{className:"w-3.5 h-3.5 text-yellow-400 fill-yellow-400"}),o.jsx("span",{className:"text-sm text-muted-foreground",children:e.rating>0?e.rating:"New"})]})]})]}),o.jsxs("div",{className:"flex items-center gap-1.5 text-muted-foreground text-sm mt-1",children:[o.jsx(rt,{className:"w-3.5 h-3.5"}),o.jsx("span",{className:"truncate",children:e.location})]}),o.jsx("div",{className:"flex items-center gap-3 mt-2",children:o.jsx("div",{className:"flex gap-1.5",children:e.sportTypes.slice(0,2).map(s=>o.jsx($e,{variant:"secondary",className:"text-xs px-2 py-0.5",children:s},s))})}),o.jsxs("div",{className:"flex items-center justify-between mt-2",children:[o.jsxs("div",{className:"flex items-center gap-1 text-primary font-semibold",children:[o.jsx("span",{className:"text-sm",children:"From"}),o.jsxs("span",{className:"text-base",children:["",e.pricePerHour,"/hr"]})]}),o.jsx(Q,{size:"sm",className:"h-7 text-xs px-3","data-testid":`button-book-${e.id}`,children:"Book"})]})]})]})})}var im="Avatar",[HO,h3]=Or(im),[VO,m1]=HO(im),g1=m.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[s,i]=m.useState("idle");return o.jsx(VO,{scope:r,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:o.jsx(ee.span,{...n,ref:t})})});g1.displayName=im;var v1="AvatarImage",y1=m.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:s=()=>{},...i}=e,a=m1(v1,r),l=qO(n,i),c=mt(u=>{s(u),a.onImageLoadingStatusChange(u)});return qe(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?o.jsx(ee.img,{...i,ref:t,src:n}):null});y1.displayName=v1;var x1="AvatarFallback",w1=m.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...s}=e,i=m1(x1,r),[a,l]=m.useState(n===void 0);return m.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),a&&i.imageLoadingStatus!=="loaded"?o.jsx(ee.span,{...s,ref:t}):null});w1.displayName=x1;function $v(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function qO(e,{referrerPolicy:t,crossOrigin:r}){const n=GO(),s=m.useRef(null),i=n?(s.current||(s.current=new window.Image),s.current):null,[a,l]=m.useState(()=>$v(i,e));return qe(()=>{l($v(i,e))},[i,e]),qe(()=>{const c=f=>()=>{l(f)};if(!i)return;const u=c("loaded"),d=c("error");return i.addEventListener("load",u),i.addEventListener("error",d),t&&(i.referrerPolicy=t),typeof r=="string"&&(i.crossOrigin=r),()=>{i.removeEventListener("load",u),i.removeEventListener("error",d)}},[i,r,t]),a}function KO(){return()=>{}}function GO(){return m.useSyncExternalStore(KO,()=>!0,()=>!1)}var b1=g1,j1=y1,N1=w1;const Tu=m.forwardRef(({className:e,...t},r)=>o.jsx(b1,{ref:r,className:H(`
      after:content-[''] after:block after:absolute after:inset-0 after:rounded-full after:pointer-events-none after:border after:border-black/10 dark:after:border-white/10
      relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full`,e),...t}));Tu.displayName=b1.displayName;const om=m.forwardRef(({className:e,...t},r)=>o.jsx(j1,{ref:r,className:H("aspect-square h-full w-full",e),...t}));om.displayName=j1.displayName;const Pu=m.forwardRef(({className:e,...t},r)=>o.jsx(N1,{ref:r,className:H("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));Pu.displayName=N1.displayName;function Ge({className:e,...t}){return o.jsx("div",{className:H("animate-pulse rounded-md bg-muted",e),...t})}var Pd=0;function am(){m.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Fv()),document.body.insertAdjacentElement("beforeend",e[1]??Fv()),Pd++,()=>{Pd===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Pd--}},[])}function Fv(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Rd="focusScope.autoFocusOnMount",Od="focusScope.autoFocusOnUnmount",Uv={bubbles:!1,cancelable:!0},QO="FocusScope",Ru=m.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...a}=e,[l,c]=m.useState(null),u=mt(s),d=mt(i),f=m.useRef(null),h=we(t,p=>c(p)),g=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(n){let p=function(x){if(g.paused||!l)return;const j=x.target;l.contains(j)?f.current=j:cn(f.current,{select:!0})},b=function(x){if(g.paused||!l)return;const j=x.relatedTarget;j!==null&&(l.contains(j)||cn(f.current,{select:!0}))},w=function(x){if(document.activeElement===document.body)for(const k of x)k.removedNodes.length>0&&cn(l)};document.addEventListener("focusin",p),document.addEventListener("focusout",b);const y=new MutationObserver(w);return l&&y.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",b),y.disconnect()}}},[n,l,g.paused]),m.useEffect(()=>{if(l){zv.add(g);const p=document.activeElement;if(!l.contains(p)){const w=new CustomEvent(Rd,Uv);l.addEventListener(Rd,u),l.dispatchEvent(w),w.defaultPrevented||(YO(tA(S1(l)),{select:!0}),document.activeElement===p&&cn(l))}return()=>{l.removeEventListener(Rd,u),setTimeout(()=>{const w=new CustomEvent(Od,Uv);l.addEventListener(Od,d),l.dispatchEvent(w),w.defaultPrevented||cn(p??document.body,{select:!0}),l.removeEventListener(Od,d),zv.remove(g)},0)}}},[l,u,d,g]);const v=m.useCallback(p=>{if(!r&&!n||g.paused)return;const b=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,w=document.activeElement;if(b&&w){const y=p.currentTarget,[x,j]=JO(y);x&&j?!p.shiftKey&&w===j?(p.preventDefault(),r&&cn(x,{select:!0})):p.shiftKey&&w===x&&(p.preventDefault(),r&&cn(j,{select:!0})):w===y&&p.preventDefault()}},[r,n,g.paused]);return o.jsx(ee.div,{tabIndex:-1,...a,ref:h,onKeyDown:v})});Ru.displayName=QO;function YO(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(cn(n,{select:t}),document.activeElement!==r)return}function JO(e){const t=S1(e),r=Bv(t,e),n=Bv(t.reverse(),e);return[r,n]}function S1(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Bv(e,t){for(const r of e)if(!XO(r,{upTo:t}))return r}function XO(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function ZO(e){return e instanceof HTMLInputElement&&"select"in e}function cn(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&ZO(e)&&t&&e.select()}}var zv=eA();function eA(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=Wv(e,t),e.unshift(t)},remove(t){var r;e=Wv(e,t),(r=e[0])==null||r.resume()}}}function Wv(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function tA(e){return e.filter(t=>t.tagName!=="A")}var rA=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Ys=new WeakMap,Ll=new WeakMap,$l={},Ad=0,k1=function(e){return e&&(e.host||k1(e.parentNode))},nA=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=k1(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},sA=function(e,t,r,n){var s=nA(t,Array.isArray(e)?e:[e]);$l[r]||($l[r]=new WeakMap);var i=$l[r],a=[],l=new Set,c=new Set(s),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};s.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(l.has(h))d(h);else try{var g=h.getAttribute(n),v=g!==null&&g!=="false",p=(Ys.get(h)||0)+1,b=(i.get(h)||0)+1;Ys.set(h,p),i.set(h,b),a.push(h),p===1&&v&&Ll.set(h,!0),b===1&&h.setAttribute(r,"true"),v||h.setAttribute(n,"true")}catch(w){console.error("aria-hidden: cannot operate on ",h,w)}})};return d(t),l.clear(),Ad++,function(){a.forEach(function(f){var h=Ys.get(f)-1,g=i.get(f)-1;Ys.set(f,h),i.set(f,g),h||(Ll.has(f)||f.removeAttribute(n),Ll.delete(f)),g||f.removeAttribute(r)}),Ad--,Ad||(Ys=new WeakMap,Ys=new WeakMap,Ll=new WeakMap,$l={})}},lm=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),s=rA(e);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live]"))),sA(n,s,r,"aria-hidden")):function(){return null}},ac="right-scroll-bar-position",lc="width-before-scroll-bar",iA="with-scroll-bars-hidden",oA="--removed-body-scroll-bar-size";function Id(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function aA(e,t){var r=m.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=t,r.facade}var lA=typeof window<"u"?m.useLayoutEffect:m.useEffect,Hv=new WeakMap;function cA(e,t){var r=aA(null,function(n){return e.forEach(function(s){return Id(s,n)})});return lA(function(){var n=Hv.get(r);if(n){var s=new Set(n),i=new Set(e),a=r.current;s.forEach(function(l){i.has(l)||Id(l,null)}),i.forEach(function(l){s.has(l)||Id(l,a)})}Hv.set(r,e)},[e]),r}function uA(e){return e}function dA(e,t){t===void 0&&(t=uA);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var a=t(i,n);return r.push(a),function(){r=r.filter(function(l){return l!==a})}},assignSyncMedium:function(i){for(n=!0;r.length;){var a=r;r=[],a.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){n=!0;var a=[];if(r.length){var l=r;r=[],l.forEach(i),a=r}var c=function(){var d=a;a=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){a.push(d),u()},filter:function(d){return a=a.filter(d),r}}}};return s}function fA(e){e===void 0&&(e={});var t=dA(null);return t.options=kr({async:!0,ssr:!1},e),t}var _1=function(e){var t=e.sideCar,r=mo(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return m.createElement(n,kr({},r))};_1.isSideCarExport=!0;function hA(e,t){return e.useMedium(t),_1}var E1=fA(),Md=function(){},Ou=m.forwardRef(function(e,t){var r=m.useRef(null),n=m.useState({onScrollCapture:Md,onWheelCapture:Md,onTouchMoveCapture:Md}),s=n[0],i=n[1],a=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,g=e.noIsolation,v=e.inert,p=e.allowPinchZoom,b=e.as,w=b===void 0?"div":b,y=e.gapMode,x=mo(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=h,k=cA([r,t]),_=kr(kr({},x),s);return m.createElement(m.Fragment,null,d&&m.createElement(j,{sideCar:E1,removeScrollBar:u,shards:f,noIsolation:g,inert:v,setCallbacks:i,allowPinchZoom:!!p,lockRef:r,gapMode:y}),a?m.cloneElement(m.Children.only(l),kr(kr({},_),{ref:k})):m.createElement(w,kr({},_,{className:c,ref:k}),l))});Ou.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Ou.classNames={fullWidth:lc,zeroRight:ac};var pA=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function mA(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=pA();return t&&e.setAttribute("nonce",t),e}function gA(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function vA(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var yA=function(){var e=0,t=null;return{add:function(r){e==0&&(t=mA())&&(gA(t,r),vA(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},xA=function(){var e=yA();return function(t,r){m.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},C1=function(){var e=xA(),t=function(r){var n=r.styles,s=r.dynamic;return e(n,s),null};return t},wA={left:0,top:0,right:0,gap:0},Dd=function(e){return parseInt(e||"",10)||0},bA=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[Dd(r),Dd(n),Dd(s)]},jA=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return wA;var t=bA(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},NA=C1(),Oi="data-scroll-locked",SA=function(e,t,r,n){var s=e.left,i=e.top,a=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(iA,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Oi,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ac,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(lc,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(ac," .").concat(ac,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(lc," .").concat(lc,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Oi,`] {
    `).concat(oA,": ").concat(l,`px;
  }
`)},Vv=function(){var e=parseInt(document.body.getAttribute(Oi)||"0",10);return isFinite(e)?e:0},kA=function(){m.useEffect(function(){return document.body.setAttribute(Oi,(Vv()+1).toString()),function(){var e=Vv()-1;e<=0?document.body.removeAttribute(Oi):document.body.setAttribute(Oi,e.toString())}},[])},_A=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=n===void 0?"margin":n;kA();var i=m.useMemo(function(){return jA(s)},[s]);return m.createElement(NA,{styles:SA(i,!t,s,r?"":"!important")})},bh=!1;if(typeof window<"u")try{var Fl=Object.defineProperty({},"passive",{get:function(){return bh=!0,!0}});window.addEventListener("test",Fl,Fl),window.removeEventListener("test",Fl,Fl)}catch{bh=!1}var Js=bh?{passive:!1}:!1,EA=function(e){return e.tagName==="TEXTAREA"},T1=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!EA(e)&&r[t]==="visible")},CA=function(e){return T1(e,"overflowY")},TA=function(e){return T1(e,"overflowX")},qv=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=P1(e,n);if(s){var i=R1(e,n),a=i[1],l=i[2];if(a>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},PA=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},RA=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},P1=function(e,t){return e==="v"?CA(t):TA(t)},R1=function(e,t){return e==="v"?PA(t):RA(t)},OA=function(e,t){return e==="h"&&t==="rtl"?-1:1},AA=function(e,t,r,n,s){var i=OA(e,window.getComputedStyle(t).direction),a=i*n,l=r.target,c=t.contains(l),u=!1,d=a>0,f=0,h=0;do{var g=R1(e,l),v=g[0],p=g[1],b=g[2],w=p-b-i*v;(v||w)&&P1(e,l)&&(f+=w,h+=v),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&(Math.abs(f)<1||!s)||!d&&(Math.abs(h)<1||!s))&&(u=!0),u},Ul=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Kv=function(e){return[e.deltaX,e.deltaY]},Gv=function(e){return e&&"current"in e?e.current:e},IA=function(e,t){return e[0]===t[0]&&e[1]===t[1]},MA=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},DA=0,Xs=[];function LA(e){var t=m.useRef([]),r=m.useRef([0,0]),n=m.useRef(),s=m.useState(DA++)[0],i=m.useState(C1)[0],a=m.useRef(e);m.useEffect(function(){a.current=e},[e]),m.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var p=sP([e.lockRef.current],(e.shards||[]).map(Gv),!0).filter(Boolean);return p.forEach(function(b){return b.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),p.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=m.useCallback(function(p,b){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!a.current.allowPinchZoom;var w=Ul(p),y=r.current,x="deltaX"in p?p.deltaX:y[0]-w[0],j="deltaY"in p?p.deltaY:y[1]-w[1],k,_=p.target,N=Math.abs(x)>Math.abs(j)?"h":"v";if("touches"in p&&N==="h"&&_.type==="range")return!1;var E=qv(N,_);if(!E)return!0;if(E?k=N:(k=N==="v"?"h":"v",E=qv(N,_)),!E)return!1;if(!n.current&&"changedTouches"in p&&(x||j)&&(n.current=k),!k)return!0;var O=n.current||k;return AA(O,b,p,O==="h"?x:j,!0)},[]),c=m.useCallback(function(p){var b=p;if(!(!Xs.length||Xs[Xs.length-1]!==i)){var w="deltaY"in b?Kv(b):Ul(b),y=t.current.filter(function(k){return k.name===b.type&&(k.target===b.target||b.target===k.shadowParent)&&IA(k.delta,w)})[0];if(y&&y.should){b.cancelable&&b.preventDefault();return}if(!y){var x=(a.current.shards||[]).map(Gv).filter(Boolean).filter(function(k){return k.contains(b.target)}),j=x.length>0?l(b,x[0]):!a.current.noIsolation;j&&b.cancelable&&b.preventDefault()}}},[]),u=m.useCallback(function(p,b,w,y){var x={name:p,delta:b,target:w,should:y,shadowParent:$A(w)};t.current.push(x),setTimeout(function(){t.current=t.current.filter(function(j){return j!==x})},1)},[]),d=m.useCallback(function(p){r.current=Ul(p),n.current=void 0},[]),f=m.useCallback(function(p){u(p.type,Kv(p),p.target,l(p,e.lockRef.current))},[]),h=m.useCallback(function(p){u(p.type,Ul(p),p.target,l(p,e.lockRef.current))},[]);m.useEffect(function(){return Xs.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,Js),document.addEventListener("touchmove",c,Js),document.addEventListener("touchstart",d,Js),function(){Xs=Xs.filter(function(p){return p!==i}),document.removeEventListener("wheel",c,Js),document.removeEventListener("touchmove",c,Js),document.removeEventListener("touchstart",d,Js)}},[]);var g=e.removeScrollBar,v=e.inert;return m.createElement(m.Fragment,null,v?m.createElement(i,{styles:MA(s)}):null,g?m.createElement(_A,{gapMode:e.gapMode}):null)}function $A(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const FA=hA(E1,LA);var Au=m.forwardRef(function(e,t){return m.createElement(Ou,kr({},e,{ref:t,sideCar:FA}))});Au.classNames=Ou.classNames;var cm="Popover",[O1,p3]=Or(cm,[po]),rl=po(),[UA,Xn]=O1(cm),A1=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:s,onOpenChange:i,modal:a=!1}=e,l=rl(t),c=m.useRef(null),[u,d]=m.useState(!1),[f=!1,h]=Os({prop:n,defaultProp:s,onChange:i});return o.jsx(Ab,{...l,children:o.jsx(UA,{scope:t,contentId:pt(),triggerRef:c,open:f,onOpenChange:h,onOpenToggle:m.useCallback(()=>h(g=>!g),[h]),hasCustomAnchor:u,onCustomAnchorAdd:m.useCallback(()=>d(!0),[]),onCustomAnchorRemove:m.useCallback(()=>d(!1),[]),modal:a,children:r})})};A1.displayName=cm;var I1="PopoverAnchor",BA=m.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=Xn(I1,r),i=rl(r),{onCustomAnchorAdd:a,onCustomAnchorRemove:l}=s;return m.useEffect(()=>(a(),()=>l()),[a,l]),o.jsx(Nu,{...i,...n,ref:t})});BA.displayName=I1;var M1="PopoverTrigger",D1=m.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=Xn(M1,r),i=rl(r),a=we(t,s.triggerRef),l=o.jsx(ee.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":B1(s.open),...n,ref:a,onClick:X(e.onClick,s.onOpenToggle)});return s.hasCustomAnchor?l:o.jsx(Nu,{asChild:!0,...i,children:l})});D1.displayName=M1;var um="PopoverPortal",[zA,WA]=O1(um,{forceMount:void 0}),L1=e=>{const{__scopePopover:t,forceMount:r,children:n,container:s}=e,i=Xn(um,t);return o.jsx(zA,{scope:t,forceMount:r,children:o.jsx(en,{present:r||i.open,children:o.jsx(Ja,{asChild:!0,container:s,children:n})})})};L1.displayName=um;var so="PopoverContent",$1=m.forwardRef((e,t)=>{const r=WA(so,e.__scopePopover),{forceMount:n=r.forceMount,...s}=e,i=Xn(so,e.__scopePopover);return o.jsx(en,{present:n||i.open,children:i.modal?o.jsx(VA,{...s,ref:t}):o.jsx(qA,{...s,ref:t})})});$1.displayName=so;var HA=Rs("PopoverContent.RemoveScroll"),VA=m.forwardRef((e,t)=>{const r=Xn(so,e.__scopePopover),n=m.useRef(null),s=we(t,n),i=m.useRef(!1);return m.useEffect(()=>{const a=n.current;if(a)return lm(a)},[]),o.jsx(Au,{as:HA,allowPinchZoom:!0,children:o.jsx(F1,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:X(e.onCloseAutoFocus,a=>{var l;a.preventDefault(),i.current||(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:X(e.onPointerDownOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;i.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:X(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1})})})}),qA=m.forwardRef((e,t)=>{const r=Xn(so,e.__scopePopover),n=m.useRef(!1),s=m.useRef(!1);return o.jsx(F1,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var a,l;(a=e.onCloseAutoFocus)==null||a.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const a=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(a))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),F1=m.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:i,disableOutsidePointerEvents:a,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...f}=e,h=Xn(so,r),g=rl(r);return am(),o.jsx(Ru,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:i,children:o.jsx(lo,{asChild:!0,disableOutsidePointerEvents:a,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>h.onOpenChange(!1),children:o.jsx(Zp,{"data-state":B1(h.open),role:"dialog",id:h.contentId,...g,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),U1="PopoverClose",KA=m.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=Xn(U1,r);return o.jsx(ee.button,{type:"button",...n,ref:t,onClick:X(e.onClick,()=>s.onOpenChange(!1))})});KA.displayName=U1;var GA="PopoverArrow",QA=m.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=rl(r);return o.jsx(em,{...s,...n,ref:t})});QA.displayName=GA;function B1(e){return e?"open":"closed"}var YA=A1,JA=D1,XA=L1,z1=$1;const cc=YA,uc=JA,ta=m.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},s)=>o.jsx(XA,{children:o.jsx(z1,{ref:s,align:t,sideOffset:r,className:H("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]",e),...n})}));ta.displayName=z1.displayName;var Qv=1,ZA=.9,eI=.8,tI=.17,Ld=.1,$d=.999,rI=.9999,nI=.99,sI=/[\\\/_+.#"@\[\(\{&]/,iI=/[\\\/_+.#"@\[\(\{&]/g,oI=/[\s-]/,W1=/[\s-]/g;function jh(e,t,r,n,s,i,a){if(i===t.length)return s===e.length?Qv:nI;var l=`${s},${i}`;if(a[l]!==void 0)return a[l];for(var c=n.charAt(i),u=r.indexOf(c,s),d=0,f,h,g,v;u>=0;)f=jh(e,t,r,n,u+1,i+1,a),f>d&&(u===s?f*=Qv:sI.test(e.charAt(u-1))?(f*=eI,g=e.slice(s,u-1).match(iI),g&&s>0&&(f*=Math.pow($d,g.length))):oI.test(e.charAt(u-1))?(f*=ZA,v=e.slice(s,u-1).match(W1),v&&s>0&&(f*=Math.pow($d,v.length))):(f*=tI,s>0&&(f*=Math.pow($d,u-s))),e.charAt(u)!==t.charAt(i)&&(f*=rI)),(f<Ld&&r.charAt(u-1)===n.charAt(i+1)||n.charAt(i+1)===n.charAt(i)&&r.charAt(u-1)!==n.charAt(i))&&(h=jh(e,t,r,n,u+1,i+2,a),h*Ld>f&&(f=h*Ld)),f>d&&(d=f),u=r.indexOf(c,u+1);return a[l]=d,d}function Yv(e){return e.toLowerCase().replace(W1," ")}function aI(e,t,r){return e=r&&r.length>0?`${e+" "+r.join(" ")}`:e,jh(e,t,Yv(e),Yv(t),0,0,{})}var dm="Dialog",[H1,m3]=Or(dm),[lI,gr]=H1(dm),V1=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:i,modal:a=!0}=e,l=m.useRef(null),c=m.useRef(null),[u=!1,d]=Os({prop:n,defaultProp:s,onChange:i});return o.jsx(lI,{scope:t,triggerRef:l,contentRef:c,contentId:pt(),titleId:pt(),descriptionId:pt(),open:u,onOpenChange:d,onOpenToggle:m.useCallback(()=>d(f=>!f),[d]),modal:a,children:r})};V1.displayName=dm;var q1="DialogTrigger",K1=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=gr(q1,r),i=we(t,s.triggerRef);return o.jsx(ee.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":pm(s.open),...n,ref:i,onClick:X(e.onClick,s.onOpenToggle)})});K1.displayName=q1;var fm="DialogPortal",[cI,G1]=H1(fm,{forceMount:void 0}),Q1=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:s}=e,i=gr(fm,t);return o.jsx(cI,{scope:t,forceMount:r,children:m.Children.map(n,a=>o.jsx(en,{present:r||i.open,children:o.jsx(Ja,{asChild:!0,container:s,children:a})}))})};Q1.displayName=fm;var Yc="DialogOverlay",Y1=m.forwardRef((e,t)=>{const r=G1(Yc,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,i=gr(Yc,e.__scopeDialog);return i.modal?o.jsx(en,{present:n||i.open,children:o.jsx(dI,{...s,ref:t})}):null});Y1.displayName=Yc;var uI=Rs("DialogOverlay.RemoveScroll"),dI=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=gr(Yc,r);return o.jsx(Au,{as:uI,allowPinchZoom:!0,shards:[s.contentRef],children:o.jsx(ee.div,{"data-state":pm(s.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Is="DialogContent",J1=m.forwardRef((e,t)=>{const r=G1(Is,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,i=gr(Is,e.__scopeDialog);return o.jsx(en,{present:n||i.open,children:i.modal?o.jsx(fI,{...s,ref:t}):o.jsx(hI,{...s,ref:t})})});J1.displayName=Is;var fI=m.forwardRef((e,t)=>{const r=gr(Is,e.__scopeDialog),n=m.useRef(null),s=we(t,r.contentRef,n);return m.useEffect(()=>{const i=n.current;if(i)return lm(i)},[]),o.jsx(X1,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:X(e.onCloseAutoFocus,i=>{var a;i.preventDefault(),(a=r.triggerRef.current)==null||a.focus()}),onPointerDownOutside:X(e.onPointerDownOutside,i=>{const a=i.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0;(a.button===2||l)&&i.preventDefault()}),onFocusOutside:X(e.onFocusOutside,i=>i.preventDefault())})}),hI=m.forwardRef((e,t)=>{const r=gr(Is,e.__scopeDialog),n=m.useRef(!1),s=m.useRef(!1);return o.jsx(X1,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var a,l;(a=e.onCloseAutoFocus)==null||a.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const a=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(a))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),X1=m.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:i,...a}=e,l=gr(Is,r),c=m.useRef(null),u=we(t,c);return am(),o.jsxs(o.Fragment,{children:[o.jsx(Ru,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:i,children:o.jsx(lo,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":pm(l.open),...a,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx(pI,{titleId:l.titleId}),o.jsx(gI,{contentRef:c,descriptionId:l.descriptionId})]})]})}),hm="DialogTitle",Z1=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=gr(hm,r);return o.jsx(ee.h2,{id:s.titleId,...n,ref:t})});Z1.displayName=hm;var ej="DialogDescription",tj=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=gr(ej,r);return o.jsx(ee.p,{id:s.descriptionId,...n,ref:t})});tj.displayName=ej;var rj="DialogClose",nj=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=gr(rj,r);return o.jsx(ee.button,{type:"button",...n,ref:t,onClick:X(e.onClick,()=>s.onOpenChange(!1))})});nj.displayName=rj;function pm(e){return e?"open":"closed"}var sj="DialogTitleWarning",[g3,ij]=RE(sj,{contentName:Is,titleName:hm,docsSlug:"dialog"}),pI=({titleId:e})=>{const t=ij(sj),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return m.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},mI="DialogDescriptionWarning",gI=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${ij(mI).contentName}}.`;return m.useEffect(()=>{var i;const s=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},oj=V1,vI=K1,mm=Q1,nl=Y1,sl=J1,Iu=Z1,Mu=tj,aj=nj,Oo='[cmdk-group=""]',Fd='[cmdk-group-items=""]',yI='[cmdk-group-heading=""]',lj='[cmdk-item=""]',Jv=`${lj}:not([aria-disabled="true"])`,Nh="cmdk-item-select",ni="data-value",xI=(e,t,r)=>aI(e,t,r),cj=m.createContext(void 0),il=()=>m.useContext(cj),uj=m.createContext(void 0),gm=()=>m.useContext(uj),dj=m.createContext(void 0),fj=m.forwardRef((e,t)=>{let r=si(()=>{var R,V;return{search:"",value:(V=(R=e.value)!=null?R:e.defaultValue)!=null?V:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),n=si(()=>new Set),s=si(()=>new Map),i=si(()=>new Map),a=si(()=>new Set),l=hj(e),{label:c,children:u,value:d,onValueChange:f,filter:h,shouldFilter:g,loop:v,disablePointerSelection:p=!1,vimBindings:b=!0,...w}=e,y=pt(),x=pt(),j=pt(),k=m.useRef(null),_=PI();Ms(()=>{if(d!==void 0){let R=d.trim();r.current.value=R,N.emit()}},[d]),Ms(()=>{_(6,P)},[]);let N=m.useMemo(()=>({subscribe:R=>(a.current.add(R),()=>a.current.delete(R)),snapshot:()=>r.current,setState:(R,V,Z)=>{var q,oe,U,le;if(!Object.is(r.current[R],V)){if(r.current[R]=V,R==="search")L(),A(),_(1,$);else if(R==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let he=document.getElementById(j);he?he.focus():(q=document.getElementById(y))==null||q.focus()}if(_(7,()=>{var he;r.current.selectedItemId=(he=C())==null?void 0:he.id,N.emit()}),Z||_(5,P),((oe=l.current)==null?void 0:oe.value)!==void 0){let he=V??"";(le=(U=l.current).onValueChange)==null||le.call(U,he);return}}N.emit()}},emit:()=>{a.current.forEach(R=>R())}}),[]),E=m.useMemo(()=>({value:(R,V,Z)=>{var q;V!==((q=i.current.get(R))==null?void 0:q.value)&&(i.current.set(R,{value:V,keywords:Z}),r.current.filtered.items.set(R,O(V,Z)),_(2,()=>{A(),N.emit()}))},item:(R,V)=>(n.current.add(R),V&&(s.current.has(V)?s.current.get(V).add(R):s.current.set(V,new Set([R]))),_(3,()=>{L(),A(),r.current.value||$(),N.emit()}),()=>{i.current.delete(R),n.current.delete(R),r.current.filtered.items.delete(R);let Z=C();_(4,()=>{L(),(Z==null?void 0:Z.getAttribute("id"))===R&&$(),N.emit()})}),group:R=>(s.current.has(R)||s.current.set(R,new Set),()=>{i.current.delete(R),s.current.delete(R)}),filter:()=>l.current.shouldFilter,label:c||e["aria-label"],getDisablePointerSelection:()=>l.current.disablePointerSelection,listId:y,inputId:j,labelId:x,listInnerRef:k}),[]);function O(R,V){var Z,q;let oe=(q=(Z=l.current)==null?void 0:Z.filter)!=null?q:xI;return R?oe(R,r.current.search,V):0}function A(){if(!r.current.search||l.current.shouldFilter===!1)return;let R=r.current.filtered.items,V=[];r.current.filtered.groups.forEach(q=>{let oe=s.current.get(q),U=0;oe.forEach(le=>{let he=R.get(le);U=Math.max(he,U)}),V.push([q,U])});let Z=k.current;F().sort((q,oe)=>{var U,le;let he=q.getAttribute("id"),pe=oe.getAttribute("id");return((U=R.get(pe))!=null?U:0)-((le=R.get(he))!=null?le:0)}).forEach(q=>{let oe=q.closest(Fd);oe?oe.appendChild(q.parentElement===oe?q:q.closest(`${Fd} > *`)):Z.appendChild(q.parentElement===Z?q:q.closest(`${Fd} > *`))}),V.sort((q,oe)=>oe[1]-q[1]).forEach(q=>{var oe;let U=(oe=k.current)==null?void 0:oe.querySelector(`${Oo}[${ni}="${encodeURIComponent(q[0])}"]`);U==null||U.parentElement.appendChild(U)})}function $(){let R=F().find(Z=>Z.getAttribute("aria-disabled")!=="true"),V=R==null?void 0:R.getAttribute(ni);N.setState("value",V||void 0)}function L(){var R,V,Z,q;if(!r.current.search||l.current.shouldFilter===!1){r.current.filtered.count=n.current.size;return}r.current.filtered.groups=new Set;let oe=0;for(let U of n.current){let le=(V=(R=i.current.get(U))==null?void 0:R.value)!=null?V:"",he=(q=(Z=i.current.get(U))==null?void 0:Z.keywords)!=null?q:[],pe=O(le,he);r.current.filtered.items.set(U,pe),pe>0&&oe++}for(let[U,le]of s.current)for(let he of le)if(r.current.filtered.items.get(he)>0){r.current.filtered.groups.add(U);break}r.current.filtered.count=oe}function P(){var R,V,Z;let q=C();q&&(((R=q.parentElement)==null?void 0:R.firstChild)===q&&((Z=(V=q.closest(Oo))==null?void 0:V.querySelector(yI))==null||Z.scrollIntoView({block:"nearest"})),q.scrollIntoView({block:"nearest"}))}function C(){var R;return(R=k.current)==null?void 0:R.querySelector(`${lj}[aria-selected="true"]`)}function F(){var R;return Array.from(((R=k.current)==null?void 0:R.querySelectorAll(Jv))||[])}function B(R){let V=F()[R];V&&N.setState("value",V.getAttribute(ni))}function J(R){var V;let Z=C(),q=F(),oe=q.findIndex(le=>le===Z),U=q[oe+R];(V=l.current)!=null&&V.loop&&(U=oe+R<0?q[q.length-1]:oe+R===q.length?q[0]:q[oe+R]),U&&N.setState("value",U.getAttribute(ni))}function T(R){let V=C(),Z=V==null?void 0:V.closest(Oo),q;for(;Z&&!q;)Z=R>0?CI(Z,Oo):TI(Z,Oo),q=Z==null?void 0:Z.querySelector(Jv);q?N.setState("value",q.getAttribute(ni)):J(R)}let M=()=>B(F().length-1),z=R=>{R.preventDefault(),R.metaKey?M():R.altKey?T(1):J(1)},te=R=>{R.preventDefault(),R.metaKey?B(0):R.altKey?T(-1):J(-1)};return m.createElement(ee.div,{ref:t,tabIndex:-1,...w,"cmdk-root":"",onKeyDown:R=>{var V;(V=w.onKeyDown)==null||V.call(w,R);let Z=R.nativeEvent.isComposing||R.keyCode===229;if(!(R.defaultPrevented||Z))switch(R.key){case"n":case"j":{b&&R.ctrlKey&&z(R);break}case"ArrowDown":{z(R);break}case"p":case"k":{b&&R.ctrlKey&&te(R);break}case"ArrowUp":{te(R);break}case"Home":{R.preventDefault(),B(0);break}case"End":{R.preventDefault(),M();break}case"Enter":{R.preventDefault();let q=C();if(q){let oe=new Event(Nh);q.dispatchEvent(oe)}}}}},m.createElement("label",{"cmdk-label":"",htmlFor:E.inputId,id:E.labelId,style:OI},c),Du(e,R=>m.createElement(uj.Provider,{value:N},m.createElement(cj.Provider,{value:E},R))))}),wI=m.forwardRef((e,t)=>{var r,n;let s=pt(),i=m.useRef(null),a=m.useContext(dj),l=il(),c=hj(e),u=(n=(r=c.current)==null?void 0:r.forceMount)!=null?n:a==null?void 0:a.forceMount;Ms(()=>{if(!u)return l.item(s,a==null?void 0:a.id)},[u]);let d=pj(s,i,[e.value,e.children,i],e.keywords),f=gm(),h=Kn(_=>_.value&&_.value===d.current),g=Kn(_=>u||l.filter()===!1?!0:_.search?_.filtered.items.get(s)>0:!0);m.useEffect(()=>{let _=i.current;if(!(!_||e.disabled))return _.addEventListener(Nh,v),()=>_.removeEventListener(Nh,v)},[g,e.onSelect,e.disabled]);function v(){var _,N;p(),(N=(_=c.current).onSelect)==null||N.call(_,d.current)}function p(){f.setState("value",d.current,!0)}if(!g)return null;let{disabled:b,value:w,onSelect:y,forceMount:x,keywords:j,...k}=e;return m.createElement(ee.div,{ref:Ps(i,t),...k,id:s,"cmdk-item":"",role:"option","aria-disabled":!!b,"aria-selected":!!h,"data-disabled":!!b,"data-selected":!!h,onPointerMove:b||l.getDisablePointerSelection()?void 0:p,onClick:b?void 0:v},e.children)}),bI=m.forwardRef((e,t)=>{let{heading:r,children:n,forceMount:s,...i}=e,a=pt(),l=m.useRef(null),c=m.useRef(null),u=pt(),d=il(),f=Kn(g=>s||d.filter()===!1?!0:g.search?g.filtered.groups.has(a):!0);Ms(()=>d.group(a),[]),pj(a,l,[e.value,e.heading,c]);let h=m.useMemo(()=>({id:a,forceMount:s}),[s]);return m.createElement(ee.div,{ref:Ps(l,t),...i,"cmdk-group":"",role:"presentation",hidden:f?void 0:!0},r&&m.createElement("div",{ref:c,"cmdk-group-heading":"","aria-hidden":!0,id:u},r),Du(e,g=>m.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?u:void 0},m.createElement(dj.Provider,{value:h},g))))}),jI=m.forwardRef((e,t)=>{let{alwaysRender:r,...n}=e,s=m.useRef(null),i=Kn(a=>!a.search);return!r&&!i?null:m.createElement(ee.div,{ref:Ps(s,t),...n,"cmdk-separator":"",role:"separator"})}),NI=m.forwardRef((e,t)=>{let{onValueChange:r,...n}=e,s=e.value!=null,i=gm(),a=Kn(u=>u.search),l=Kn(u=>u.selectedItemId),c=il();return m.useEffect(()=>{e.value!=null&&i.setState("search",e.value)},[e.value]),m.createElement(ee.input,{ref:t,...n,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":c.listId,"aria-labelledby":c.labelId,"aria-activedescendant":l,id:c.inputId,type:"text",value:s?e.value:a,onChange:u=>{s||i.setState("search",u.target.value),r==null||r(u.target.value)}})}),SI=m.forwardRef((e,t)=>{let{children:r,label:n="Suggestions",...s}=e,i=m.useRef(null),a=m.useRef(null),l=Kn(u=>u.selectedItemId),c=il();return m.useEffect(()=>{if(a.current&&i.current){let u=a.current,d=i.current,f,h=new ResizeObserver(()=>{f=requestAnimationFrame(()=>{let g=u.offsetHeight;d.style.setProperty("--cmdk-list-height",g.toFixed(1)+"px")})});return h.observe(u),()=>{cancelAnimationFrame(f),h.unobserve(u)}}},[]),m.createElement(ee.div,{ref:Ps(i,t),...s,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":l,"aria-label":n,id:c.listId},Du(e,u=>m.createElement("div",{ref:Ps(a,c.listInnerRef),"cmdk-list-sizer":""},u)))}),kI=m.forwardRef((e,t)=>{let{open:r,onOpenChange:n,overlayClassName:s,contentClassName:i,container:a,...l}=e;return m.createElement(oj,{open:r,onOpenChange:n},m.createElement(mm,{container:a},m.createElement(nl,{"cmdk-overlay":"",className:s}),m.createElement(sl,{"aria-label":e.label,"cmdk-dialog":"",className:i},m.createElement(fj,{ref:t,...l}))))}),_I=m.forwardRef((e,t)=>Kn(r=>r.filtered.count===0)?m.createElement(ee.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),EI=m.forwardRef((e,t)=>{let{progress:r,children:n,label:s="Loading...",...i}=e;return m.createElement(ee.div,{ref:t,...i,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":s},Du(e,a=>m.createElement("div",{"aria-hidden":!0},a)))}),Et=Object.assign(fj,{List:SI,Item:wI,Input:NI,Group:bI,Separator:jI,Dialog:kI,Empty:_I,Loading:EI});function CI(e,t){let r=e.nextElementSibling;for(;r;){if(r.matches(t))return r;r=r.nextElementSibling}}function TI(e,t){let r=e.previousElementSibling;for(;r;){if(r.matches(t))return r;r=r.previousElementSibling}}function hj(e){let t=m.useRef(e);return Ms(()=>{t.current=e}),t}var Ms=typeof window>"u"?m.useEffect:m.useLayoutEffect;function si(e){let t=m.useRef();return t.current===void 0&&(t.current=e()),t}function Kn(e){let t=gm(),r=()=>e(t.snapshot());return m.useSyncExternalStore(t.subscribe,r,r)}function pj(e,t,r,n=[]){let s=m.useRef(),i=il();return Ms(()=>{var a;let l=(()=>{var u;for(let d of r){if(typeof d=="string")return d.trim();if(typeof d=="object"&&"current"in d)return d.current?(u=d.current.textContent)==null?void 0:u.trim():s.current}})(),c=n.map(u=>u.trim());i.value(e,l,c),(a=t.current)==null||a.setAttribute(ni,l),s.current=l}),s}var PI=()=>{let[e,t]=m.useState(),r=si(()=>new Map);return Ms(()=>{r.current.forEach(n=>n()),r.current=new Map},[e]),(n,s)=>{r.current.set(n,s),t({})}};function RI(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function Du({asChild:e,children:t},r){return e&&m.isValidElement(t)?m.cloneElement(RI(t),{ref:t.ref},r(t.props.children)):r(t)}var OI={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const AI=mm,mj=m.forwardRef(({className:e,...t},r)=>o.jsx(nl,{ref:r,className:H("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));mj.displayName=nl.displayName;const II=m.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(AI,{children:[o.jsx(mj,{}),o.jsxs(sl,{ref:n,className:H("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,o.jsxs(aj,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[o.jsx(Za,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));II.displayName=sl.displayName;const MI=m.forwardRef(({className:e,...t},r)=>o.jsx(Iu,{ref:r,className:H("text-lg font-semibold leading-none tracking-tight",e),...t}));MI.displayName=Iu.displayName;const DI=m.forwardRef(({className:e,...t},r)=>o.jsx(Mu,{ref:r,className:H("text-sm text-muted-foreground",e),...t}));DI.displayName=Mu.displayName;const ra=m.forwardRef(({className:e,...t},r)=>o.jsx(Et,{ref:r,className:H("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t}));ra.displayName=Et.displayName;const vm=m.forwardRef(({className:e,...t},r)=>o.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[o.jsx(Ci,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),o.jsx(Et.Input,{ref:r,className:H("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));vm.displayName=Et.Input.displayName;const na=m.forwardRef(({className:e,...t},r)=>o.jsx(Et.List,{ref:r,className:H("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...t}));na.displayName=Et.List.displayName;const ym=m.forwardRef((e,t)=>o.jsx(Et.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));ym.displayName=Et.Empty.displayName;const sa=m.forwardRef(({className:e,...t},r)=>o.jsx(Et.Group,{ref:r,className:H("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...t}));sa.displayName=Et.Group.displayName;const LI=m.forwardRef(({className:e,...t},r)=>o.jsx(Et.Separator,{ref:r,className:H("-mx-1 h-px bg-border",e),...t}));LI.displayName=Et.Separator.displayName;const ia=m.forwardRef(({className:e,...t},r)=>o.jsx(Et.Item,{ref:r,className:H("relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e),...t}));ia.displayName=Et.Item.displayName;const $I=["All","Cricket","Football","Basketball","Tennis","Badminton"];function FI(e){const t=new Date,r=t.getHours()*60+t.getMinutes(),[n,s]=e.openingTime.split(":").map(Number),[i,a]=e.closingTime.split(":").map(Number);return r>=n*60+s&&r<i*60+a-60}const Xv="playturf_city";function UI(){var k,_;const{user:e,fullName:t}=nt(),[r,n]=m.useState(()=>localStorage.getItem(Xv)||"Bangalore"),[s,i]=m.useState(!1),[a,l]=m.useState("All"),[c,u]=m.useState("");m.useEffect(()=>{localStorage.setItem(Xv,r)},[r]);const{data:d=[]}=Ce({queryKey:["/api/cities"]}),{data:f=[],isLoading:h}=Ce({queryKey:["/api/turfs",r],queryFn:async()=>{const N=await fetch(`/api/turfs?city=${encodeURIComponent(r)}`);if(!N.ok)return[];const E=await N.json();return Array.isArray(E)?E:[]}}),v=(t||((k=e==null?void 0:e.email)==null?void 0:k.split("@")[0])||"User").substring(0,2).toUpperCase(),p=a==="All"?f:f.filter(N=>N.sportTypes.includes(a)),b=c?p.filter(N=>N.name.toLowerCase().includes(c.toLowerCase())||N.location.toLowerCase().includes(c.toLowerCase())):p,w=b.filter(N=>N.featured),y=b.filter(N=>N.isAvailable&&FI(N)),x=b.filter(N=>N.isAvailable),j=y.length>0?y:x;return o.jsxs("div",{className:"min-h-screen bg-background pb-20",children:[o.jsx("header",{className:"sticky top-0 z-40 bg-background/95 backdrop-blur-lg border-b border-border",children:o.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[o.jsx(zs,{size:"sm"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(Q,{size:"icon",variant:"ghost",className:"relative",children:[o.jsx(Fp,{className:"w-5 h-5"}),o.jsx("span",{className:"absolute top-1.5 right-1.5 w-2 h-2 bg-primary rounded-full"})]}),o.jsxs(Tu,{className:"w-8 h-8 cursor-pointer",children:[o.jsx(om,{src:(_=e==null?void 0:e.user_metadata)==null?void 0:_.avatar_url}),o.jsx(Pu,{className:"bg-primary text-black text-xs font-bold",children:v})]})]})]})}),o.jsxs("main",{className:"px-4 pt-5 space-y-5",children:[o.jsxs("section",{className:"flex items-start justify-between gap-3",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("h1",{className:"text-2xl font-bold text-foreground leading-tight",children:["Find Your Perfect",o.jsx("span",{className:"text-primary",children:" Turf"})]}),o.jsx("p",{className:"text-muted-foreground text-sm mt-0.5",children:"Book your next game in seconds"})]}),o.jsxs(cc,{open:s,onOpenChange:i,children:[o.jsx(uc,{asChild:!0,children:o.jsxs(Q,{variant:"outline",role:"combobox","aria-expanded":s,className:"flex-shrink-0 h-auto py-2 px-3 gap-1.5 bg-card border-border hover:border-primary/60 text-foreground rounded-xl mt-0.5",children:[o.jsx(rt,{className:"w-3.5 h-3.5 text-primary"}),o.jsx("span",{className:"text-sm font-medium max-w-[88px] truncate",children:r}),o.jsx($n,{className:"w-3.5 h-3.5 text-muted-foreground"})]})}),o.jsx(ta,{align:"end",className:"p-0 w-52",children:o.jsxs(ra,{children:[o.jsx(vm,{placeholder:"Search city...",className:"h-9"}),o.jsxs(na,{className:"max-h-56",children:[o.jsx(ym,{children:"No city found."}),o.jsx(sa,{children:d.map(N=>o.jsxs(ia,{value:N,onSelect:()=>{n(N),l("All"),i(!1)},children:[o.jsx(_i,{className:`mr-2 h-4 w-4 ${N===r?"opacity-100 text-primary":"opacity-0"}`}),N]},N))})]})]})})]})]}),o.jsxs("section",{className:"relative",children:[o.jsx(Ci,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground pointer-events-none"}),o.jsx(jt,{type:"search",placeholder:`Search turfs in ${r}...`,className:"pl-10 h-11 bg-card border-transparent focus-visible:ring-0 focus-visible:border-border",value:c,onChange:N=>u(N.target.value)})]}),o.jsx("section",{children:o.jsx("div",{className:"flex gap-2 overflow-x-auto scrollbar-hide -mx-4 px-4 pb-1",children:$I.map(N=>o.jsx($e,{variant:a===N?"default":"secondary",className:"px-4 py-2 text-sm font-medium whitespace-nowrap cursor-pointer flex-shrink-0",onClick:()=>l(N),children:N},N))})}),(h||w.length>0)&&o.jsxs("section",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h2",{className:"text-base font-semibold text-foreground",children:"Featured Turfs"}),o.jsx("span",{className:"text-xs text-muted-foreground",children:r})]}),o.jsx("div",{className:"flex gap-4 overflow-x-auto scrollbar-hide -mx-4 px-4 pb-2",children:h?Array.from({length:3}).map((N,E)=>o.jsx(Ge,{className:"min-w-[260px] h-[180px] rounded-xl flex-shrink-0"},E)):w.map((N,E)=>o.jsx("div",{className:"animate-slide-up flex-shrink-0",style:{animationDelay:`${E*80}ms`},children:o.jsx(wh,{turf:N,variant:"featured"})},N.id))})]}),o.jsxs("section",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("h2",{className:"text-base font-semibold text-foreground",children:"Available Now"}),o.jsx("div",{className:"w-2 h-2 bg-primary rounded-full animate-pulse"})]}),o.jsx("span",{className:"text-xs text-muted-foreground",children:h?"...":`${j.length} turfs`})]}),o.jsx("div",{className:"space-y-3 pb-4",children:h?Array.from({length:3}).map((N,E)=>o.jsx(Ge,{className:"h-28 rounded-xl"},E)):j.length===0?o.jsxs("div",{className:"text-center py-14",children:[o.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-card flex items-center justify-center",children:o.jsx(rt,{className:"w-7 h-7 text-muted-foreground"})}),o.jsxs("h3",{className:"text-base font-semibold text-foreground mb-1",children:["No turfs in ",r]}),o.jsx("p",{className:"text-muted-foreground text-sm",children:"Be the first to add a turf here, or try another city."})]}):j.map((N,E)=>o.jsx("div",{className:"animate-slide-up",style:{animationDelay:`${E*50}ms`},children:o.jsx(wh,{turf:N,variant:"list"})},N.id))})]})]})]})}const BI=oj,zI=vI,WI=mm,gj=m.forwardRef(({className:e,...t},r)=>o.jsx(nl,{className:H("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));gj.displayName=nl.displayName;const HI=co("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),vj=m.forwardRef(({side:e="right",className:t,children:r,...n},s)=>o.jsxs(WI,{children:[o.jsx(gj,{}),o.jsxs(sl,{ref:s,className:H(HI({side:e}),t),...n,children:[r,o.jsxs(aj,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[o.jsx(Za,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));vj.displayName=sl.displayName;const yj=({className:e,...t})=>o.jsx("div",{className:H("flex flex-col space-y-2 text-center sm:text-left",e),...t});yj.displayName="SheetHeader";const xj=m.forwardRef(({className:e,...t},r)=>o.jsx(Iu,{ref:r,className:H("text-lg font-semibold text-foreground",e),...t}));xj.displayName=Iu.displayName;const VI=m.forwardRef(({className:e,...t},r)=>o.jsx(Mu,{ref:r,className:H("text-sm text-muted-foreground",e),...t}));VI.displayName=Mu.displayName;const Zv=["Cricket","Football","Basketball","Tennis","Badminton","Volleyball"],qI=["Bangalore","Hyderabad","Kurnool","Nandyal","Vijayawada","Visakhapatnam","Warangal","Chennai"];function KI(){const[e,t]=m.useState(""),[r,n]=m.useState(!1),[s,i]=m.useState([]),[a,l]=m.useState(!1),{data:c=[],isLoading:u}=Ce({queryKey:["/api/turfs"],enabled:r&&e.length>0}),d=c.filter(p=>{const b=p.name.toLowerCase().includes(e.toLowerCase())||p.location.toLowerCase().includes(e.toLowerCase())||p.city.toLowerCase().includes(e.toLowerCase())||p.sportTypes.some(y=>y.toLowerCase().includes(e.toLowerCase())),w=s.length===0||s.some(y=>p.sportTypes.includes(y));return b&&w}),f=p=>i(b=>b.includes(p)?b.filter(w=>w!==p):[...b,p]),h=p=>{(p??e).length>0&&(p!==void 0&&t(p),n(!0))},g=()=>{t(""),n(!1)},v=s.length;return o.jsxs("div",{className:"min-h-screen bg-background pb-20",children:[o.jsx("header",{className:"sticky top-0 z-40 bg-background/95 backdrop-blur-lg border-b border-border px-4 py-3",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(Ci,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground pointer-events-none z-10"}),o.jsx(jt,{type:"search",placeholder:"Search turfs, cities, sports...",className:"pl-10 pr-9 h-11 bg-card border-transparent focus-visible:ring-0 focus-visible:border-border",value:e,onChange:p=>t(p.target.value),onKeyDown:p=>p.key==="Enter"&&h(),autoFocus:!0}),e&&o.jsx("button",{onClick:g,className:"absolute right-2 top-1/2 -translate-y-1/2 p-1 rounded-full hover:bg-muted",children:o.jsx(Za,{className:"w-3.5 h-3.5 text-muted-foreground"})})]}),o.jsxs(BI,{open:a,onOpenChange:l,children:[o.jsx(zI,{asChild:!0,children:o.jsxs(Q,{variant:"outline",size:"icon",className:`h-11 w-11 flex-shrink-0 bg-card relative ${v>0?"border-primary":"border-border"}`,children:[o.jsx(BC,{className:`w-4 h-4 ${v>0?"text-primary":"text-muted-foreground"}`}),v>0&&o.jsx("span",{className:"absolute -top-1.5 -right-1.5 w-4 h-4 bg-primary text-black text-[10px] font-bold rounded-full flex items-center justify-center",children:v})]})}),o.jsxs(vj,{side:"bottom",className:"rounded-t-2xl bg-background pb-8",children:[o.jsx(yj,{className:"mb-4",children:o.jsx(xj,{className:"text-foreground",children:"Filter by Sport"})}),o.jsxs("div",{className:"space-y-5",children:[o.jsx("div",{className:"flex flex-wrap gap-2",children:Zv.map(p=>o.jsxs("button",{onClick:()=>f(p),className:`flex items-center gap-1.5 px-4 py-2 rounded-full text-sm font-medium border transition-colors ${s.includes(p)?"bg-primary text-black border-primary":"bg-card text-muted-foreground border-border hover:border-primary/40"}`,children:[s.includes(p)&&o.jsx(_i,{className:"w-3.5 h-3.5"}),p]},p))}),o.jsxs("div",{className:"flex gap-3 pt-2",children:[o.jsx(Q,{variant:"outline",className:"flex-1",onClick:()=>{i([]),l(!1)},children:"Clear All"}),o.jsx(Q,{className:"flex-1",onClick:()=>{l(!1),e&&n(!0)},children:"Apply"})]})]})]})]})]})}),o.jsx("main",{className:"px-4 py-5 space-y-6",children:r?o.jsxs("section",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("h2",{className:"font-semibold text-foreground",children:["Results for ",e,""]}),o.jsxs("span",{className:"text-sm text-muted-foreground",children:[d.length," found"]})]}),u?o.jsx("div",{className:"space-y-3",children:Array.from({length:4}).map((p,b)=>o.jsx(Ge,{className:"h-28 rounded-xl"},b))}):d.length===0?o.jsxs("div",{className:"text-center py-14",children:[o.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-card flex items-center justify-center",children:o.jsx(Ci,{className:"w-7 h-7 text-muted-foreground"})}),o.jsx("h3",{className:"text-base font-semibold text-foreground mb-1",children:"No results found"}),o.jsx("p",{className:"text-muted-foreground text-sm",children:"Try a different city or sport"}),o.jsx(Q,{variant:"ghost",className:"mt-4 text-primary",onClick:g,children:"Clear search"})]}):o.jsx("div",{className:"space-y-3",children:d.map(p=>o.jsx(wh,{turf:p,variant:"list"},p.id))})]}):o.jsxs(o.Fragment,{children:[o.jsxs("section",{className:"space-y-3",children:[o.jsx("h2",{className:"font-semibold text-foreground",children:"Popular Cities"}),o.jsx("div",{className:"grid grid-cols-2 gap-3",children:qI.map(p=>o.jsxs("button",{onClick:()=>h(p),className:"flex items-center gap-3 p-4 bg-card rounded-xl hover:bg-card/80 active:scale-[0.98] transition-all text-left",children:[o.jsx("div",{className:"w-9 h-9 rounded-lg bg-primary/10 flex items-center justify-center flex-shrink-0",children:o.jsx(rt,{className:"w-4 h-4 text-primary"})}),o.jsx("span",{className:"font-medium text-foreground text-sm",children:p})]},p))})]}),o.jsxs("section",{className:"space-y-3",children:[o.jsx("h2",{className:"font-semibold text-foreground",children:"Browse by Sport"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:Zv.map(p=>o.jsxs($e,{variant:"secondary",className:"px-4 py-2 cursor-pointer text-sm",onClick:()=>{i([p]),h(p)},children:[o.jsx(Ci,{className:"w-3 h-3 mr-1.5"}),p]},p))})]})]})})]})}var GI=m.createContext(void 0);function xm(e){const t=m.useContext(GI);return e||t||"ltr"}var Ud="rovingFocusGroup.onEntryFocus",QI={bubbles:!1,cancelable:!0},Lu="RovingFocusGroup",[Sh,wj,YI]=Mp(Lu),[JI,bj]=Or(Lu,[YI]),[XI,ZI]=JI(Lu),jj=m.forwardRef((e,t)=>o.jsx(Sh.Provider,{scope:e.__scopeRovingFocusGroup,children:o.jsx(Sh.Slot,{scope:e.__scopeRovingFocusGroup,children:o.jsx(e4,{...e,ref:t})})}));jj.displayName=Lu;var e4=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:i,currentTabStopId:a,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=m.useRef(null),g=we(t,h),v=xm(i),[p=null,b]=Os({prop:a,defaultProp:l,onChange:c}),[w,y]=m.useState(!1),x=mt(u),j=wj(r),k=m.useRef(!1),[_,N]=m.useState(0);return m.useEffect(()=>{const E=h.current;if(E)return E.addEventListener(Ud,x),()=>E.removeEventListener(Ud,x)},[x]),o.jsx(XI,{scope:r,orientation:n,dir:v,loop:s,currentTabStopId:p,onItemFocus:m.useCallback(E=>b(E),[b]),onItemShiftTab:m.useCallback(()=>y(!0),[]),onFocusableItemAdd:m.useCallback(()=>N(E=>E+1),[]),onFocusableItemRemove:m.useCallback(()=>N(E=>E-1),[]),children:o.jsx(ee.div,{tabIndex:w||_===0?-1:0,"data-orientation":n,...f,ref:g,style:{outline:"none",...e.style},onMouseDown:X(e.onMouseDown,()=>{k.current=!0}),onFocus:X(e.onFocus,E=>{const O=!k.current;if(E.target===E.currentTarget&&O&&!w){const A=new CustomEvent(Ud,QI);if(E.currentTarget.dispatchEvent(A),!A.defaultPrevented){const $=j().filter(B=>B.focusable),L=$.find(B=>B.active),P=$.find(B=>B.id===p),F=[L,P,...$].filter(Boolean).map(B=>B.ref.current);kj(F,d)}}k.current=!1}),onBlur:X(e.onBlur,()=>y(!1))})})}),Nj="RovingFocusGroupItem",Sj=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:i,...a}=e,l=pt(),c=i||l,u=ZI(Nj,r),d=u.currentTabStopId===c,f=wj(r),{onFocusableItemAdd:h,onFocusableItemRemove:g}=u;return m.useEffect(()=>{if(n)return h(),()=>g()},[n,h,g]),o.jsx(Sh.ItemSlot,{scope:r,id:c,focusable:n,active:s,children:o.jsx(ee.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...a,ref:t,onMouseDown:X(e.onMouseDown,v=>{n?u.onItemFocus(c):v.preventDefault()}),onFocus:X(e.onFocus,()=>u.onItemFocus(c)),onKeyDown:X(e.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){u.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const p=n4(v,u.orientation,u.dir);if(p!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let w=f().filter(y=>y.focusable).map(y=>y.ref.current);if(p==="last")w.reverse();else if(p==="prev"||p==="next"){p==="prev"&&w.reverse();const y=w.indexOf(v.currentTarget);w=u.loop?s4(w,y+1):w.slice(y+1)}setTimeout(()=>kj(w))}})})})});Sj.displayName=Nj;var t4={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function r4(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function n4(e,t,r){const n=r4(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return t4[n]}function kj(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function s4(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var i4=jj,o4=Sj,wm="Tabs",[a4,v3]=Or(wm,[bj]),_j=bj(),[l4,bm]=a4(wm),Ej=m.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:i,orientation:a="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=xm(l),[f,h]=Os({prop:n,onChange:s,defaultProp:i});return o.jsx(l4,{scope:r,baseId:pt(),value:f,onValueChange:h,orientation:a,dir:d,activationMode:c,children:o.jsx(ee.div,{dir:d,"data-orientation":a,...u,ref:t})})});Ej.displayName=wm;var Cj="TabsList",Tj=m.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...s}=e,i=bm(Cj,r),a=_j(r);return o.jsx(i4,{asChild:!0,...a,orientation:i.orientation,dir:i.dir,loop:n,children:o.jsx(ee.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:t})})});Tj.displayName=Cj;var Pj="TabsTrigger",Rj=m.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...i}=e,a=bm(Pj,r),l=_j(r),c=Ij(a.baseId,n),u=Mj(a.baseId,n),d=n===a.value;return o.jsx(o4,{asChild:!0,...l,focusable:!s,active:d,children:o.jsx(ee.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...i,ref:t,onMouseDown:X(e.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?a.onValueChange(n):f.preventDefault()}),onKeyDown:X(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&a.onValueChange(n)}),onFocus:X(e.onFocus,()=>{const f=a.activationMode!=="manual";!d&&!s&&f&&a.onValueChange(n)})})})});Rj.displayName=Pj;var Oj="TabsContent",Aj=m.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:s,children:i,...a}=e,l=bm(Oj,r),c=Ij(l.baseId,n),u=Mj(l.baseId,n),d=n===l.value,f=m.useRef(d);return m.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),o.jsx(en,{present:s||d,children:({present:h})=>o.jsx(ee.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...a,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&i})})});Aj.displayName=Oj;function Ij(e,t){return`${e}-trigger-${t}`}function Mj(e,t){return`${e}-content-${t}`}var c4=Ej,Dj=Tj,Lj=Rj,$j=Aj;const Fj=c4,jm=m.forwardRef(({className:e,...t},r)=>o.jsx(Dj,{ref:r,className:H("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));jm.displayName=Dj.displayName;const Ma=m.forwardRef(({className:e,...t},r)=>o.jsx(Lj,{ref:r,className:H("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Ma.displayName=Lj.displayName;const Da=m.forwardRef(({className:e,...t},r)=>o.jsx($j,{ref:r,className:H("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Da.displayName=$j.displayName;function u4(){const{data:e,isLoading:t}=Ce({queryKey:["/api/bookings"]}),r=(e==null?void 0:e.filter(a=>a.status==="confirmed"))||[],n=(e==null?void 0:e.filter(a=>a.status==="completed"))||[],s=({booking:a})=>o.jsxs(ie,{className:"p-4 hover-elevate cursor-pointer","data-testid":`card-booking-${a.id}`,children:[o.jsxs("div",{className:"flex items-start justify-between mb-3",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-foreground",children:a.turfName}),o.jsxs("div",{className:"flex items-center gap-1.5 text-muted-foreground text-sm mt-1",children:[o.jsx(rt,{className:"w-3.5 h-3.5"}),o.jsx("span",{className:"truncate",children:a.turfAddress})]})]}),o.jsx($e,{variant:a.status==="confirmed"?"default":"secondary",className:"capitalize",children:a.status})]}),o.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[o.jsxs("div",{className:"flex items-center gap-1.5 text-muted-foreground",children:[o.jsx(hr,{className:"w-4 h-4"}),o.jsx("span",{children:a.date})]}),o.jsxs("div",{className:"flex items-center gap-1.5 text-muted-foreground",children:[o.jsx(_t,{className:"w-4 h-4"}),o.jsx("span",{children:a.startTime})]})]}),o.jsxs("div",{className:"flex items-center justify-between mt-4 pt-3 border-t border-border",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Total: "}),o.jsxs("span",{className:"font-semibold text-foreground",children:["",a.totalAmount]})]}),o.jsxs("div",{className:"flex items-center gap-1 text-primary text-sm font-medium",children:["View Details",o.jsx(Cr,{className:"w-4 h-4"})]})]})]}),i=({type:a})=>o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-card flex items-center justify-center",children:o.jsx(hr,{className:"w-8 h-8 text-muted-foreground"})}),o.jsxs("h3",{className:"text-lg font-semibold text-foreground mb-2",children:["No ",a," bookings"]}),o.jsx("p",{className:"text-muted-foreground text-sm mb-4",children:a==="upcoming"?"You don't have any upcoming bookings yet":"Your completed bookings will appear here"}),a==="upcoming"&&o.jsx(Na,{href:"/",children:o.jsx("a",{className:"text-primary font-medium",children:"Browse Turfs"})})]});return o.jsxs("div",{className:"min-h-screen bg-background pb-20",children:[o.jsx("header",{className:"sticky top-0 z-40 bg-background/95 backdrop-blur-lg border-b border-border px-4 py-4",children:o.jsx("h1",{className:"text-xl font-bold text-foreground",children:"My Bookings"})}),o.jsx("main",{className:"px-4 py-6",children:o.jsxs(Fj,{defaultValue:"upcoming",className:"w-full",children:[o.jsxs(jm,{className:"w-full grid grid-cols-2","data-testid":"tabs-bookings",children:[o.jsxs(Ma,{value:"upcoming","data-testid":"tab-upcoming",children:["Upcoming",r.length>0&&o.jsx("span",{className:"ml-2 px-1.5 py-0.5 text-xs bg-primary text-primary-foreground rounded-full",children:r.length})]}),o.jsx(Ma,{value:"past","data-testid":"tab-past",children:"Past"})]}),o.jsx(Da,{value:"upcoming",className:"mt-4 space-y-3",children:t?Array.from({length:3}).map((a,l)=>o.jsx(Ge,{className:"h-36 rounded-xl"},l)):r.length===0?o.jsx(i,{type:"upcoming"}):r.map(a=>o.jsx(s,{booking:a},a.id))}),o.jsx(Da,{value:"past",className:"mt-4 space-y-3",children:t?Array.from({length:3}).map((a,l)=>o.jsx(Ge,{className:"h-36 rounded-xl"},l)):n.length===0?o.jsx(i,{type:"past"}):n.map(a=>o.jsx(s,{booking:a},a.id))})]})})]})}function d4(){return JSON.parse(localStorage.getItem("favIds")||"[]")}function f4(){const[,e]=Ue(),[t,r]=m.useState(d4),n=jE({queries:t.map(l=>({queryKey:[`/api/turfs/${l}`],enabled:!!l}))}),s=l=>{localStorage.removeItem(`fav_${l}`);const c=t.filter(u=>u!==l);localStorage.setItem("favIds",JSON.stringify(c)),r(c)},i=n.some(l=>l.isLoading),a=n.map(l=>l.data).filter(Boolean);return o.jsxs("div",{className:"min-h-screen bg-background pb-20",children:[o.jsxs("header",{className:"sticky top-0 z-40 bg-background/95 backdrop-blur-lg border-b border-border px-4 py-4 flex items-center justify-between",children:[o.jsx("h1",{className:"text-xl font-bold text-foreground",children:"Favorites"}),t.length>0&&o.jsx($e,{variant:"secondary",className:"text-primary",children:t.length})]}),o.jsx("main",{className:"px-4 py-6",children:t.length===0?o.jsxs("div",{className:"text-center py-16 space-y-4",children:[o.jsx("div",{className:"w-20 h-20 mx-auto rounded-full bg-card flex items-center justify-center",children:o.jsx(ka,{className:"w-10 h-10 text-muted-foreground"})}),o.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"No favorites yet"}),o.jsx("p",{className:"text-muted-foreground text-sm max-w-xs mx-auto",children:"Tap the  heart button on any turf to save it here for quick booking."}),o.jsx(Na,{href:"/",children:o.jsxs(Q,{className:"green-glow mt-2","data-testid":"button-browse-turfs",children:[o.jsx(eb,{className:"w-4 h-4 mr-2"}),"Browse Turfs"]})})]}):i?o.jsx("div",{className:"space-y-4",children:t.map(l=>o.jsx(Ge,{className:"h-32 rounded-2xl"},l))}):o.jsx("div",{className:"space-y-4",children:a.map(l=>o.jsxs(ie,{className:"overflow-hidden flex gap-0",children:[o.jsx("div",{className:"w-28 h-28 flex-shrink-0 relative",children:o.jsx("img",{src:l.imageUrl,alt:l.name,className:"w-full h-full object-cover"})}),o.jsxs("div",{className:"flex-1 p-3 flex flex-col justify-between min-w-0",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-start justify-between gap-2",children:[o.jsx("h3",{className:"font-semibold text-foreground text-sm leading-tight line-clamp-1",children:l.name}),o.jsx("div",{className:"flex items-center gap-1 flex-shrink-0",children:l.rating>0?o.jsxs(o.Fragment,{children:[o.jsx(Wr,{className:"w-3 h-3 text-yellow-400 fill-yellow-400"}),o.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:l.rating})]}):o.jsx("span",{className:"text-xs text-muted-foreground",children:"New"})})]}),o.jsxs("div",{className:"flex items-center gap-1 text-muted-foreground text-xs mt-1",children:[o.jsx(rt,{className:"w-3 h-3 flex-shrink-0"}),o.jsxs("span",{className:"line-clamp-1",children:[l.location,", ",l.city]})]}),o.jsx("div",{className:"flex gap-1 flex-wrap mt-1.5",children:l.sportTypes.slice(0,2).map(c=>o.jsx($e,{variant:"secondary",className:"text-xs px-1.5 py-0",children:c},c))})]}),o.jsxs("div",{className:"flex items-center justify-between mt-2",children:[o.jsxs("span",{className:"text-primary font-bold text-sm",children:["",l.pricePerHour,o.jsx("span",{className:"text-xs font-normal text-muted-foreground",children:"/hr"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>s(l.id),className:"p-1.5 rounded-lg bg-red-500/10 hover:bg-red-500/20 transition-colors",children:o.jsx(xu,{className:"w-3.5 h-3.5 text-red-500"})}),o.jsx(Q,{size:"sm",className:"green-glow h-7 text-xs px-3",onClick:()=>e(`/booking/${l.id}`),children:"Book"})]})]})]})]},l.id))})})]})}const h4=[{icon:Fp,label:"Notifications",description:"Manage your notification preferences",route:"/profile/notifications"},{icon:Ei,label:"Payment Methods",description:"Add or remove payment options",route:"/profile/payment-methods"},{icon:tb,label:"Privacy & Security",description:"Control your data and security",route:"/profile/privacy-security"},{icon:Wr,label:"Rate Us",description:"Share your feedback",route:"/profile/rate-us"},{icon:_C,label:"Help & Support",description:"Get help with your bookings",route:"/profile/help-support"}];function p4(){var d,f;const{user:e,fullName:t,userRole:r,signOut:n}=nt(),[,s]=Ue(),{data:i=[]}=Ce({queryKey:["/api/bookings",e==null?void 0:e.id],queryFn:async()=>e!=null&&e.id?(await fetch(`/api/bookings?userId=${e.id}`)).json():[],enabled:!!e}),a=(()=>{try{return JSON.parse(localStorage.getItem("favIds")||"[]").length}catch{return 0}})(),l=async()=>{await n(),s("/")},c=t||((d=e==null?void 0:e.email)==null?void 0:d.split("@")[0])||"User",u=c.substring(0,2).toUpperCase();return o.jsxs("div",{className:"min-h-screen bg-background pb-20",children:[o.jsx("header",{className:"sticky top-0 z-40 bg-background/95 backdrop-blur-lg border-b border-border",children:o.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[o.jsx("h1",{className:"text-xl font-bold text-foreground",children:"Profile"}),o.jsx(Q,{size:"icon",variant:"ghost",children:o.jsx($C,{className:"w-5 h-5"})})]})}),o.jsxs("main",{className:"px-4 py-6 space-y-6",children:[o.jsxs(ie,{className:"p-5",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs(Tu,{className:"w-16 h-16",children:[o.jsx(om,{src:(f=e==null?void 0:e.user_metadata)==null?void 0:f.avatar_url}),o.jsx(Pu,{className:"text-xl bg-primary text-black font-bold",children:u})]}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[o.jsx("h2",{className:"text-lg font-semibold text-foreground",children:c}),o.jsx($e,{variant:"secondary",className:"capitalize text-xs",children:r})]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:e==null?void 0:e.email}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:["Member since ",new Date((e==null?void 0:e.created_at)||"").toLocaleDateString()]})]})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-6 pt-4 border-t border-border",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-2xl font-bold text-primary",children:i.length}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Bookings"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-2xl font-bold text-primary",children:a}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Favorites"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-2xl font-bold text-primary",children:"0"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Reviews"})]})]})]}),o.jsx(ie,{children:o.jsx("div",{className:"divide-y divide-border",children:h4.map((h,g)=>o.jsxs("button",{onClick:()=>s(h.route),className:"w-full flex items-center justify-between p-4 hover:bg-accent/50 transition-colors",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(h.icon,{className:"w-5 h-5 text-muted-foreground"}),o.jsxs("div",{className:"text-left",children:[o.jsx("p",{className:"font-medium text-foreground",children:h.label}),o.jsx("p",{className:"text-sm text-muted-foreground",children:h.description})]})]}),o.jsx(Cr,{className:"w-5 h-5 text-muted-foreground"})]},g))})}),o.jsx(ie,{children:o.jsxs("button",{onClick:l,className:"w-full flex items-center justify-between p-4 hover:bg-destructive/10 transition-colors text-destructive",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(IC,{className:"w-5 h-5"}),o.jsxs("div",{className:"text-left",children:[o.jsx("p",{className:"font-medium",children:"Sign Out"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Sign out of your account"})]})]}),o.jsx(Cr,{className:"w-5 h-5"})]})}),o.jsxs("div",{className:"text-center py-8",children:[o.jsx(zs,{size:"sm",className:"mx-auto mb-4"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Version 1.0.1"}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:" 2026 PlayTurf. All rights reserved."})]})]})]})}function ey(e,[t,r]){return Math.min(r,Math.max(t,e))}function m4(e){const t=m.useRef({value:e,previous:e});return m.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var g4=[" ","Enter","ArrowUp","ArrowDown"],v4=[" ","Enter"],ol="Select",[$u,Fu,y4]=Mp(ol),[vo,y3]=Or(ol,[y4,po]),Uu=po(),[x4,Zn]=vo(ol),[w4,b4]=vo(ol),Uj=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:s,onOpenChange:i,value:a,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:g,form:v}=e,p=Uu(t),[b,w]=m.useState(null),[y,x]=m.useState(null),[j,k]=m.useState(!1),_=xm(u),[N=!1,E]=Os({prop:n,defaultProp:s,onChange:i}),[O,A]=Os({prop:a,defaultProp:l,onChange:c}),$=m.useRef(null),L=b?v||!!b.closest("form"):!0,[P,C]=m.useState(new Set),F=Array.from(P).map(B=>B.props.value).join(";");return o.jsx(Ab,{...p,children:o.jsxs(x4,{required:g,scope:t,trigger:b,onTriggerChange:w,valueNode:y,onValueNodeChange:x,valueNodeHasChildren:j,onValueNodeHasChildrenChange:k,contentId:pt(),value:O,onValueChange:A,open:N,onOpenChange:E,dir:_,triggerPointerDownPosRef:$,disabled:h,children:[o.jsx($u.Provider,{scope:t,children:o.jsx(w4,{scope:e.__scopeSelect,onNativeOptionAdd:m.useCallback(B=>{C(J=>new Set(J).add(B))},[]),onNativeOptionRemove:m.useCallback(B=>{C(J=>{const T=new Set(J);return T.delete(B),T})},[]),children:r})}),L?o.jsxs(dN,{"aria-hidden":!0,required:g,tabIndex:-1,name:d,autoComplete:f,value:O,onChange:B=>A(B.target.value),disabled:h,form:v,children:[O===void 0?o.jsx("option",{value:""}):null,Array.from(P)]},F):null]})})};Uj.displayName=ol;var Bj="SelectTrigger",zj=m.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...s}=e,i=Uu(r),a=Zn(Bj,r),l=a.disabled||n,c=we(t,a.onTriggerChange),u=Fu(r),d=m.useRef("touch"),[f,h,g]=fN(p=>{const b=u().filter(x=>!x.disabled),w=b.find(x=>x.value===a.value),y=hN(b,p,w);y!==void 0&&a.onValueChange(y.value)}),v=p=>{l||(a.onOpenChange(!0),g()),p&&(a.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return o.jsx(Nu,{asChild:!0,...i,children:o.jsx(ee.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":uN(a.value)?"":void 0,...s,ref:c,onClick:X(s.onClick,p=>{p.currentTarget.focus(),d.current!=="mouse"&&v(p)}),onPointerDown:X(s.onPointerDown,p=>{d.current=p.pointerType;const b=p.target;b.hasPointerCapture(p.pointerId)&&b.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(v(p),p.preventDefault())}),onKeyDown:X(s.onKeyDown,p=>{const b=f.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&h(p.key),!(b&&p.key===" ")&&g4.includes(p.key)&&(v(),p.preventDefault())})})})});zj.displayName=Bj;var Wj="SelectValue",Hj=m.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,children:i,placeholder:a="",...l}=e,c=Zn(Wj,r),{onValueNodeHasChildrenChange:u}=c,d=i!==void 0,f=we(t,c.onValueNodeChange);return qe(()=>{u(d)},[u,d]),o.jsx(ee.span,{...l,ref:f,style:{pointerEvents:"none"},children:uN(c.value)?o.jsx(o.Fragment,{children:a}):i})});Hj.displayName=Wj;var j4="SelectIcon",Vj=m.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...s}=e;return o.jsx(ee.span,{"aria-hidden":!0,...s,ref:t,children:n||""})});Vj.displayName=j4;var N4="SelectPortal",qj=e=>o.jsx(Ja,{asChild:!0,...e});qj.displayName=N4;var Ds="SelectContent",Kj=m.forwardRef((e,t)=>{const r=Zn(Ds,e.__scopeSelect),[n,s]=m.useState();if(qe(()=>{s(new DocumentFragment)},[]),!r.open){const i=n;return i?Us.createPortal(o.jsx(Gj,{scope:e.__scopeSelect,children:o.jsx($u.Slot,{scope:e.__scopeSelect,children:o.jsx("div",{children:e.children})})}),i):null}return o.jsx(Qj,{...e,ref:t})});Kj.displayName=Ds;var rr=10,[Gj,es]=vo(Ds),S4="SelectContentImpl",k4=Rs("SelectContent.RemoveScroll"),Qj=m.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:a,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:g,sticky:v,hideWhenDetached:p,avoidCollisions:b,...w}=e,y=Zn(Ds,r),[x,j]=m.useState(null),[k,_]=m.useState(null),N=we(t,U=>j(U)),[E,O]=m.useState(null),[A,$]=m.useState(null),L=Fu(r),[P,C]=m.useState(!1),F=m.useRef(!1);m.useEffect(()=>{if(x)return lm(x)},[x]),am();const B=m.useCallback(U=>{const[le,...he]=L().map(xe=>xe.ref.current),[pe]=he.slice(-1),ye=document.activeElement;for(const xe of U)if(xe===ye||(xe==null||xe.scrollIntoView({block:"nearest"}),xe===le&&k&&(k.scrollTop=0),xe===pe&&k&&(k.scrollTop=k.scrollHeight),xe==null||xe.focus(),document.activeElement!==ye))return},[L,k]),J=m.useCallback(()=>B([E,x]),[B,E,x]);m.useEffect(()=>{P&&J()},[P,J]);const{onOpenChange:T,triggerPointerDownPosRef:M}=y;m.useEffect(()=>{if(x){let U={x:0,y:0};const le=pe=>{var ye,xe;U={x:Math.abs(Math.round(pe.pageX)-(((ye=M.current)==null?void 0:ye.x)??0)),y:Math.abs(Math.round(pe.pageY)-(((xe=M.current)==null?void 0:xe.y)??0))}},he=pe=>{U.x<=10&&U.y<=10?pe.preventDefault():x.contains(pe.target)||T(!1),document.removeEventListener("pointermove",le),M.current=null};return M.current!==null&&(document.addEventListener("pointermove",le),document.addEventListener("pointerup",he,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",le),document.removeEventListener("pointerup",he,{capture:!0})}}},[x,T,M]),m.useEffect(()=>{const U=()=>T(!1);return window.addEventListener("blur",U),window.addEventListener("resize",U),()=>{window.removeEventListener("blur",U),window.removeEventListener("resize",U)}},[T]);const[z,te]=fN(U=>{const le=L().filter(ye=>!ye.disabled),he=le.find(ye=>ye.ref.current===document.activeElement),pe=hN(le,U,he);pe&&setTimeout(()=>pe.ref.current.focus())}),R=m.useCallback((U,le,he)=>{const pe=!F.current&&!he;(y.value!==void 0&&y.value===le||pe)&&(O(U),pe&&(F.current=!0))},[y.value]),V=m.useCallback(()=>x==null?void 0:x.focus(),[x]),Z=m.useCallback((U,le,he)=>{const pe=!F.current&&!he;(y.value!==void 0&&y.value===le||pe)&&$(U)},[y.value]),q=n==="popper"?kh:Yj,oe=q===kh?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:g,sticky:v,hideWhenDetached:p,avoidCollisions:b}:{};return o.jsx(Gj,{scope:r,content:x,viewport:k,onViewportChange:_,itemRefCallback:R,selectedItem:E,onItemLeave:V,itemTextRefCallback:Z,focusSelectedItem:J,selectedItemText:A,position:n,isPositioned:P,searchRef:z,children:o.jsx(Au,{as:k4,allowPinchZoom:!0,children:o.jsx(Ru,{asChild:!0,trapped:y.open,onMountAutoFocus:U=>{U.preventDefault()},onUnmountAutoFocus:X(s,U=>{var le;(le=y.trigger)==null||le.focus({preventScroll:!0}),U.preventDefault()}),children:o.jsx(lo,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:U=>U.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:o.jsx(q,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:U=>U.preventDefault(),...w,...oe,onPlaced:()=>C(!0),ref:N,style:{display:"flex",flexDirection:"column",outline:"none",...w.style},onKeyDown:X(w.onKeyDown,U=>{const le=U.ctrlKey||U.altKey||U.metaKey;if(U.key==="Tab"&&U.preventDefault(),!le&&U.key.length===1&&te(U.key),["ArrowUp","ArrowDown","Home","End"].includes(U.key)){let pe=L().filter(ye=>!ye.disabled).map(ye=>ye.ref.current);if(["ArrowUp","End"].includes(U.key)&&(pe=pe.slice().reverse()),["ArrowUp","ArrowDown"].includes(U.key)){const ye=U.target,xe=pe.indexOf(ye);pe=pe.slice(xe+1)}setTimeout(()=>B(pe)),U.preventDefault()}})})})})})})});Qj.displayName=S4;var _4="SelectItemAlignedPosition",Yj=m.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...s}=e,i=Zn(Ds,r),a=es(Ds,r),[l,c]=m.useState(null),[u,d]=m.useState(null),f=we(t,N=>d(N)),h=Fu(r),g=m.useRef(!1),v=m.useRef(!0),{viewport:p,selectedItem:b,selectedItemText:w,focusSelectedItem:y}=a,x=m.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&p&&b&&w){const N=i.trigger.getBoundingClientRect(),E=u.getBoundingClientRect(),O=i.valueNode.getBoundingClientRect(),A=w.getBoundingClientRect();if(i.dir!=="rtl"){const ye=A.left-E.left,xe=O.left-ye,Ct=N.left-xe,vr=N.width+Ct,yo=Math.max(vr,E.width),xo=window.innerWidth-rr,wo=ey(xe,[rr,Math.max(rr,xo-yo)]);l.style.minWidth=vr+"px",l.style.left=wo+"px"}else{const ye=E.right-A.right,xe=window.innerWidth-O.right-ye,Ct=window.innerWidth-N.right-xe,vr=N.width+Ct,yo=Math.max(vr,E.width),xo=window.innerWidth-rr,wo=ey(xe,[rr,Math.max(rr,xo-yo)]);l.style.minWidth=vr+"px",l.style.right=wo+"px"}const $=h(),L=window.innerHeight-rr*2,P=p.scrollHeight,C=window.getComputedStyle(u),F=parseInt(C.borderTopWidth,10),B=parseInt(C.paddingTop,10),J=parseInt(C.borderBottomWidth,10),T=parseInt(C.paddingBottom,10),M=F+B+P+T+J,z=Math.min(b.offsetHeight*5,M),te=window.getComputedStyle(p),R=parseInt(te.paddingTop,10),V=parseInt(te.paddingBottom,10),Z=N.top+N.height/2-rr,q=L-Z,oe=b.offsetHeight/2,U=b.offsetTop+oe,le=F+B+U,he=M-le;if(le<=Z){const ye=$.length>0&&b===$[$.length-1].ref.current;l.style.bottom="0px";const xe=u.clientHeight-p.offsetTop-p.offsetHeight,Ct=Math.max(q,oe+(ye?V:0)+xe+J),vr=le+Ct;l.style.height=vr+"px"}else{const ye=$.length>0&&b===$[0].ref.current;l.style.top="0px";const Ct=Math.max(Z,F+p.offsetTop+(ye?R:0)+oe)+he;l.style.height=Ct+"px",p.scrollTop=le-Z+p.offsetTop}l.style.margin=`${rr}px 0`,l.style.minHeight=z+"px",l.style.maxHeight=L+"px",n==null||n(),requestAnimationFrame(()=>g.current=!0)}},[h,i.trigger,i.valueNode,l,u,p,b,w,i.dir,n]);qe(()=>x(),[x]);const[j,k]=m.useState();qe(()=>{u&&k(window.getComputedStyle(u).zIndex)},[u]);const _=m.useCallback(N=>{N&&v.current===!0&&(x(),y==null||y(),v.current=!1)},[x,y]);return o.jsx(C4,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:g,onScrollButtonChange:_,children:o.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:o.jsx(ee.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});Yj.displayName=_4;var E4="SelectPopperPosition",kh=m.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=rr,...i}=e,a=Uu(r);return o.jsx(Zp,{...a,...i,ref:t,align:n,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});kh.displayName=E4;var[C4,Nm]=vo(Ds,{}),_h="SelectViewport",Jj=m.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...s}=e,i=es(_h,r),a=Nm(_h,r),l=we(t,i.onViewportChange),c=m.useRef(0);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),o.jsx($u.Slot,{scope:r,children:o.jsx(ee.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:X(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=a;if(h!=null&&h.current&&f){const g=Math.abs(c.current-d.scrollTop);if(g>0){const v=window.innerHeight-rr*2,p=parseFloat(f.style.minHeight),b=parseFloat(f.style.height),w=Math.max(p,b);if(w<v){const y=w+g,x=Math.min(v,y),j=y-x;f.style.height=x+"px",f.style.bottom==="0px"&&(d.scrollTop=j>0?j:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});Jj.displayName=_h;var Xj="SelectGroup",[T4,P4]=vo(Xj),R4=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=pt();return o.jsx(T4,{scope:r,id:s,children:o.jsx(ee.div,{role:"group","aria-labelledby":s,...n,ref:t})})});R4.displayName=Xj;var Zj="SelectLabel",eN=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=P4(Zj,r);return o.jsx(ee.div,{id:s.id,...n,ref:t})});eN.displayName=Zj;var Jc="SelectItem",[O4,tN]=vo(Jc),rN=m.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:i,...a}=e,l=Zn(Jc,r),c=es(Jc,r),u=l.value===n,[d,f]=m.useState(i??""),[h,g]=m.useState(!1),v=we(t,y=>{var x;return(x=c.itemRefCallback)==null?void 0:x.call(c,y,n,s)}),p=pt(),b=m.useRef("touch"),w=()=>{s||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return o.jsx(O4,{scope:r,value:n,disabled:s,textId:p,isSelected:u,onItemTextChange:m.useCallback(y=>{f(x=>x||((y==null?void 0:y.textContent)??"").trim())},[]),children:o.jsx($u.ItemSlot,{scope:r,value:n,disabled:s,textValue:d,children:o.jsx(ee.div,{role:"option","aria-labelledby":p,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...a,ref:v,onFocus:X(a.onFocus,()=>g(!0)),onBlur:X(a.onBlur,()=>g(!1)),onClick:X(a.onClick,()=>{b.current!=="mouse"&&w()}),onPointerUp:X(a.onPointerUp,()=>{b.current==="mouse"&&w()}),onPointerDown:X(a.onPointerDown,y=>{b.current=y.pointerType}),onPointerMove:X(a.onPointerMove,y=>{var x;b.current=y.pointerType,s?(x=c.onItemLeave)==null||x.call(c):b.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:X(a.onPointerLeave,y=>{var x;y.currentTarget===document.activeElement&&((x=c.onItemLeave)==null||x.call(c))}),onKeyDown:X(a.onKeyDown,y=>{var j;((j=c.searchRef)==null?void 0:j.current)!==""&&y.key===" "||(v4.includes(y.key)&&w(),y.key===" "&&y.preventDefault())})})})})});rN.displayName=Jc;var zo="SelectItemText",nN=m.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,...i}=e,a=Zn(zo,r),l=es(zo,r),c=tN(zo,r),u=b4(zo,r),[d,f]=m.useState(null),h=we(t,w=>f(w),c.onItemTextChange,w=>{var y;return(y=l.itemTextRefCallback)==null?void 0:y.call(l,w,c.value,c.disabled)}),g=d==null?void 0:d.textContent,v=m.useMemo(()=>o.jsx("option",{value:c.value,disabled:c.disabled,children:g},c.value),[c.disabled,c.value,g]),{onNativeOptionAdd:p,onNativeOptionRemove:b}=u;return qe(()=>(p(v),()=>b(v)),[p,b,v]),o.jsxs(o.Fragment,{children:[o.jsx(ee.span,{id:c.textId,...i,ref:h}),c.isSelected&&a.valueNode&&!a.valueNodeHasChildren?Us.createPortal(i.children,a.valueNode):null]})});nN.displayName=zo;var sN="SelectItemIndicator",iN=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return tN(sN,r).isSelected?o.jsx(ee.span,{"aria-hidden":!0,...n,ref:t}):null});iN.displayName=sN;var Eh="SelectScrollUpButton",oN=m.forwardRef((e,t)=>{const r=es(Eh,e.__scopeSelect),n=Nm(Eh,e.__scopeSelect),[s,i]=m.useState(!1),a=we(t,n.onScrollButtonChange);return qe(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;i(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?o.jsx(lN,{...e,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});oN.displayName=Eh;var Ch="SelectScrollDownButton",aN=m.forwardRef((e,t)=>{const r=es(Ch,e.__scopeSelect),n=Nm(Ch,e.__scopeSelect),[s,i]=m.useState(!1),a=we(t,n.onScrollButtonChange);return qe(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;i(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?o.jsx(lN,{...e,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});aN.displayName=Ch;var lN=m.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=e,i=es("SelectScrollButton",r),a=m.useRef(null),l=Fu(r),c=m.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return m.useEffect(()=>()=>c(),[c]),qe(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),o.jsx(ee.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:X(s.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(n,50))}),onPointerMove:X(s.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),a.current===null&&(a.current=window.setInterval(n,50))}),onPointerLeave:X(s.onPointerLeave,()=>{c()})})}),A4="SelectSeparator",cN=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return o.jsx(ee.div,{"aria-hidden":!0,...n,ref:t})});cN.displayName=A4;var Th="SelectArrow",I4=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=Uu(r),i=Zn(Th,r),a=es(Th,r);return i.open&&a.position==="popper"?o.jsx(em,{...s,...n,ref:t}):null});I4.displayName=Th;function uN(e){return e===""||e===void 0}var dN=m.forwardRef((e,t)=>{const{value:r,...n}=e,s=m.useRef(null),i=we(t,s),a=m4(r);return m.useEffect(()=>{const l=s.current,c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(a!==r&&d){const f=new Event("change",{bubbles:!0});d.call(l,r),l.dispatchEvent(f)}},[a,r]),o.jsx(Xa,{asChild:!0,children:o.jsx("select",{...n,ref:i,defaultValue:r})})});dN.displayName="BubbleSelect";function fN(e){const t=mt(e),r=m.useRef(""),n=m.useRef(0),s=m.useCallback(a=>{const l=r.current+a;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=m.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return m.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,i]}function hN(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let a=M4(e,Math.max(i,0));s.length===1&&(a=a.filter(u=>u!==r));const c=a.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function M4(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var D4=Uj,pN=zj,L4=Hj,$4=Vj,F4=qj,mN=Kj,U4=Jj,gN=eN,vN=rN,B4=nN,z4=iN,yN=oN,xN=aN,wN=cN;const W4=D4,H4=L4,bN=m.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(pN,{ref:n,className:H("flex h-9 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,o.jsx($4,{asChild:!0,children:o.jsx($n,{className:"h-4 w-4 opacity-50"})})]}));bN.displayName=pN.displayName;const jN=m.forwardRef(({className:e,...t},r)=>o.jsx(yN,{ref:r,className:H("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(Up,{className:"h-4 w-4"})}));jN.displayName=yN.displayName;const NN=m.forwardRef(({className:e,...t},r)=>o.jsx(xN,{ref:r,className:H("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx($n,{className:"h-4 w-4"})}));NN.displayName=xN.displayName;const SN=m.forwardRef(({className:e,children:t,position:r="popper",...n},s)=>o.jsx(F4,{children:o.jsxs(mN,{ref:s,className:H("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[o.jsx(jN,{}),o.jsx(U4,{className:H("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),o.jsx(NN,{})]})}));SN.displayName=mN.displayName;const V4=m.forwardRef(({className:e,...t},r)=>o.jsx(gN,{ref:r,className:H("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));V4.displayName=gN.displayName;const dc=m.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(vN,{ref:n,className:H("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(z4,{children:o.jsx(_i,{className:"h-4 w-4"})})}),o.jsx(B4,{children:t})]}));dc.displayName=vN.displayName;const q4=m.forwardRef(({className:e,...t},r)=>o.jsx(wN,{ref:r,className:H("-mx-1 my-1 h-px bg-muted",e),...t}));q4.displayName=wN.displayName;function Zt(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Gn(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function K4(e,t){const r=Zt(e);return isNaN(t)?Gn(e,NaN):(t&&r.setDate(r.getDate()+t),r)}const kN=6048e5,G4=864e5,_N=6e4,EN=36e5;let Q4={};function Bu(){return Q4}function La(e,t){var l,c,u,d;const r=Bu(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=Zt(e),i=s.getDay(),a=(i<n?7:0)+i-n;return s.setDate(s.getDate()-a),s.setHours(0,0,0,0),s}function Xc(e){return La(e,{weekStartsOn:1})}function CN(e){const t=Zt(e),r=t.getFullYear(),n=Gn(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const s=Xc(n),i=Gn(e,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const a=Xc(i);return t.getTime()>=s.getTime()?r+1:t.getTime()>=a.getTime()?r:r-1}function $a(e){const t=Zt(e);return t.setHours(0,0,0,0),t}function ty(e){const t=Zt(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function Y4(e,t){const r=$a(e),n=$a(t),s=+r-ty(r),i=+n-ty(n);return Math.round((s-i)/G4)}function J4(e){const t=CN(e),r=Gn(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Xc(r)}function ry(e,t){const r=$a(e),n=$a(t);return+r==+n}function X4(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Z4(e){if(!X4(e)&&typeof e!="number")return!1;const t=Zt(e);return!isNaN(Number(t))}function eM(e){const t=Zt(e),r=Gn(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}const tM={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},rM=(e,t,r)=>{let n;const s=tM[e];return typeof s=="string"?n=s:t===1?n=s.one:n=s.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Bd(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const nM={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},sM={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},iM={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},oM={date:Bd({formats:nM,defaultWidth:"full"}),time:Bd({formats:sM,defaultWidth:"full"}),dateTime:Bd({formats:iM,defaultWidth:"full"})},aM={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},lM=(e,t,r,n)=>aM[e];function Ao(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let s;if(n==="formatting"&&e.formattingValues){const a=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):a;s=e.formattingValues[l]||e.formattingValues[a]}else{const a=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;s=e.values[l]||e.values[a]}const i=e.argumentCallback?e.argumentCallback(t):t;return s[i]}}const cM={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},uM={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},dM={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},fM={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},hM={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},pM={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},mM=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},gM={ordinalNumber:mM,era:Ao({values:cM,defaultWidth:"wide"}),quarter:Ao({values:uM,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Ao({values:dM,defaultWidth:"wide"}),day:Ao({values:fM,defaultWidth:"wide"}),dayPeriod:Ao({values:hM,defaultWidth:"wide",formattingValues:pM,defaultFormattingWidth:"wide"})};function Io(e){return(t,r={})=>{const n=r.width,s=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(s);if(!i)return null;const a=i[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?yM(l,f=>f.test(a)):vM(l,f=>f.test(a));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(a.length);return{value:u,rest:d}}}function vM(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function yM(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function xM(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const s=n[0],i=t.match(e.parsePattern);if(!i)return null;let a=e.valueCallback?e.valueCallback(i[0]):i[0];a=r.valueCallback?r.valueCallback(a):a;const l=t.slice(s.length);return{value:a,rest:l}}}const wM=/^(\d+)(th|st|nd|rd)?/i,bM=/\d+/i,jM={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},NM={any:[/^b/i,/^(a|c)/i]},SM={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},kM={any:[/1/i,/2/i,/3/i,/4/i]},_M={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},EM={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},CM={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},TM={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},PM={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},RM={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},OM={ordinalNumber:xM({matchPattern:wM,parsePattern:bM,valueCallback:e=>parseInt(e,10)}),era:Io({matchPatterns:jM,defaultMatchWidth:"wide",parsePatterns:NM,defaultParseWidth:"any"}),quarter:Io({matchPatterns:SM,defaultMatchWidth:"wide",parsePatterns:kM,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Io({matchPatterns:_M,defaultMatchWidth:"wide",parsePatterns:EM,defaultParseWidth:"any"}),day:Io({matchPatterns:CM,defaultMatchWidth:"wide",parsePatterns:TM,defaultParseWidth:"any"}),dayPeriod:Io({matchPatterns:PM,defaultMatchWidth:"any",parsePatterns:RM,defaultParseWidth:"any"})},AM={code:"en-US",formatDistance:rM,formatLong:oM,formatRelative:lM,localize:gM,match:OM,options:{weekStartsOn:0,firstWeekContainsDate:1}};function IM(e){const t=Zt(e);return Y4(t,eM(t))+1}function MM(e){const t=Zt(e),r=+Xc(t)-+J4(t);return Math.round(r/kN)+1}function TN(e,t){var d,f,h,g;const r=Zt(e),n=r.getFullYear(),s=Bu(),i=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((g=(h=s.locale)==null?void 0:h.options)==null?void 0:g.firstWeekContainsDate)??1,a=Gn(e,0);a.setFullYear(n+1,0,i),a.setHours(0,0,0,0);const l=La(a,t),c=Gn(e,0);c.setFullYear(n,0,i),c.setHours(0,0,0,0);const u=La(c,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function DM(e,t){var l,c,u,d;const r=Bu(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,s=TN(e,t),i=Gn(e,0);return i.setFullYear(s,0,n),i.setHours(0,0,0,0),La(i,t)}function LM(e,t){const r=Zt(e),n=+La(r,t)-+DM(r,t);return Math.round(n/kN)+1}function ge(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const an={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return ge(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):ge(r+1,2)},d(e,t){return ge(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return ge(e.getHours()%12||12,t.length)},H(e,t){return ge(e.getHours(),t.length)},m(e,t){return ge(e.getMinutes(),t.length)},s(e,t){return ge(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),s=Math.trunc(n*Math.pow(10,r-3));return ge(s,t.length)}},Zs={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},ny={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),s=n>0?n:1-n;return r.ordinalNumber(s,{unit:"year"})}return an.y(e,t)},Y:function(e,t,r,n){const s=TN(e,n),i=s>0?s:1-s;if(t==="YY"){const a=i%100;return ge(a,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):ge(i,t.length)},R:function(e,t){const r=CN(e);return ge(r,t.length)},u:function(e,t){const r=e.getFullYear();return ge(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return ge(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return ge(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return an.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return ge(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const s=LM(e,n);return t==="wo"?r.ordinalNumber(s,{unit:"week"}):ge(s,t.length)},I:function(e,t,r){const n=MM(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):ge(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):an.d(e,t)},D:function(e,t,r){const n=IM(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):ge(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const s=e.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return ge(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const s=e.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return ge(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),s=n===0?7:n;switch(t){case"i":return String(s);case"ii":return ge(s,t.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let s;switch(n===12?s=Zs.noon:n===0?s=Zs.midnight:s=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let s;switch(n>=17?s=Zs.evening:n>=12?s=Zs.afternoon:n>=4?s=Zs.morning:s=Zs.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return an.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):an.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):ge(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):ge(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):an.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):an.s(e,t)},S:function(e,t){return an.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return iy(n);case"XXXX":case"XX":return os(n);case"XXXXX":case"XXX":default:return os(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return iy(n);case"xxxx":case"xx":return os(n);case"xxxxx":case"xxx":default:return os(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+sy(n,":");case"OOOO":default:return"GMT"+os(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+sy(n,":");case"zzzz":default:return"GMT"+os(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return ge(n,t.length)},T:function(e,t,r){const n=e.getTime();return ge(n,t.length)}};function sy(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Math.trunc(n/60),i=n%60;return i===0?r+String(s):r+String(s)+t+ge(i,2)}function iy(e,t){return e%60===0?(e>0?"-":"+")+ge(Math.abs(e)/60,2):os(e,t)}function os(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=ge(Math.trunc(n/60),2),i=ge(n%60,2);return r+s+t+i}const oy=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},PN=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},$M=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],s=r[2];if(!s)return oy(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",oy(n,t)).replace("{{time}}",PN(s,t))},FM={p:PN,P:$M},UM=/^D+$/,BM=/^Y+$/,zM=["D","DD","YY","YYYY"];function WM(e){return UM.test(e)}function HM(e){return BM.test(e)}function VM(e,t,r){const n=qM(e,t,r);if(console.warn(n),zM.includes(e))throw new RangeError(n)}function qM(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const KM=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,GM=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,QM=/^'([^]*?)'?$/,YM=/''/g,JM=/[a-zA-Z]/;function Tn(e,t,r){var d,f,h,g;const n=Bu(),s=n.locale??AM,i=n.firstWeekContainsDate??((f=(d=n.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??1,a=n.weekStartsOn??((g=(h=n.locale)==null?void 0:h.options)==null?void 0:g.weekStartsOn)??0,l=Zt(e);if(!Z4(l))throw new RangeError("Invalid time value");let c=t.match(GM).map(v=>{const p=v[0];if(p==="p"||p==="P"){const b=FM[p];return b(v,s.formatLong)}return v}).join("").match(KM).map(v=>{if(v==="''")return{isToken:!1,value:"'"};const p=v[0];if(p==="'")return{isToken:!1,value:XM(v)};if(ny[p])return{isToken:!0,value:v};if(p.match(JM))throw new RangeError("Format string contains an unescaped latin alphabet character `"+p+"`");return{isToken:!1,value:v}});s.localize.preprocessor&&(c=s.localize.preprocessor(l,c));const u={firstWeekContainsDate:i,weekStartsOn:a,locale:s};return c.map(v=>{if(!v.isToken)return v.value;const p=v.value;(HM(p)||WM(p))&&VM(p,t,String(e));const b=ny[p[0]];return b(l,p,s.localize,u)}).join("")}function XM(e){const t=e.match(QM);return t?t[1].replace(YM,"'"):e}function RN(e,t){const n=rD(e);let s;if(n.date){const c=nD(n.date,2);s=sD(c.restDateString,c.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);const i=s.getTime();let a=0,l;if(n.time&&(a=iD(n.time),isNaN(a)))return new Date(NaN);if(n.timezone){if(l=oD(n.timezone),isNaN(l))return new Date(NaN)}else{const c=new Date(i+a),u=new Date(0);return u.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),u.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),u}return new Date(i+a+l)}const Bl={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},ZM=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,eD=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,tD=/^([+-])(\d{2})(?::?(\d{2}))?$/;function rD(e){const t={},r=e.split(Bl.dateTimeDelimiter);let n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],Bl.timeZoneDelimiter.test(t.date)&&(t.date=e.split(Bl.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){const s=Bl.timezone.exec(n);s?(t.time=n.replace(s[1],""),t.timezone=s[1]):t.time=n}return t}function nD(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};const s=n[1]?parseInt(n[1]):null,i=n[2]?parseInt(n[2]):null;return{year:i===null?s:i*100,restDateString:e.slice((n[1]||n[2]).length)}}function sD(e,t){if(t===null)return new Date(NaN);const r=e.match(ZM);if(!r)return new Date(NaN);const n=!!r[4],s=Mo(r[1]),i=Mo(r[2])-1,a=Mo(r[3]),l=Mo(r[4]),c=Mo(r[5])-1;if(n)return dD(t,l,c)?aD(t,l,c):new Date(NaN);{const u=new Date(0);return!cD(t,i,a)||!uD(t,s)?new Date(NaN):(u.setUTCFullYear(t,i,Math.max(s,a)),u)}}function Mo(e){return e?parseInt(e):1}function iD(e){const t=e.match(eD);if(!t)return NaN;const r=zd(t[1]),n=zd(t[2]),s=zd(t[3]);return fD(r,n,s)?r*EN+n*_N+s*1e3:NaN}function zd(e){return e&&parseFloat(e.replace(",","."))||0}function oD(e){if(e==="Z")return 0;const t=e.match(tD);if(!t)return 0;const r=t[1]==="+"?-1:1,n=parseInt(t[2]),s=t[3]&&parseInt(t[3])||0;return hD(n,s)?r*(n*EN+s*_N):NaN}function aD(e,t,r){const n=new Date(0);n.setUTCFullYear(e,0,4);const s=n.getUTCDay()||7,i=(t-1)*7+r+1-s;return n.setUTCDate(n.getUTCDate()+i),n}const lD=[31,null,31,30,31,30,31,31,30,31,30,31];function ON(e){return e%400===0||e%4===0&&e%100!==0}function cD(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(lD[t]||(ON(e)?29:28))}function uD(e,t){return t>=1&&t<=(ON(e)?366:365)}function dD(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function fD(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function hD(e,t){return t>=0&&t<=59}function AN(){return $a(Date.now())}function pD({selectedDate:e,onSelectDate:t}){const r=AN(),n=Array.from({length:14},(s,i)=>K4(r,i));return o.jsxs("div",{className:"space-y-3","data-testid":"date-selector",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h3",{className:"font-semibold text-foreground",children:"Select Date"}),o.jsx("span",{className:"text-sm text-primary font-medium",children:Tn(e,"MMMM yyyy")})]}),o.jsx("div",{className:"relative",children:o.jsx("div",{className:"flex gap-2 overflow-x-auto scrollbar-hide pb-2 -mx-4 px-4",children:n.map(s=>{const i=ry(s,e),a=ry(s,r);return o.jsxs("button",{onClick:()=>t(s),className:H("flex flex-col items-center justify-center min-w-[60px] py-3 px-2 rounded-xl transition-all",i?"bg-primary text-primary-foreground":"bg-card hover-elevate"),"data-testid":`date-${Tn(s,"yyyy-MM-dd")}`,children:[o.jsx("span",{className:H("text-xs font-medium uppercase",i?"text-primary-foreground":"text-muted-foreground"),children:Tn(s,"EEE")}),o.jsx("span",{className:H("text-lg font-bold mt-1",i?"text-primary-foreground":"text-foreground"),children:Tn(s,"d")}),a&&o.jsx("div",{className:H("w-1.5 h-1.5 rounded-full mt-1",i?"bg-primary-foreground":"bg-primary")})]},s.toISOString())})})})]})}function mD({slots:e,selectedSlotId:t,onSelectSlot:r}){const n=e.filter(l=>l.period==="morning"),s=e.filter(l=>l.period==="afternoon"),i=e.filter(l=>l.period==="evening"),a=(l,c)=>{if(l.length===0)return null;const d={morning:{label:"Morning",sublabel:"6:00 AM - 12:00 PM",bgClass:"bg-card"},afternoon:{label:"Afternoon",sublabel:"12:00 PM - 6:00 PM",bgClass:"bg-primary/5"},evening:{label:"Evening",sublabel:"6:00 PM - 11:00 PM",bgClass:"bg-secondary"}}[c];return o.jsxs("div",{className:"space-y-3","data-testid":`slots-${c}`,children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-foreground",children:d.label}),o.jsx("p",{className:"text-xs text-muted-foreground",children:d.sublabel})]}),c==="evening"&&o.jsx("span",{className:"text-xs text-primary font-medium",children:"Premium"})]}),o.jsx("div",{className:"grid grid-cols-3 gap-2",children:l.map(f=>{const h=t===f.id,g=f.isBooked;return o.jsxs("button",{onClick:()=>!g&&r(f),disabled:g,className:H("relative p-3 rounded-lg text-center transition-all duration-200",d.bgClass,g&&"opacity-40 cursor-not-allowed",!g&&!h&&"hover-elevate cursor-pointer",h&&"ring-2 ring-primary bg-primary/20"),"data-testid":`slot-${f.id}`,children:[o.jsx("div",{className:H("text-sm font-medium",h?"text-primary":"text-foreground"),children:f.startTime}),o.jsxs("div",{className:H("text-base font-bold mt-1",h?"text-primary":"text-foreground"),children:["",f.price]}),g&&o.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:o.jsx("span",{className:"text-xs text-muted-foreground font-medium",children:"Booked"})}),h&&o.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-primary rounded-full flex items-center justify-center",children:o.jsx("svg",{className:"w-2.5 h-2.5 text-primary-foreground",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})})]},f.id)})})]})};return o.jsxs("div",{className:"space-y-6",children:[a(n,"morning"),a(s,"afternoon"),a(i,"evening")]})}const gD={Parking:SC,WiFi:VC,Showers:TC,"Changing Room":HC};function vD(){const{id:e}=Cp(),[,t]=Ue(),[r,n]=m.useState(AN()),[s,i]=m.useState(null),[a,l]=m.useState("60"),c=`fav_${e}`,[u,d]=m.useState(()=>localStorage.getItem(c)==="1"),f=()=>{const x=!u;if(d(x),x){localStorage.setItem(c,"1");const j=JSON.parse(localStorage.getItem("favIds")||"[]");j.includes(e)||(j.push(e),localStorage.setItem("favIds",JSON.stringify(j)))}else{localStorage.removeItem(c);const j=JSON.parse(localStorage.getItem("favIds")||"[]");localStorage.setItem("favIds",JSON.stringify(j.filter(k=>k!==e)))}},{data:h,isLoading:g}=Ce({queryKey:[`/api/turfs/${e}`]}),v=Tn(r,"yyyy-MM-dd"),{data:p,isLoading:b}=Ce({queryKey:[`/api/turfs/${e}/slots/${v}`],enabled:!!e,staleTime:0,refetchOnMount:!0}),w=m.useMemo(()=>{if(!s)return 0;const x=parseInt(a)/60;return s.price*x},[s,a]),y=()=>{if(!h||!s)return;const x=parseInt(a),[j,k]=s.startTime.split(":").map(Number),_=j*60+k+x,N=`${String(Math.floor(_/60)).padStart(2,"0")}:${String(_%60).padStart(2,"0")}`,E={turfId:h.id,turfName:h.name,turfAddress:h.address,date:Tn(r,"yyyy-MM-dd"),startTime:s.startTime,endTime:N,duration:x,totalAmount:w,slotId:s.id};sessionStorage.setItem("pendingBooking",JSON.stringify(E)),t("/payment")};return g?o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx(Ge,{className:"h-64 w-full"}),o.jsxs("div",{className:"px-4 py-6 space-y-4",children:[o.jsx(Ge,{className:"h-8 w-2/3"}),o.jsx(Ge,{className:"h-4 w-1/2"}),o.jsx(Ge,{className:"h-32 w-full"})]})]}):h?o.jsxs("div",{className:"min-h-screen bg-background pb-28",children:[o.jsxs("div",{className:"relative h-64",children:[o.jsx("img",{src:h.imageUrl,alt:h.name,className:"w-full h-full object-cover","data-testid":"img-turf-hero"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-background via-background/40 to-transparent"}),o.jsxs("header",{className:"absolute top-0 left-0 right-0 flex items-center justify-between p-4",children:[o.jsx(Q,{size:"icon",variant:"secondary",className:"bg-black/40 backdrop-blur-sm border-none",onClick:()=>t("/"),"data-testid":"button-back",children:o.jsx(Bt,{className:"w-5 h-5 text-white"})}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(Q,{size:"icon",variant:"secondary",className:"bg-black/40 backdrop-blur-sm border-none",onClick:f,"data-testid":"button-favourite",children:o.jsx(ka,{className:`w-5 h-5 transition-colors ${u?"fill-red-500 text-red-500":"text-white"}`})}),o.jsx(Q,{size:"icon",variant:"secondary",className:"bg-black/40 backdrop-blur-sm border-none","data-testid":"button-share",children:o.jsx(FC,{className:"w-5 h-5 text-white"})})]})]})]}),o.jsxs("main",{className:"px-4 -mt-12 relative z-10 space-y-6",children:[o.jsxs("section",{className:"space-y-3","data-testid":"section-turf-details",children:[o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-foreground",children:h.name}),o.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mt-1",children:[o.jsx(rt,{className:"w-4 h-4"}),o.jsx("span",{className:"text-sm",children:h.location})]})]}),o.jsx("div",{className:"flex items-center gap-1 bg-card px-3 py-1.5 rounded-full",children:h.rating>0?o.jsxs(o.Fragment,{children:[o.jsx(Wr,{className:"w-4 h-4 text-yellow-400 fill-yellow-400"}),o.jsx("span",{className:"font-semibold",children:h.rating})]}):o.jsx("span",{className:"text-xs text-muted-foreground font-medium px-1",children:"New"})})]}),o.jsx("div",{className:"flex gap-2 flex-wrap",children:h.sportTypes.map(x=>o.jsx($e,{variant:"secondary",children:x},x))})]}),o.jsxs(ie,{className:"p-4","data-testid":"card-amenities",children:[o.jsx("h3",{className:"font-semibold text-foreground mb-3",children:"Amenities"}),o.jsx("div",{className:"flex gap-4 overflow-x-auto scrollbar-hide",children:h.amenities.map(x=>{const j=gD[x]||_t;return o.jsxs("div",{className:"flex flex-col items-center gap-2 min-w-[72px]",children:[o.jsx("div",{className:"w-12 h-12 rounded-xl bg-secondary flex items-center justify-center",children:o.jsx(j,{className:"w-5 h-5 text-foreground"})}),o.jsx("span",{className:"text-xs text-muted-foreground text-center",children:x})]},x)})})]}),o.jsx(ie,{className:"p-4","data-testid":"card-date",children:o.jsx(pD,{selectedDate:r,onSelectDate:x=>{n(x),i(null)}})}),o.jsx(ie,{className:"p-4","data-testid":"card-duration",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-foreground",children:"Duration"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Select playing time"})]}),o.jsxs(W4,{value:a,onValueChange:l,children:[o.jsx(bN,{className:"w-32","data-testid":"select-duration",children:o.jsx(H4,{})}),o.jsxs(SN,{children:[o.jsx(dc,{value:"60",children:"1 hour"}),o.jsx(dc,{value:"90",children:"1.5 hours"}),o.jsx(dc,{value:"120",children:"2 hours"})]})]})]})}),o.jsxs(ie,{className:"p-4","data-testid":"card-timeslots",children:[o.jsx("h3",{className:"font-semibold text-foreground mb-4",children:"Select Time Slot"}),b?o.jsx("div",{className:"space-y-4",children:Array.from({length:3}).map((x,j)=>o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ge,{className:"h-5 w-24"}),o.jsx("div",{className:"grid grid-cols-3 gap-2",children:Array.from({length:3}).map((k,_)=>o.jsx(Ge,{className:"h-16"},_))})]},j))}):p&&p.length>0?o.jsx(mD,{slots:p,selectedSlotId:(s==null?void 0:s.id)||null,onSelectSlot:i}):o.jsxs("div",{className:"text-center py-8",children:[o.jsx(_t,{className:"w-12 h-12 mx-auto text-muted-foreground mb-3"}),o.jsx("p",{className:"text-muted-foreground",children:"No slots available for this date"})]})]})]}),o.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-background/95 backdrop-blur-lg border-t border-border p-4 z-50",children:o.jsxs("div",{className:"flex items-center justify-between max-w-lg mx-auto",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Amount"}),o.jsx("p",{className:"text-2xl font-bold text-foreground",children:s?`${w}`:"Select a slot"})]}),o.jsx(Q,{size:"lg",disabled:!s,onClick:y,className:"px-8 green-glow","data-testid":"button-proceed-payment",children:"Proceed to Payment"})]})})]}):o.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h2",{className:"text-xl font-semibold text-foreground mb-2",children:"Turf not found"}),o.jsx(Q,{onClick:()=>t("/"),children:"Go Home"})]})})}var yD="Separator",ay="horizontal",xD=["horizontal","vertical"],IN=m.forwardRef((e,t)=>{const{decorative:r,orientation:n=ay,...s}=e,i=wD(n)?n:ay,l=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return o.jsx(ee.div,{"data-orientation":i,...l,...s,ref:t})});IN.displayName=yD;function wD(e){return xD.includes(e)}var MN=IN;const Un=m.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},s)=>o.jsx(MN,{ref:s,decorative:r,orientation:t,className:H("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));Un.displayName=MN.displayName;const bD=[{id:"upi",label:"UPI",icon:zc,description:"Pay using any UPI app"},{id:"card",label:"Card",icon:Ei,description:"Credit or Debit card"},{id:"wallet",label:"Wallet",icon:rb,description:"Paytm, PhonePe, etc."}];function jD(){const[,e]=Ue(),{user:t}=nt(),[r,n]=m.useState(null),[s,i]=m.useState("upi"),[a,l]=m.useState(""),[c,u]=m.useState(!1),d=Rr();m.useEffect(()=>{const p=sessionStorage.getItem("pendingBooking");p?n(JSON.parse(p)):e("/")},[e]);const f=lt({mutationFn:async p=>await(await Qt("POST","/api/bookings",p)).json(),onSuccess:p=>{d.invalidateQueries({queryKey:[`/api/turfs/${p.turfId}/slots/${p.date}`]}),sessionStorage.removeItem("pendingBooking"),sessionStorage.setItem("confirmedBooking",JSON.stringify(p)),e("/confirmation")}});if(!r)return null;const h=Math.round(r.totalAmount*.3),g=r.totalAmount-h,v=()=>{const p=`TT${Date.now().toString(36).toUpperCase()}`,b={userId:(t==null?void 0:t.id)??null,turfId:r.turfId,turfName:r.turfName,turfAddress:r.turfAddress,date:r.date,startTime:r.startTime,endTime:r.endTime,duration:r.duration,totalAmount:r.totalAmount,paidAmount:h,balanceAmount:g,paymentMethod:s,status:"confirmed",bookingCode:p};f.mutate(b)};return o.jsxs("div",{className:"min-h-screen bg-background pb-28",children:[o.jsx("header",{className:"sticky top-0 z-40 bg-background/95 backdrop-blur-lg border-b border-border",children:o.jsxs("div",{className:"flex items-center gap-4 px-4 py-3",children:[o.jsx(Q,{size:"icon",variant:"ghost",onClick:()=>e(`/booking/${r.turfId}`),"data-testid":"button-back",children:o.jsx(Bt,{className:"w-5 h-5"})}),o.jsx("h1",{className:"text-lg font-semibold",children:"Payment"})]})}),o.jsxs("main",{className:"px-4 py-6 space-y-6",children:[o.jsxs(ie,{className:"p-4","data-testid":"card-booking-summary",children:[o.jsx("h2",{className:"font-semibold text-foreground mb-4",children:"Booking Summary"}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Turf"}),o.jsx("span",{className:"font-medium text-foreground",children:r.turfName})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Date"}),o.jsx("span",{className:"font-medium text-foreground",children:r.date})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Time"}),o.jsxs("span",{className:"font-medium text-foreground",children:[r.startTime," - ",r.endTime]})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Duration"}),o.jsxs("span",{className:"font-medium text-foreground",children:[r.duration," mins"]})]}),o.jsx(Un,{className:"my-3"}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"font-semibold text-foreground",children:"Total Amount"}),o.jsxs("span",{className:"font-bold text-xl text-foreground",children:["",r.totalAmount]})]})]})]}),o.jsxs(ie,{className:"p-4","data-testid":"card-payment-split",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[o.jsx("h2",{className:"font-semibold text-foreground",children:"Payment Split"}),o.jsx("div",{className:"relative group",children:o.jsx(AC,{className:"w-4 h-4 text-muted-foreground cursor-help"})})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"bg-primary/10 border border-primary/30 rounded-xl p-4 text-center",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Pay Now"}),o.jsxs("p",{className:"text-2xl font-bold text-primary mt-1",children:["",h]}),o.jsx("span",{className:"text-xs text-muted-foreground",children:"30% of total"})]}),o.jsxs("div",{className:"bg-card rounded-xl p-4 text-center",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Pay at Venue"}),o.jsxs("p",{className:"text-2xl font-bold text-foreground mt-1",children:["",g]}),o.jsx("span",{className:"text-xs text-muted-foreground",children:"70% balance"})]})]}),o.jsx("div",{className:"mt-4 p-3 bg-secondary/50 rounded-lg",children:o.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"Pay a small amount now to confirm your booking. The remaining balance can be paid at the venue."})})]}),o.jsxs(ie,{className:"p-4","data-testid":"card-payment-methods",children:[o.jsx("h2",{className:"font-semibold text-foreground mb-4",children:"Payment Method"}),o.jsx("div",{className:"space-y-3",children:bD.map(p=>o.jsxs("button",{onClick:()=>i(p.id),className:H("w-full flex items-center gap-4 p-4 rounded-xl transition-all",s===p.id?"bg-primary/10 ring-2 ring-primary":"bg-card hover-elevate"),"data-testid":`payment-method-${p.id}`,children:[o.jsx("div",{className:H("w-12 h-12 rounded-xl flex items-center justify-center",s===p.id?"bg-primary":"bg-secondary"),children:o.jsx(p.icon,{className:H("w-6 h-6",s===p.id?"text-primary-foreground":"text-foreground")})}),o.jsxs("div",{className:"flex-1 text-left",children:[o.jsx("p",{className:H("font-semibold",s===p.id?"text-primary":"text-foreground"),children:p.label}),o.jsx("p",{className:"text-sm text-muted-foreground",children:p.description})]}),o.jsx("div",{className:H("w-5 h-5 rounded-full border-2 flex items-center justify-center",s===p.id?"border-primary":"border-muted"),children:s===p.id&&o.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-primary"})})]},p.id))})]}),o.jsxs(ie,{className:"overflow-hidden","data-testid":"card-promo",children:[o.jsxs("button",{onClick:()=>u(!c),className:"w-full flex items-center justify-between p-4",children:[o.jsx("span",{className:"font-semibold text-foreground",children:"Have a promo code?"}),c?o.jsx(Up,{className:"w-5 h-5 text-muted-foreground"}):o.jsx($n,{className:"w-5 h-5 text-muted-foreground"})]}),c&&o.jsx("div",{className:"px-4 pb-4 animate-fade-in",children:o.jsxs("div",{className:"flex gap-2",children:[o.jsx(jt,{placeholder:"Enter promo code",value:a,onChange:p=>l(p.target.value),className:"flex-1","data-testid":"input-promo"}),o.jsx(Q,{variant:"secondary","data-testid":"button-apply-promo",children:"Apply"})]})})]})]}),o.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-background/95 backdrop-blur-lg border-t border-border p-4 z-50",children:o.jsxs("div",{className:"max-w-lg mx-auto space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-muted-foreground",children:[o.jsx(tb,{className:"w-4 h-4"}),o.jsx("span",{children:"Secure Payment via TurfTime"})]}),o.jsx(Q,{size:"lg",className:"w-full green-glow",onClick:v,disabled:f.isPending,"data-testid":"button-pay-now",children:f.isPending?o.jsxs("span",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-5 h-5 border-2 border-primary-foreground/30 border-t-primary-foreground rounded-full animate-spin"}),"Processing..."]}):`Pay ${h} Now`})]})})]})}const ND="modulepreload",SD=function(e){return"/"+e},ly={},cy=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=SD(c),c in ly)return;ly[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":ND,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((h,g)=>{f.addEventListener("load",h),f.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return s.then(a=>{for(const l of a||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})};var kD=Object.defineProperty,Zc=Object.getOwnPropertySymbols,DN=Object.prototype.hasOwnProperty,LN=Object.prototype.propertyIsEnumerable,uy=(e,t,r)=>t in e?kD(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Ph=(e,t)=>{for(var r in t||(t={}))DN.call(t,r)&&uy(e,r,t[r]);if(Zc)for(var r of Zc(t))LN.call(t,r)&&uy(e,r,t[r]);return e},Rh=(e,t)=>{var r={};for(var n in e)DN.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&Zc)for(var n of Zc(e))t.indexOf(n)<0&&LN.call(e,n)&&(r[n]=e[n]);return r};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var Ls;(e=>{const t=class ce{constructor(c,u,d,f){if(this.version=c,this.errorCorrectionLevel=u,this.modules=[],this.isFunction=[],c<ce.MIN_VERSION||c>ce.MAX_VERSION)throw new RangeError("Version value out of range");if(f<-1||f>7)throw new RangeError("Mask value out of range");this.size=c*4+17;let h=[];for(let v=0;v<this.size;v++)h.push(!1);for(let v=0;v<this.size;v++)this.modules.push(h.slice()),this.isFunction.push(h.slice());this.drawFunctionPatterns();const g=this.addEccAndInterleave(d);if(this.drawCodewords(g),f==-1){let v=1e9;for(let p=0;p<8;p++){this.applyMask(p),this.drawFormatBits(p);const b=this.getPenaltyScore();b<v&&(f=p,v=b),this.applyMask(p)}}s(0<=f&&f<=7),this.mask=f,this.applyMask(f),this.drawFormatBits(f),this.isFunction=[]}static encodeText(c,u){const d=e.QrSegment.makeSegments(c);return ce.encodeSegments(d,u)}static encodeBinary(c,u){const d=e.QrSegment.makeBytes(c);return ce.encodeSegments([d],u)}static encodeSegments(c,u,d=1,f=40,h=-1,g=!0){if(!(ce.MIN_VERSION<=d&&d<=f&&f<=ce.MAX_VERSION)||h<-1||h>7)throw new RangeError("Invalid value");let v,p;for(v=d;;v++){const x=ce.getNumDataCodewords(v,u)*8,j=a.getTotalBits(c,v);if(j<=x){p=j;break}if(v>=f)throw new RangeError("Data too long")}for(const x of[ce.Ecc.MEDIUM,ce.Ecc.QUARTILE,ce.Ecc.HIGH])g&&p<=ce.getNumDataCodewords(v,x)*8&&(u=x);let b=[];for(const x of c){r(x.mode.modeBits,4,b),r(x.numChars,x.mode.numCharCountBits(v),b);for(const j of x.getData())b.push(j)}s(b.length==p);const w=ce.getNumDataCodewords(v,u)*8;s(b.length<=w),r(0,Math.min(4,w-b.length),b),r(0,(8-b.length%8)%8,b),s(b.length%8==0);for(let x=236;b.length<w;x^=253)r(x,8,b);let y=[];for(;y.length*8<b.length;)y.push(0);return b.forEach((x,j)=>y[j>>>3]|=x<<7-(j&7)),new ce(v,u,y,h)}getModule(c,u){return 0<=c&&c<this.size&&0<=u&&u<this.size&&this.modules[u][c]}getModules(){return this.modules}drawFunctionPatterns(){for(let d=0;d<this.size;d++)this.setFunctionModule(6,d,d%2==0),this.setFunctionModule(d,6,d%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const c=this.getAlignmentPatternPositions(),u=c.length;for(let d=0;d<u;d++)for(let f=0;f<u;f++)d==0&&f==0||d==0&&f==u-1||d==u-1&&f==0||this.drawAlignmentPattern(c[d],c[f]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(c){const u=this.errorCorrectionLevel.formatBits<<3|c;let d=u;for(let h=0;h<10;h++)d=d<<1^(d>>>9)*1335;const f=(u<<10|d)^21522;s(f>>>15==0);for(let h=0;h<=5;h++)this.setFunctionModule(8,h,n(f,h));this.setFunctionModule(8,7,n(f,6)),this.setFunctionModule(8,8,n(f,7)),this.setFunctionModule(7,8,n(f,8));for(let h=9;h<15;h++)this.setFunctionModule(14-h,8,n(f,h));for(let h=0;h<8;h++)this.setFunctionModule(this.size-1-h,8,n(f,h));for(let h=8;h<15;h++)this.setFunctionModule(8,this.size-15+h,n(f,h));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let c=this.version;for(let d=0;d<12;d++)c=c<<1^(c>>>11)*7973;const u=this.version<<12|c;s(u>>>18==0);for(let d=0;d<18;d++){const f=n(u,d),h=this.size-11+d%3,g=Math.floor(d/3);this.setFunctionModule(h,g,f),this.setFunctionModule(g,h,f)}}drawFinderPattern(c,u){for(let d=-4;d<=4;d++)for(let f=-4;f<=4;f++){const h=Math.max(Math.abs(f),Math.abs(d)),g=c+f,v=u+d;0<=g&&g<this.size&&0<=v&&v<this.size&&this.setFunctionModule(g,v,h!=2&&h!=4)}}drawAlignmentPattern(c,u){for(let d=-2;d<=2;d++)for(let f=-2;f<=2;f++)this.setFunctionModule(c+f,u+d,Math.max(Math.abs(f),Math.abs(d))!=1)}setFunctionModule(c,u,d){this.modules[u][c]=d,this.isFunction[u][c]=!0}addEccAndInterleave(c){const u=this.version,d=this.errorCorrectionLevel;if(c.length!=ce.getNumDataCodewords(u,d))throw new RangeError("Invalid argument");const f=ce.NUM_ERROR_CORRECTION_BLOCKS[d.ordinal][u],h=ce.ECC_CODEWORDS_PER_BLOCK[d.ordinal][u],g=Math.floor(ce.getNumRawDataModules(u)/8),v=f-g%f,p=Math.floor(g/f);let b=[];const w=ce.reedSolomonComputeDivisor(h);for(let x=0,j=0;x<f;x++){let k=c.slice(j,j+p-h+(x<v?0:1));j+=k.length;const _=ce.reedSolomonComputeRemainder(k,w);x<v&&k.push(0),b.push(k.concat(_))}let y=[];for(let x=0;x<b[0].length;x++)b.forEach((j,k)=>{(x!=p-h||k>=v)&&y.push(j[x])});return s(y.length==g),y}drawCodewords(c){if(c.length!=Math.floor(ce.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let u=0;for(let d=this.size-1;d>=1;d-=2){d==6&&(d=5);for(let f=0;f<this.size;f++)for(let h=0;h<2;h++){const g=d-h,p=(d+1&2)==0?this.size-1-f:f;!this.isFunction[p][g]&&u<c.length*8&&(this.modules[p][g]=n(c[u>>>3],7-(u&7)),u++)}}s(u==c.length*8)}applyMask(c){if(c<0||c>7)throw new RangeError("Mask value out of range");for(let u=0;u<this.size;u++)for(let d=0;d<this.size;d++){let f;switch(c){case 0:f=(d+u)%2==0;break;case 1:f=u%2==0;break;case 2:f=d%3==0;break;case 3:f=(d+u)%3==0;break;case 4:f=(Math.floor(d/3)+Math.floor(u/2))%2==0;break;case 5:f=d*u%2+d*u%3==0;break;case 6:f=(d*u%2+d*u%3)%2==0;break;case 7:f=((d+u)%2+d*u%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[u][d]&&f&&(this.modules[u][d]=!this.modules[u][d])}}getPenaltyScore(){let c=0;for(let h=0;h<this.size;h++){let g=!1,v=0,p=[0,0,0,0,0,0,0];for(let b=0;b<this.size;b++)this.modules[h][b]==g?(v++,v==5?c+=ce.PENALTY_N1:v>5&&c++):(this.finderPenaltyAddHistory(v,p),g||(c+=this.finderPenaltyCountPatterns(p)*ce.PENALTY_N3),g=this.modules[h][b],v=1);c+=this.finderPenaltyTerminateAndCount(g,v,p)*ce.PENALTY_N3}for(let h=0;h<this.size;h++){let g=!1,v=0,p=[0,0,0,0,0,0,0];for(let b=0;b<this.size;b++)this.modules[b][h]==g?(v++,v==5?c+=ce.PENALTY_N1:v>5&&c++):(this.finderPenaltyAddHistory(v,p),g||(c+=this.finderPenaltyCountPatterns(p)*ce.PENALTY_N3),g=this.modules[b][h],v=1);c+=this.finderPenaltyTerminateAndCount(g,v,p)*ce.PENALTY_N3}for(let h=0;h<this.size-1;h++)for(let g=0;g<this.size-1;g++){const v=this.modules[h][g];v==this.modules[h][g+1]&&v==this.modules[h+1][g]&&v==this.modules[h+1][g+1]&&(c+=ce.PENALTY_N2)}let u=0;for(const h of this.modules)u=h.reduce((g,v)=>g+(v?1:0),u);const d=this.size*this.size,f=Math.ceil(Math.abs(u*20-d*10)/d)-1;return s(0<=f&&f<=9),c+=f*ce.PENALTY_N4,s(0<=c&&c<=2568888),c}getAlignmentPatternPositions(){if(this.version==1)return[];{const c=Math.floor(this.version/7)+2,u=this.version==32?26:Math.ceil((this.version*4+4)/(c*2-2))*2;let d=[6];for(let f=this.size-7;d.length<c;f-=u)d.splice(1,0,f);return d}}static getNumRawDataModules(c){if(c<ce.MIN_VERSION||c>ce.MAX_VERSION)throw new RangeError("Version number out of range");let u=(16*c+128)*c+64;if(c>=2){const d=Math.floor(c/7)+2;u-=(25*d-10)*d-55,c>=7&&(u-=36)}return s(208<=u&&u<=29648),u}static getNumDataCodewords(c,u){return Math.floor(ce.getNumRawDataModules(c)/8)-ce.ECC_CODEWORDS_PER_BLOCK[u.ordinal][c]*ce.NUM_ERROR_CORRECTION_BLOCKS[u.ordinal][c]}static reedSolomonComputeDivisor(c){if(c<1||c>255)throw new RangeError("Degree out of range");let u=[];for(let f=0;f<c-1;f++)u.push(0);u.push(1);let d=1;for(let f=0;f<c;f++){for(let h=0;h<u.length;h++)u[h]=ce.reedSolomonMultiply(u[h],d),h+1<u.length&&(u[h]^=u[h+1]);d=ce.reedSolomonMultiply(d,2)}return u}static reedSolomonComputeRemainder(c,u){let d=u.map(f=>0);for(const f of c){const h=f^d.shift();d.push(0),u.forEach((g,v)=>d[v]^=ce.reedSolomonMultiply(g,h))}return d}static reedSolomonMultiply(c,u){if(c>>>8||u>>>8)throw new RangeError("Byte out of range");let d=0;for(let f=7;f>=0;f--)d=d<<1^(d>>>7)*285,d^=(u>>>f&1)*c;return s(d>>>8==0),d}finderPenaltyCountPatterns(c){const u=c[1];s(u<=this.size*3);const d=u>0&&c[2]==u&&c[3]==u*3&&c[4]==u&&c[5]==u;return(d&&c[0]>=u*4&&c[6]>=u?1:0)+(d&&c[6]>=u*4&&c[0]>=u?1:0)}finderPenaltyTerminateAndCount(c,u,d){return c&&(this.finderPenaltyAddHistory(u,d),u=0),u+=this.size,this.finderPenaltyAddHistory(u,d),this.finderPenaltyCountPatterns(d)}finderPenaltyAddHistory(c,u){u[0]==0&&(c+=this.size),u.pop(),u.unshift(c)}};t.MIN_VERSION=1,t.MAX_VERSION=40,t.PENALTY_N1=3,t.PENALTY_N2=3,t.PENALTY_N3=40,t.PENALTY_N4=10,t.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],t.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=t;function r(l,c,u){if(c<0||c>31||l>>>c)throw new RangeError("Value out of range");for(let d=c-1;d>=0;d--)u.push(l>>>d&1)}function n(l,c){return(l>>>c&1)!=0}function s(l){if(!l)throw new Error("Assertion error")}const i=class Ae{constructor(c,u,d){if(this.mode=c,this.numChars=u,this.bitData=d,u<0)throw new RangeError("Invalid argument");this.bitData=d.slice()}static makeBytes(c){let u=[];for(const d of c)r(d,8,u);return new Ae(Ae.Mode.BYTE,c.length,u)}static makeNumeric(c){if(!Ae.isNumeric(c))throw new RangeError("String contains non-numeric characters");let u=[];for(let d=0;d<c.length;){const f=Math.min(c.length-d,3);r(parseInt(c.substring(d,d+f),10),f*3+1,u),d+=f}return new Ae(Ae.Mode.NUMERIC,c.length,u)}static makeAlphanumeric(c){if(!Ae.isAlphanumeric(c))throw new RangeError("String contains unencodable characters in alphanumeric mode");let u=[],d;for(d=0;d+2<=c.length;d+=2){let f=Ae.ALPHANUMERIC_CHARSET.indexOf(c.charAt(d))*45;f+=Ae.ALPHANUMERIC_CHARSET.indexOf(c.charAt(d+1)),r(f,11,u)}return d<c.length&&r(Ae.ALPHANUMERIC_CHARSET.indexOf(c.charAt(d)),6,u),new Ae(Ae.Mode.ALPHANUMERIC,c.length,u)}static makeSegments(c){return c==""?[]:Ae.isNumeric(c)?[Ae.makeNumeric(c)]:Ae.isAlphanumeric(c)?[Ae.makeAlphanumeric(c)]:[Ae.makeBytes(Ae.toUtf8ByteArray(c))]}static makeEci(c){let u=[];if(c<0)throw new RangeError("ECI assignment value out of range");if(c<128)r(c,8,u);else if(c<16384)r(2,2,u),r(c,14,u);else if(c<1e6)r(6,3,u),r(c,21,u);else throw new RangeError("ECI assignment value out of range");return new Ae(Ae.Mode.ECI,0,u)}static isNumeric(c){return Ae.NUMERIC_REGEX.test(c)}static isAlphanumeric(c){return Ae.ALPHANUMERIC_REGEX.test(c)}getData(){return this.bitData.slice()}static getTotalBits(c,u){let d=0;for(const f of c){const h=f.mode.numCharCountBits(u);if(f.numChars>=1<<h)return 1/0;d+=4+h+f.bitData.length}return d}static toUtf8ByteArray(c){c=encodeURI(c);let u=[];for(let d=0;d<c.length;d++)c.charAt(d)!="%"?u.push(c.charCodeAt(d)):(u.push(parseInt(c.substring(d+1,d+3),16)),d+=2);return u}};i.NUMERIC_REGEX=/^[0-9]*$/,i.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,i.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let a=i;e.QrSegment=i})(Ls||(Ls={}));(e=>{(t=>{const r=class{constructor(s,i){this.ordinal=s,this.formatBits=i}};r.LOW=new r(0,1),r.MEDIUM=new r(1,0),r.QUARTILE=new r(2,3),r.HIGH=new r(3,2),t.Ecc=r})(e.QrCode||(e.QrCode={}))})(Ls||(Ls={}));(e=>{(t=>{const r=class{constructor(s,i){this.modeBits=s,this.numBitsCharCount=i}numCharCountBits(s){return this.numBitsCharCount[Math.floor((s+7)/17)]}};r.NUMERIC=new r(1,[10,12,14]),r.ALPHANUMERIC=new r(2,[9,11,13]),r.BYTE=new r(4,[8,16,16]),r.KANJI=new r(8,[8,10,12]),r.ECI=new r(7,[0,0,0]),t.Mode=r})(e.QrSegment||(e.QrSegment={}))})(Ls||(Ls={}));var yi=Ls;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var _D={L:yi.QrCode.Ecc.LOW,M:yi.QrCode.Ecc.MEDIUM,Q:yi.QrCode.Ecc.QUARTILE,H:yi.QrCode.Ecc.HIGH},$N=128,FN="L",UN="#FFFFFF",BN="#000000",zN=!1,WN=1,ED=4,CD=0,TD=.1;function HN(e,t=0){const r=[];return e.forEach(function(n,s){let i=null;n.forEach(function(a,l){if(!a&&i!==null){r.push(`M${i+t} ${s+t}h${l-i}v1H${i+t}z`),i=null;return}if(l===n.length-1){if(!a)return;i===null?r.push(`M${l+t},${s+t} h1v1H${l+t}z`):r.push(`M${i+t},${s+t} h${l+1-i}v1H${i+t}z`);return}a&&i===null&&(i=l)})}),r.join("")}function VN(e,t){return e.slice().map((r,n)=>n<t.y||n>=t.y+t.h?r:r.map((s,i)=>i<t.x||i>=t.x+t.w?s:!1))}function PD(e,t,r,n){if(n==null)return null;const s=e.length+r*2,i=Math.floor(t*TD),a=s/t,l=(n.width||i)*a,c=(n.height||i)*a,u=n.x==null?e.length/2-l/2:n.x*a,d=n.y==null?e.length/2-c/2:n.y*a,f=n.opacity==null?1:n.opacity;let h=null;if(n.excavate){let v=Math.floor(u),p=Math.floor(d),b=Math.ceil(l+u-v),w=Math.ceil(c+d-p);h={x:v,y:p,w:b,h:w}}const g=n.crossOrigin;return{x:u,y:d,h:c,w:l,excavation:h,opacity:f,crossOrigin:g}}function RD(e,t){return t!=null?Math.max(Math.floor(t),0):e?ED:CD}function qN({value:e,level:t,minVersion:r,includeMargin:n,marginSize:s,imageSettings:i,size:a,boostLevel:l}){let c=be.useMemo(()=>{const v=(Array.isArray(e)?e:[e]).reduce((p,b)=>(p.push(...yi.QrSegment.makeSegments(b)),p),[]);return yi.QrCode.encodeSegments(v,_D[t],r,void 0,void 0,l)},[e,t,r,l]);const{cells:u,margin:d,numCells:f,calculatedImageSettings:h}=be.useMemo(()=>{let g=c.getModules();const v=RD(n,s),p=g.length+v*2,b=PD(g,a,v,i);return{cells:g,margin:v,numCells:p,calculatedImageSettings:b}},[c,a,i,n,s]);return{qrcode:c,margin:d,cells:u,numCells:f,calculatedImageSettings:h}}var OD=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),AD=be.forwardRef(function(t,r){const n=t,{value:s,size:i=$N,level:a=FN,bgColor:l=UN,fgColor:c=BN,includeMargin:u=zN,minVersion:d=WN,boostLevel:f,marginSize:h,imageSettings:g}=n,p=Rh(n,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:b}=p,w=Rh(p,["style"]),y=g==null?void 0:g.src,x=be.useRef(null),j=be.useRef(null),k=be.useCallback(C=>{x.current=C,typeof r=="function"?r(C):r&&(r.current=C)},[r]),[_,N]=be.useState(!1),{margin:E,cells:O,numCells:A,calculatedImageSettings:$}=qN({value:s,level:a,minVersion:d,boostLevel:f,includeMargin:u,marginSize:h,imageSettings:g,size:i});be.useEffect(()=>{if(x.current!=null){const C=x.current,F=C.getContext("2d");if(!F)return;let B=O;const J=j.current,T=$!=null&&J!==null&&J.complete&&J.naturalHeight!==0&&J.naturalWidth!==0;T&&$.excavation!=null&&(B=VN(O,$.excavation));const M=window.devicePixelRatio||1;C.height=C.width=i*M;const z=i/A*M;F.scale(z,z),F.fillStyle=l,F.fillRect(0,0,A,A),F.fillStyle=c,OD?F.fill(new Path2D(HN(B,E))):O.forEach(function(te,R){te.forEach(function(V,Z){V&&F.fillRect(Z+E,R+E,1,1)})}),$&&(F.globalAlpha=$.opacity),T&&F.drawImage(J,$.x+E,$.y+E,$.w,$.h)}}),be.useEffect(()=>{N(!1)},[y]);const L=Ph({height:i,width:i},b);let P=null;return y!=null&&(P=be.createElement("img",{src:y,key:y,style:{display:"none"},onLoad:()=>{N(!0)},ref:j,crossOrigin:$==null?void 0:$.crossOrigin})),be.createElement(be.Fragment,null,be.createElement("canvas",Ph({style:L,height:i,width:i,ref:k,role:"img"},w)),P)});AD.displayName="QRCodeCanvas";var KN=be.forwardRef(function(t,r){const n=t,{value:s,size:i=$N,level:a=FN,bgColor:l=UN,fgColor:c=BN,includeMargin:u=zN,minVersion:d=WN,boostLevel:f,title:h,marginSize:g,imageSettings:v}=n,p=Rh(n,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:b,cells:w,numCells:y,calculatedImageSettings:x}=qN({value:s,level:a,minVersion:d,boostLevel:f,includeMargin:u,marginSize:g,imageSettings:v,size:i});let j=w,k=null;v!=null&&x!=null&&(x.excavation!=null&&(j=VN(w,x.excavation)),k=be.createElement("image",{href:v.src,height:x.h,width:x.w,x:x.x+b,y:x.y+b,preserveAspectRatio:"none",opacity:x.opacity,crossOrigin:x.crossOrigin}));const _=HN(j,b);return be.createElement("svg",Ph({height:i,width:i,viewBox:`0 0 ${y} ${y}`,ref:r,role:"img"},p),!!h&&be.createElement("title",null,h),be.createElement("path",{fill:l,d:`M0,0 h${y}v${y}H0z`,shapeRendering:"crispEdges"}),be.createElement("path",{fill:c,d:_,shapeRendering:"crispEdges"}),k)});KN.displayName="QRCodeSVG";function dy(e){const[t,r]=e.split(":").map(Number),n=t<12?"AM":"PM";return`${t%12===0?12:t%12}:${String(r).padStart(2,"0")} ${n}`}function ID(){const[,e]=Ue(),[t,r]=m.useState(null),[n,s]=m.useState(!1),i=m.useRef(null),{toast:a}=Zr();m.useEffect(()=>{const f=sessionStorage.getItem("confirmedBooking");f?r(JSON.parse(f)):e("/")},[e]);const l=()=>{t&&(navigator.clipboard.writeText(t.bookingCode),a({title:"Copied!",description:"Booking code copied to clipboard"}))},c=async()=>{if(!(!t||!i.current)){s(!0);try{const{default:f}=await cy(async()=>{const{default:y}=await import("./html2canvas.esm-CBrSDip1.js");return{default:y}},[]),{default:h}=await cy(async()=>{const{default:y}=await import("./jspdf.es.min-iEC4KkaO.js").then(x=>x.j);return{default:y}},[]),g=await f(i.current,{scale:2,backgroundColor:"#0a0a0a",useCORS:!0}),v=g.toDataURL("image/png"),p=new h({orientation:"portrait",unit:"mm",format:"a4"}),b=p.internal.pageSize.getWidth(),w=g.height*b/g.width;p.addImage(v,"PNG",0,0,b,w),p.save(`TurfTime-Receipt-${t.bookingCode}.pdf`),a({title:"Downloaded!",description:"Receipt saved as PDF"})}catch{a({title:"Error",description:"Failed to download receipt",variant:"destructive"})}finally{s(!1)}}};if(!t)return null;const u=`${window.location.origin}/verify/${t.bookingCode}`,d=(()=>{try{return Tn(RN(t.date),"EEEE, dd MMMM yyyy")}catch{return t.date}})();return o.jsxs("div",{className:"min-h-screen bg-background pb-8",children:[o.jsxs("div",{className:"flex flex-col items-center justify-center pt-12 pb-8 px-4",children:[o.jsxs("div",{className:"relative mb-6",children:[o.jsx("div",{className:"absolute inset-0 w-28 h-28 rounded-full bg-primary/20 animate-success-pulse"}),o.jsx("div",{className:"relative w-28 h-28 rounded-full bg-primary flex items-center justify-center animate-circle-expand green-glow",children:o.jsx("svg",{className:"w-14 h-14 text-primary-foreground",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{className:"animate-draw-check",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})})]}),o.jsx("h1",{className:"text-2xl font-bold text-foreground text-center animate-fade-in",children:"Booking Confirmed!"}),o.jsx("p",{className:"text-muted-foreground text-center mt-2 animate-fade-in",children:"Your turf has been successfully booked"})]}),o.jsxs("main",{className:"px-4 space-y-6","data-testid":"section-confirmation",children:[o.jsx("div",{ref:i,children:o.jsxs(ie,{className:"p-5 animate-slide-up bg-card","data-testid":"card-booking-details",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Booking ID"}),o.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[o.jsx("span",{className:"text-lg font-bold text-primary font-mono",children:t.bookingCode}),o.jsx("button",{onClick:l,className:"p-1 rounded hover:bg-secondary",children:o.jsx(EC,{className:"w-4 h-4 text-muted-foreground"})})]})]}),o.jsxs("div",{className:"flex flex-col items-end gap-1",children:[o.jsx(zs,{size:"sm",showText:!1}),o.jsx($e,{className:"bg-primary text-black text-xs",children:"CONFIRMED"})]})]}),o.jsx(Un,{className:"my-4"}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-foreground text-lg",children:t.turfName}),o.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground text-sm mt-1",children:[o.jsx(rt,{className:"w-4 h-4 flex-shrink-0"}),o.jsx("span",{children:t.turfAddress})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 rounded-lg bg-secondary flex items-center justify-center",children:o.jsx(hr,{className:"w-5 h-5 text-foreground"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:"Date"}),o.jsx("p",{className:"font-medium text-foreground text-sm",children:d})]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 rounded-lg bg-secondary flex items-center justify-center",children:o.jsx(_t,{className:"w-5 h-5 text-foreground"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:"Time"}),o.jsxs("p",{className:"font-medium text-foreground text-sm",children:[dy(t.startTime),"  ",dy(t.endTime)]})]})]})]})]}),o.jsx(Un,{className:"my-4"}),o.jsxs("div",{className:"flex flex-col items-center py-4 space-y-3",children:[o.jsx("div",{className:"bg-white p-3 rounded-xl shadow-md",children:o.jsx(KN,{value:u,size:160,level:"H",includeMargin:!1,imageSettings:{src:"/icon.png",x:void 0,y:void 0,height:28,width:28,excavate:!0}})}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Scan at venue for check-in"})]}),o.jsx(Un,{className:"my-4"}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-foreground mb-3",children:"Payment Summary"}),o.jsxs("div",{className:"space-y-2 text-sm",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Total Amount"}),o.jsxs("span",{className:"font-medium text-foreground",children:["",t.totalAmount]})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Paid Online"}),o.jsxs("span",{className:"font-medium text-primary",children:["",t.paidAmount]})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Balance Due at Venue"}),o.jsxs("span",{className:"font-semibold text-foreground",children:["",t.balanceAmount]})]})]})]}),o.jsx("div",{className:"mt-4 pt-3 border-t border-border text-center",children:o.jsxs("p",{className:"text-xs text-muted-foreground",children:["Generated by TurfTime  ",new Date().toLocaleDateString()]})})]})}),o.jsxs("div",{className:"space-y-3 animate-slide-up",style:{animationDelay:"200ms"},children:[o.jsxs(Q,{className:"w-full green-glow",size:"lg",onClick:()=>e("/bookings"),"data-testid":"button-view-details",children:[o.jsx(hr,{className:"w-5 h-5 mr-2"}),"View Booking Details"]}),o.jsxs(Q,{variant:"outline",className:"w-full",size:"lg",onClick:()=>e("/"),"data-testid":"button-book-another",children:[o.jsx(Z0,{className:"w-5 h-5 mr-2"}),"Book Another Turf"]})]}),o.jsx("div",{className:"flex justify-center pt-2 animate-fade-in",style:{animationDelay:"300ms"},children:o.jsxs(Q,{variant:"ghost",className:"text-primary",onClick:c,disabled:n,"data-testid":"button-download-receipt",children:[o.jsx(Y0,{className:"w-4 h-4 mr-2"}),n?"Generating PDF...":"Download Receipt"]})})]})]})}function MD(){const{code:e}=Cp(),[,t]=Ue(),{data:r,isLoading:n,isError:s}=Ce({queryKey:[`/api/bookings/verify/${e}`],retry:!1});if(n)return o.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:o.jsxs("div",{className:"text-center space-y-3",children:[o.jsx("div",{className:"w-10 h-10 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto"}),o.jsx("p",{className:"text-muted-foreground",children:"Verifying booking..."})]})});if(s||!r)return o.jsxs("div",{className:"min-h-screen bg-background flex flex-col items-center justify-center px-6 text-center space-y-4",children:[o.jsx(Uc,{className:"w-20 h-20 text-destructive"}),o.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Invalid Booking"}),o.jsxs("p",{className:"text-muted-foreground",children:["No booking found with code ",o.jsx("span",{className:"font-mono font-bold text-foreground",children:e}),"."]}),o.jsx(Q,{onClick:()=>t("/"),className:"green-glow",children:"Go Home"})]});const i=(()=>{try{return Tn(RN(r.date),"EEEE, dd MMMM yyyy")}catch{return r.date}})(),a=l=>{const[c,u]=l.split(":").map(Number),d=c<12?"AM":"PM";return`${c%12===0?12:c%12}:${String(u).padStart(2,"0")} ${d}`};return o.jsxs("div",{className:"min-h-screen bg-background pb-10",children:[o.jsxs("div",{className:"bg-card border-b border-border px-4 py-4 flex items-center justify-between",children:[o.jsx(zs,{size:"sm"}),o.jsx($e,{variant:"outline",className:"text-primary border-primary",children:"Venue Check-in"})]}),o.jsxs("div",{className:"px-4 pt-6 space-y-5 max-w-md mx-auto",children:[o.jsxs("div",{className:"flex flex-col items-center py-4 space-y-2",children:[o.jsx(Cn,{className:"w-16 h-16 text-primary"}),o.jsx("h1",{className:"text-xl font-bold text-foreground",children:"Booking Verified "}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"This ticket is valid for entry"})]}),o.jsxs(ie,{className:"p-5 space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wide",children:"Booking ID"}),o.jsx("p",{className:"text-xl font-bold text-primary font-mono",children:r.bookingCode})]}),o.jsx($e,{className:r.status==="confirmed"?"bg-primary text-black":"bg-destructive",children:r.status.toUpperCase()})]}),o.jsx(Un,{}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wide",children:"Venue"}),o.jsx("p",{className:"text-lg font-bold text-foreground",children:r.turfName}),o.jsxs("div",{className:"flex items-center gap-1 text-muted-foreground text-sm",children:[o.jsx(rt,{className:"w-3.5 h-3.5"}),o.jsx("span",{children:r.turfAddress})]})]}),o.jsx(Un,{}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"w-9 h-9 rounded-lg bg-secondary flex items-center justify-center flex-shrink-0",children:o.jsx(hr,{className:"w-4 h-4 text-foreground"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:"Date"}),o.jsx("p",{className:"font-semibold text-foreground text-sm",children:i})]})]}),o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"w-9 h-9 rounded-lg bg-secondary flex items-center justify-center flex-shrink-0",children:o.jsx(_t,{className:"w-4 h-4 text-foreground"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:"Time"}),o.jsxs("p",{className:"font-semibold text-foreground text-sm",children:[a(r.startTime),"  ",a(r.endTime)]})]})]})]}),o.jsx(Un,{}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wide mb-2",children:"Payment"}),o.jsxs("div",{className:"space-y-2 text-sm",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Total Amount"}),o.jsxs("span",{className:"font-medium",children:["",r.totalAmount]})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Paid Online"}),o.jsxs("span",{className:"font-medium text-primary",children:["",r.paidAmount]})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Balance at Venue"}),o.jsxs("span",{className:"font-semibold text-foreground",children:["",r.balanceAmount]})]})]})]})]}),o.jsxs("p",{className:"text-center text-xs text-muted-foreground",children:["Verified by TurfTime  Booking #",r.bookingCode]})]})]})}function DD(){return o.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:o.jsx(ie,{className:"w-full max-w-md mx-4",children:o.jsxs(sm,{className:"pt-6",children:[o.jsxs("div",{className:"flex mb-4 gap-2",children:[o.jsx(kC,{className:"h-8 w-8 text-red-500"}),o.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),o.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}const GN=[{title:"Booking Alerts",items:[{id:"booking_confirm",icon:hr,label:"Booking Confirmed",description:"When a booking is successfully made",defaultOn:!0},{id:"booking_reminder",icon:Fp,label:"Game Reminders",description:"1 hour before your game starts",defaultOn:!0},{id:"booking_cancel",icon:NC,label:"Cancellations",description:"When a booking is cancelled",defaultOn:!0}]},{title:"Promotions",items:[{id:"promo_offers",icon:zC,label:"Offers & Deals",description:"Special discounts and promo codes",defaultOn:!1},{id:"promo_new",icon:zc,label:"New Turfs Nearby",description:"When new turfs are added in your city",defaultOn:!1}]},{title:"Channels",items:[{id:"channel_push",icon:zc,label:"Push Notifications",description:"Receive alerts on your device",defaultOn:!0},{id:"channel_email",icon:Bp,label:"Email Notifications",description:"Receive alerts via email",defaultOn:!0}]}];function LD(){const e={};return GN.forEach(t=>t.items.forEach(r=>{e[r.id]=r.defaultOn})),e}function $D(){const[,e]=Ue(),{user:t}=nt(),{toast:r}=Zr(),n=Rr(),s=(t==null?void 0:t.id)??"",{data:i,isLoading:a}=Ce({queryKey:["/api/preferences",s],queryFn:async()=>(await fetch(`/api/preferences/${s}`)).json(),enabled:!!s,staleTime:3e4}),[l,c]=m.useState(LD);m.useEffect(()=>{i!=null&&i.notifPrefs&&Object.keys(i.notifPrefs).length>0&&c(i.notifPrefs)},[i]);const u=lt({mutationFn:async f=>{await Qt("PUT",`/api/preferences/${s}`,{notifPrefs:f})},onSuccess:()=>n.invalidateQueries({queryKey:["/api/preferences",s]}),onError:()=>r({title:"Failed to save",description:"Could not save preference.",variant:"destructive"})}),d=f=>{const h={...l,[f]:!l[f]};c(h),u.mutate(h)};return o.jsxs("div",{className:"min-h-screen bg-background pb-20",children:[o.jsx("header",{className:"sticky top-0 z-40 bg-background/95 backdrop-blur-lg border-b border-border",children:o.jsxs("div",{className:"flex items-center gap-3 px-4 py-3",children:[o.jsx(Q,{size:"icon",variant:"ghost",onClick:()=>e("/profile"),children:o.jsx(Bt,{className:"w-5 h-5"})}),o.jsx("h1",{className:"text-xl font-bold text-foreground",children:"Notifications"}),(a||u.isPending)&&o.jsx(Fn,{className:"w-4 h-4 animate-spin text-muted-foreground ml-auto"})]})}),o.jsxs("main",{className:"px-4 py-6 space-y-5",children:[GN.map(f=>o.jsxs("div",{className:"space-y-2",children:[o.jsx("p",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-widest px-1",children:f.title}),o.jsx(ie,{className:"divide-y divide-border",children:f.items.map(h=>o.jsxs("div",{className:"flex items-center justify-between p-4 gap-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-9 h-9 rounded-lg bg-secondary flex items-center justify-center flex-shrink-0",children:o.jsx(h.icon,{className:"w-4 h-4 text-muted-foreground"})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-foreground text-sm",children:h.label}),o.jsx("p",{className:"text-xs text-muted-foreground",children:h.description})]})]}),o.jsx("button",{onClick:()=>d(h.id),disabled:u.isPending,className:`relative w-11 h-6 rounded-full transition-colors flex-shrink-0 disabled:opacity-60 ${l[h.id]?"bg-primary":"bg-secondary"}`,children:o.jsx("span",{className:`absolute top-0.5 left-0.5 w-5 h-5 rounded-full bg-white shadow transition-transform ${l[h.id]?"translate-x-5":"translate-x-0"}`})})]},h.id))})]},f.title)),o.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"Preferences are synced to your account across devices."})]})]})}const fy={upi:zc,card:Ei,wallet:rb},hy=[{id:"upi",label:"UPI",detail:"user@upi"},{id:"card",label:"Debit / Credit Card",detail:"**** **** **** 4242"},{id:"wallet",label:"Wallet (Paytm)",detail:"Linked wallet"}];function FD(){const[,e]=Ue(),{user:t}=nt(),{toast:r}=Zr(),n=Rr(),s=(t==null?void 0:t.id)??"",i=["/api/payment-methods",s],{data:a=[],isLoading:l}=Ce({queryKey:i,queryFn:async()=>(await fetch(`/api/payment-methods/${s}`)).json(),enabled:!!s,staleTime:3e4}),c=()=>n.invalidateQueries({queryKey:i}),u=lt({mutationFn:async g=>{const v=hy.find(p=>p.id===g);await Qt("POST",`/api/payment-methods/${s}`,{userId:s,type:v.id,label:v.label,detail:v.detail,isDefault:a.length===0})},onSuccess:()=>{c(),r({title:"Added",description:"Payment method saved."})},onError:g=>r({title:"Error",description:g.message,variant:"destructive"})}),d=lt({mutationFn:async g=>{await Qt("DELETE",`/api/payment-methods/${s}/${g}`)},onSuccess:()=>{c(),r({title:"Removed"})},onError:g=>r({title:"Error",description:g.message,variant:"destructive"})}),f=lt({mutationFn:async g=>{await Qt("PATCH",`/api/payment-methods/${s}/${g}/default`,{})},onSuccess:()=>c(),onError:g=>r({title:"Error",description:g.message,variant:"destructive"})}),h=u.isPending||d.isPending||f.isPending;return o.jsxs("div",{className:"min-h-screen bg-background pb-20",children:[o.jsx("header",{className:"sticky top-0 z-40 bg-background/95 backdrop-blur-lg border-b border-border",children:o.jsxs("div",{className:"flex items-center gap-3 px-4 py-3",children:[o.jsx(Q,{size:"icon",variant:"ghost",onClick:()=>e("/profile"),children:o.jsx(Bt,{className:"w-5 h-5"})}),o.jsx("h1",{className:"text-xl font-bold text-foreground",children:"Payment Methods"}),l&&o.jsx(Fn,{className:"w-4 h-4 animate-spin text-muted-foreground ml-auto"})]})}),o.jsxs("main",{className:"px-4 py-6 space-y-4",children:[!l&&a.length===0&&o.jsxs("div",{className:"text-center py-16 space-y-3",children:[o.jsx(Ei,{className:"w-12 h-12 text-muted-foreground mx-auto"}),o.jsx("p",{className:"text-muted-foreground",children:"No payment methods saved yet."})]}),a.length>0&&o.jsx(ie,{className:"divide-y divide-border",children:a.map(g=>{const v=fy[g.type]??Ei;return o.jsxs("div",{className:"flex items-center gap-4 p-4",children:[o.jsx("div",{className:"w-10 h-10 rounded-xl bg-secondary flex items-center justify-center flex-shrink-0",children:o.jsx(v,{className:"w-5 h-5 text-foreground"})}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("p",{className:"font-medium text-foreground text-sm",children:g.label}),g.isDefault&&o.jsx($e,{className:"bg-primary text-black text-xs px-1.5",children:"Default"})]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:g.detail})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[!g.isDefault&&o.jsx("button",{onClick:()=>f.mutate(g.id),disabled:h,className:"p-1.5 rounded-lg hover:bg-secondary transition-colors",children:o.jsx(Cn,{className:"w-4 h-4 text-muted-foreground"})}),o.jsx("button",{onClick:()=>d.mutate(g.id),disabled:h,className:"p-1.5 rounded-lg hover:bg-red-500/10 transition-colors",children:o.jsx(xu,{className:"w-4 h-4 text-red-500"})})]})]},g.id)})}),o.jsx("div",{className:"space-y-2",children:hy.filter(g=>!a.some(v=>v.type===g.id)).map(g=>{const v=fy[g.id]??Ei;return o.jsxs(Q,{variant:"outline",className:"w-full justify-start gap-3",disabled:h,onClick:()=>u.mutate(g.id),children:[o.jsx(v,{className:"w-4 h-4"}),"Add ",g.label,u.isPending&&o.jsx(Fn,{className:"w-3 h-3 animate-spin ml-auto"})]},g.id)})}),o.jsx("p",{className:"text-xs text-muted-foreground text-center px-4",children:"Your payment preferences are securely stored in your account."})]})]})}function UD(){const[,e]=Ue(),{user:t}=nt(),{toast:r}=Zr(),n=Rr(),s=(t==null?void 0:t.id)??"",i=["/api/preferences",s],{data:a,isLoading:l}=Ce({queryKey:i,queryFn:async()=>(await fetch(`/api/preferences/${s}`)).json(),enabled:!!s,staleTime:3e4}),[c,u]=m.useState(!0),[d,f]=m.useState(()=>localStorage.getItem("biometric")==="1"),[h,g]=m.useState(()=>localStorage.getItem("2fa")==="1"),[v,p]=m.useState(""),[b,w]=m.useState(!1);m.useEffect(()=>{a!=null&&a.privacyPrefs&&Object.keys(a.privacyPrefs).length>0&&u(a.privacyPrefs.showEmail??!0)},[a]);const y=lt({mutationFn:async E=>{await Qt("PUT",`/api/preferences/${s}`,{privacyPrefs:E})},onSuccess:()=>n.invalidateQueries({queryKey:i}),onError:()=>r({title:"Couldn't save preference",variant:"destructive"})}),x=()=>{const E=!d;f(E),localStorage.setItem("biometric",E?"1":"0"),r({title:E?"Biometric enabled":"Biometric disabled"})},j=()=>{const E=!h;g(E),localStorage.setItem("2fa",E?"1":"0"),r({title:E?"2FA enabled":"2FA disabled"})},k=()=>{const E=!c;u(E),y.mutate({...(a==null?void 0:a.privacyPrefs)??{},showEmail:E})},_=lt({mutationFn:async()=>{const{error:E}=await $r.auth.updateUser({password:v});if(E)throw new Error(E.message)},onSuccess:()=>{p(""),w(!1),r({title:"Password updated!",description:"Your new password is now active."})},onError:E=>r({title:"Password update failed",description:E.message,variant:"destructive"})}),N=lt({mutationFn:async()=>{await $r.auth.signOut()},onSuccess:()=>{e("/"),r({title:"Account signed out",description:"Contact support to fully delete your account.",variant:"destructive"})}});return o.jsxs("div",{className:"min-h-screen bg-background pb-20",children:[o.jsx("header",{className:"sticky top-0 z-40 bg-background/95 backdrop-blur-lg border-b border-border",children:o.jsxs("div",{className:"flex items-center gap-3 px-4 py-3",children:[o.jsx(Q,{size:"icon",variant:"ghost",onClick:()=>e("/profile"),children:o.jsx(Bt,{className:"w-5 h-5"})}),o.jsx("h1",{className:"text-xl font-bold text-foreground",children:"Privacy & Security"}),(l||y.isPending)&&o.jsx(Fn,{className:"w-4 h-4 animate-spin text-muted-foreground ml-auto"})]})}),o.jsxs("main",{className:"px-4 py-6 space-y-5",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("p",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-widest px-1",children:"Security"}),o.jsxs(ie,{className:"divide-y divide-border",children:[o.jsxs("div",{className:"flex items-center justify-between p-4 gap-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-9 h-9 rounded-lg bg-secondary flex items-center justify-center",children:o.jsx(RC,{className:"w-4 h-4 text-muted-foreground"})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-foreground text-sm",children:"Biometric Login"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Use fingerprint to sign in"})]})]}),o.jsx("button",{onClick:x,className:`relative w-11 h-6 rounded-full transition-colors flex-shrink-0 ${d?"bg-primary":"bg-secondary"}`,children:o.jsx("span",{className:`absolute top-0.5 left-0.5 w-5 h-5 rounded-full bg-white shadow transition-transform ${d?"translate-x-5":"translate-x-0"}`})})]}),o.jsxs("div",{className:"flex items-center justify-between p-4 gap-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-9 h-9 rounded-lg bg-secondary flex items-center justify-center",children:o.jsx(Bc,{className:"w-4 h-4 text-muted-foreground"})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-foreground text-sm",children:"Two-Factor Authentication"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Extra layer of account security"})]})]}),o.jsx("button",{onClick:j,className:`relative w-11 h-6 rounded-full transition-colors flex-shrink-0 ${h?"bg-primary":"bg-secondary"}`,children:o.jsx("span",{className:`absolute top-0.5 left-0.5 w-5 h-5 rounded-full bg-white shadow transition-transform ${h?"translate-x-5":"translate-x-0"}`})})]}),o.jsxs("div",{className:"p-4 space-y-3",children:[o.jsxs("button",{className:"w-full flex items-center gap-3",onClick:()=>w(E=>!E),children:[o.jsx("div",{className:"w-9 h-9 rounded-lg bg-secondary flex items-center justify-center flex-shrink-0",children:o.jsx(Bc,{className:"w-4 h-4 text-muted-foreground"})}),o.jsxs("div",{className:"text-left flex-1",children:[o.jsx("p",{className:"font-medium text-foreground text-sm",children:"Change Password"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Update your account password"})]})]}),b&&o.jsxs("div",{className:"flex gap-2 pl-12",children:[o.jsx(jt,{type:"password",placeholder:"New password (min 6 chars)",value:v,onChange:E=>p(E.target.value),className:"flex-1 bg-secondary border-0"}),o.jsx(Q,{size:"sm",className:"green-glow",disabled:v.length<6||_.isPending,onClick:()=>_.mutate(),children:_.isPending?o.jsx(Fn,{className:"w-4 h-4 animate-spin"}):"Save"})]})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("p",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-widest px-1",children:"Privacy"}),o.jsx(ie,{className:"divide-y divide-border",children:o.jsxs("div",{className:"flex items-center justify-between p-4 gap-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-9 h-9 rounded-lg bg-secondary flex items-center justify-center",children:c?o.jsx(X0,{className:"w-4 h-4 text-muted-foreground"}):o.jsx(J0,{className:"w-4 h-4 text-muted-foreground"})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-foreground text-sm",children:"Show Email on Profile"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Visible to turf owners"})]})]}),o.jsx("button",{onClick:k,disabled:y.isPending,className:`relative w-11 h-6 rounded-full transition-colors flex-shrink-0 disabled:opacity-60 ${c?"bg-primary":"bg-secondary"}`,children:o.jsx("span",{className:`absolute top-0.5 left-0.5 w-5 h-5 rounded-full bg-white shadow transition-transform ${c?"translate-x-5":"translate-x-0"}`})})]})})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("p",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-widest px-1",children:"Your Data"}),o.jsxs(ie,{className:"divide-y divide-border",children:[o.jsxs("button",{className:"w-full flex items-center gap-3 p-4 hover:bg-accent/50 transition-colors text-left",onClick:()=>r({title:"Export requested",description:"Your data export will be emailed to you."}),children:[o.jsx("div",{className:"w-9 h-9 rounded-lg bg-secondary flex items-center justify-center",children:o.jsx(Y0,{className:"w-4 h-4 text-muted-foreground"})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-foreground text-sm",children:"Export My Data"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Download all your bookings and info"})]})]}),o.jsxs("button",{className:"w-full flex items-center gap-3 p-4 hover:bg-red-500/10 transition-colors text-left",onClick:()=>N.mutate(),children:[o.jsx("div",{className:"w-9 h-9 rounded-lg bg-red-500/10 flex items-center justify-center",children:N.isPending?o.jsx(Fn,{className:"w-4 h-4 text-red-500 animate-spin"}):o.jsx(xu,{className:"w-4 h-4 text-red-500"})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-red-500 text-sm",children:"Delete Account"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Sign out and request account deletion"})]})]})]})]})]})]})}const QN=m.forwardRef(({className:e,...t},r)=>o.jsx("textarea",{className:H("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...t}));QN.displayName="Textarea";const BD=[{id:"ease",label:"Ease of Booking"},{id:"ui",label:"App Experience"},{id:"turfs",label:"Turf Quality"},{id:"support",label:"Customer Support"}];function zD(){const[,e]=Ue(),{user:t}=nt(),{toast:r}=Zr(),n=(t==null?void 0:t.id)??"",[s,i]=m.useState(0),[a,l]=m.useState(0),[c,u]=m.useState({}),[d,f]=m.useState(""),{data:h,isLoading:g}=Ce({queryKey:["/api/reviews",n],queryFn:async()=>await(await fetch(`/api/reviews/${n}`)).json()??null,enabled:!!n}),v=lt({mutationFn:async()=>{await Qt("POST","/api/reviews",{userId:n,overallStars:s,aspectRatings:c,feedback:d.trim()||null})},onError:p=>r({title:"Submit failed",description:p.message,variant:"destructive"})});if(g)return o.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:o.jsx(Fn,{className:"w-8 h-8 animate-spin text-primary"})});if(v.isSuccess||h&&h.overallStars>0){const p=v.isSuccess?s:h.overallStars;return o.jsxs("div",{className:"min-h-screen bg-background flex flex-col items-center justify-center px-6 text-center space-y-4",children:[o.jsx("div",{className:"w-20 h-20 rounded-full bg-primary flex items-center justify-center",children:o.jsx(Wr,{className:"w-10 h-10 text-black fill-black"})}),o.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Thanks for rating us!"}),o.jsx("div",{className:"flex gap-2",children:[1,2,3,4,5].map(b=>o.jsx(Wr,{className:`w-7 h-7 ${b<=p?"fill-yellow-400 text-yellow-400":"text-muted-foreground"}`},b))}),o.jsxs("p",{className:"text-muted-foreground",children:["Your ",p,"-star review is saved to your account."]}),o.jsx(Q,{className:"green-glow mt-4",onClick:()=>e("/profile"),children:"Back to Profile"})]})}return o.jsxs("div",{className:"min-h-screen bg-background pb-20",children:[o.jsx("header",{className:"sticky top-0 z-40 bg-background/95 backdrop-blur-lg border-b border-border",children:o.jsxs("div",{className:"flex items-center gap-3 px-4 py-3",children:[o.jsx(Q,{size:"icon",variant:"ghost",onClick:()=>e("/profile"),children:o.jsx(Bt,{className:"w-5 h-5"})}),o.jsx("h1",{className:"text-xl font-bold text-foreground",children:"Rate Us"})]})}),o.jsxs("main",{className:"px-4 py-8 space-y-6",children:[o.jsxs(ie,{className:"p-6 flex flex-col items-center gap-4",children:[o.jsx("p",{className:"text-lg font-semibold text-foreground",children:"How would you rate TurfTime?"}),o.jsx("div",{className:"flex gap-3",children:[1,2,3,4,5].map(p=>o.jsx("button",{onMouseEnter:()=>l(p),onMouseLeave:()=>l(0),onClick:()=>i(p),children:o.jsx(Wr,{className:`w-9 h-9 transition-colors ${p<=(a||s)?"fill-yellow-400 text-yellow-400":"text-muted-foreground"}`})},p))}),o.jsx("p",{className:"text-sm text-muted-foreground",children:s===0?"Tap a star to rate":["","Poor","Fair","Good","Very Good","Excellent!"][s]})]}),o.jsxs(ie,{className:"p-4 space-y-4",children:[o.jsx("p",{className:"font-semibold text-foreground text-sm",children:"Rate specific aspects"}),BD.map(p=>o.jsxs("div",{className:"flex items-center justify-between gap-4",children:[o.jsx("span",{className:"text-sm text-muted-foreground flex-1",children:p.label}),o.jsx("div",{className:"flex gap-1",children:[1,2,3,4,5].map(b=>o.jsx("button",{onClick:()=>u(w=>({...w,[p.id]:b})),children:o.jsx(Wr,{className:`w-5 h-5 transition-colors ${b<=(c[p.id]||0)?"fill-yellow-400 text-yellow-400":"text-muted-foreground"}`})},b))})]},p.id))]}),o.jsxs(ie,{className:"p-4 space-y-3",children:[o.jsx("p",{className:"font-semibold text-foreground text-sm",children:"Any additional feedback?"}),o.jsx(QN,{placeholder:"Tell us what you love or what we can improve...",value:d,onChange:p=>f(p.target.value),className:"min-h-[100px] resize-none bg-secondary border-0"})]}),o.jsxs(Q,{className:"w-full green-glow",size:"lg",disabled:s===0||v.isPending,onClick:()=>{if(s===0){r({title:"Please select a rating",variant:"destructive"});return}v.mutate()},children:[v.isPending?o.jsx(Fn,{className:"w-4 h-4 animate-spin mr-2"}):o.jsx(LC,{className:"w-4 h-4 mr-2"}),"Submit Feedback"]})]})]})}const WD=[{q:"How do I cancel a booking?",a:"Go to My Bookings, select the booking, and tap 'Cancel Booking'. Cancellations made 2+ hours before the slot are fully refunded."},{q:"What happens if I'm late?",a:"Your slot is held for 15 minutes. After that, the slot may be given to walk-in customers. No refund for no-shows."},{q:"Can I reschedule a booking?",a:"Yes! Open the booking from My Bookings, tap 'Reschedule', and choose a new date/time. Rescheduling is free up to 1 hour before the slot."},{q:"How does Pay at Venue work?",a:"You pay 30% online to confirm. The remaining 70% is paid directly at the turf before your game."},{q:"How do I add a turf as favourite?",a:"On any turf's booking page, tap the heart  icon in the top-right corner. Find all saved turfs under the Favorites tab."},{q:"The QR code isn't scanning  what do I do?",a:"Make sure your screen brightness is high. Show the QR code from your Booking confirmation page directly instead of a screenshot."},{q:"How is my rating calculated?",a:"Turf ratings are based on verified reviews left by users after completing a booking. New turfs show 'New' until they receive their first review."}];function HD(){const[,e]=Ue(),{toast:t}=Zr(),[r,n]=m.useState(null);return o.jsxs("div",{className:"min-h-screen bg-background pb-20",children:[o.jsx("header",{className:"sticky top-0 z-40 bg-background/95 backdrop-blur-lg border-b border-border",children:o.jsxs("div",{className:"flex items-center gap-3 px-4 py-3",children:[o.jsx(Q,{size:"icon",variant:"ghost",onClick:()=>e("/profile"),children:o.jsx(Bt,{className:"w-5 h-5"})}),o.jsx("h1",{className:"text-xl font-bold text-foreground",children:"Help & Support"})]})}),o.jsxs("main",{className:"px-4 py-6 space-y-5",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("p",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-widest px-1",children:"Contact Us"}),o.jsx("div",{className:"grid grid-cols-3 gap-3",children:[{icon:MC,label:"Live Chat",action:()=>t({title:"Live Chat",description:"Connecting you to support..."})},{icon:DC,label:"Call Us",action:()=>t({title:"Call Us",description:"+91 98765 43210"})},{icon:Bp,label:"Email",action:()=>t({title:"Email Us",description:"support@turftime.app"})}].map(s=>o.jsxs("button",{onClick:s.action,className:"bg-card border border-border rounded-xl p-4 flex flex-col items-center gap-2 hover:bg-accent/50 transition-colors",children:[o.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center",children:o.jsx(s.icon,{className:"w-5 h-5 text-primary"})}),o.jsx("span",{className:"text-xs font-medium text-foreground",children:s.label})]},s.label))})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("p",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-widest px-1",children:"Frequently Asked Questions"}),o.jsx(ie,{className:"divide-y divide-border overflow-hidden",children:WD.map((s,i)=>o.jsxs("div",{children:[o.jsxs("button",{className:"w-full flex items-center justify-between p-4 text-left hover:bg-accent/50 transition-colors gap-4",onClick:()=>n(r===i?null:i),children:[o.jsx("span",{className:"font-medium text-foreground text-sm",children:s.q}),r===i?o.jsx(Up,{className:"w-4 h-4 text-muted-foreground flex-shrink-0"}):o.jsx($n,{className:"w-4 h-4 text-muted-foreground flex-shrink-0"})]}),r===i&&o.jsx("div",{className:"px-4 pb-4",children:o.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:s.a})})]},i))})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("p",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-widest px-1",children:"Quick Links"}),o.jsx(ie,{className:"divide-y divide-border",children:[{label:"Terms of Service",sub:"Our terms and conditions"},{label:"Privacy Policy",sub:"How we handle your data"},{label:"Cancellation Policy",sub:"Refund and cancellation rules"}].map(s=>o.jsxs("button",{className:"w-full flex items-center justify-between p-4 hover:bg-accent/50 transition-colors text-left",onClick:()=>t({title:s.label,description:"Opening document..."}),children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-foreground text-sm",children:s.label}),o.jsx("p",{className:"text-xs text-muted-foreground",children:s.sub})]}),o.jsx(PC,{className:"w-4 h-4 text-muted-foreground flex-shrink-0"})]},s.label))})]}),o.jsx("p",{className:"text-center text-xs text-muted-foreground",children:"TurfTime v1.0.1  support@turftime.app"})]})]})}function VD(){const{user:e,fullName:t,signOut:r}=nt(),[,n]=Ue(),{data:s=[]}=Ce({queryKey:[`/api/owner/turfs/${e==null?void 0:e.id}`],enabled:!!(e!=null&&e.id)}),i=s.filter(c=>c.approvalStatus==="approved"),a=s.filter(c=>c.approvalStatus==="pending"),l=t?t.substring(0,2).toUpperCase():"OW";return o.jsxs("div",{className:"min-h-screen bg-background pb-6",children:[o.jsx("header",{className:"sticky top-0 z-40 bg-background/95 backdrop-blur-lg border-b border-border px-4 py-3",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:"Owner Portal"}),o.jsx("h1",{className:"text-xl font-bold text-foreground",children:"Dashboard"})]}),o.jsx(Tu,{className:"w-9 h-9",children:o.jsx(Pu,{className:"bg-primary text-black font-bold text-sm",children:l})})]})}),o.jsxs("main",{className:"px-4 pt-6 space-y-6",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsxs("h2",{className:"text-lg font-semibold text-foreground",children:["Welcome back, ",o.jsx("span",{className:"text-primary",children:t||"Owner"}),"!"]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage your turfs and bookings here."})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs(ie,{className:"p-4 space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("p",{className:"text-xs text-muted-foreground font-medium uppercase tracking-wide",children:"My Turfs"}),o.jsx(Wn,{className:"w-4 h-4 text-primary"})]}),o.jsx("p",{className:"text-3xl font-bold text-foreground",children:s.length}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:[i.length," live  ",a.length," pending"]})]}),o.jsxs(ie,{className:"p-4 space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("p",{className:"text-xs text-muted-foreground font-medium uppercase tracking-wide",children:"Revenue"}),o.jsx(WC,{className:"w-4 h-4 text-primary"})]}),o.jsx("p",{className:"text-3xl font-bold text-foreground",children:"0"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"This month"})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("h3",{className:"font-semibold text-foreground",children:"Quick Actions"}),o.jsxs("button",{onClick:()=>n("/owner/add-turf"),className:"w-full flex items-center gap-4 p-4 bg-primary rounded-xl text-left transition-opacity active:opacity-80",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-black/20 flex items-center justify-center flex-shrink-0",children:o.jsx(Q0,{className:"w-5 h-5 text-black"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"font-semibold text-black",children:"Add New Turf"}),o.jsx("p",{className:"text-xs text-black/70",children:"Submit for admin approval"})]}),o.jsx(Cr,{className:"w-5 h-5 text-black/70"})]}),o.jsxs("button",{onClick:()=>n("/owner/my-turfs"),className:"w-full flex items-center gap-4 p-4 bg-card rounded-xl border border-border text-left transition-colors hover:border-primary/40",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0",children:o.jsx(Wn,{className:"w-5 h-5 text-primary"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"font-semibold text-foreground",children:"My Turfs"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"View & manage your listings"})]}),o.jsx(Cr,{className:"w-5 h-5 text-muted-foreground"})]}),o.jsxs("button",{onClick:()=>n("/owner/bookings"),className:"w-full flex items-center gap-4 p-4 bg-card rounded-xl border border-border text-left transition-colors hover:border-primary/40",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0",children:o.jsx(sh,{className:"w-5 h-5 text-primary"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"font-semibold text-foreground",children:"Bookings"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"See who booked your turfs"})]}),o.jsx(Cr,{className:"w-5 h-5 text-muted-foreground"})]})]}),s.length>0&&o.jsxs("div",{className:"space-y-3",children:[o.jsx("h3",{className:"font-semibold text-foreground",children:"My Turfs"}),s.slice(0,3).map(c=>o.jsxs(ie,{className:"p-4 flex items-center gap-3",children:[o.jsx("img",{src:c.imageUrl,alt:c.name,className:"w-14 h-14 rounded-lg object-cover flex-shrink-0"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"font-medium text-foreground truncate",children:c.name}),o.jsx("p",{className:"text-xs text-muted-foreground truncate",children:c.location})]}),o.jsx($e,{variant:c.approvalStatus==="approved"?"default":c.approvalStatus==="rejected"?"destructive":"secondary",className:"capitalize text-xs flex-shrink-0",children:c.approvalStatus})]},c.id))]}),o.jsx(Q,{variant:"outline",onClick:r,className:"w-full",children:"Sign Out"})]})]})}const qD=["Cricket","Football","Basketball","Tennis","Badminton","Volleyball"],KD=["Parking","WiFi","Showers","Changing Room","Cafeteria","Floodlights","First Aid"],py="https://images.unsplash.com/photo-1529900748604-07564a03e7a6?w=800&h=600&fit=crop";function my(e){const[t]=e.split(":").map(Number),r=t<12?"AM":"PM";return`${t%12===0?12:t%12}:00 ${r}`}function zt(e){const[t]=e.split(":").map(Number);return{hour12:t%12===0?12:t%12,ampm:t<12?"AM":"PM"}}function zl(e,t){let r=e%12;return t==="PM"&&(r+=12),`${String(r).padStart(2,"0")}:00`}const gy=[12,1,2,3,4,5,6,7,8,9,10,11];function GD(){const{user:e}=nt(),[,t]=Ue(),r=Rr(),n=m.useRef(null),{data:s=[]}=Ce({queryKey:["/api/cities"]}),[i,a]=m.useState({name:"",city:"",location:"",address:"",pricePerHour:"",openingTime:"06:00",closingTime:"23:00",imageUrl:py}),[l,c]=m.useState(null),[u,d]=m.useState(!1),[f,h]=m.useState([]),[g,v]=m.useState([]),[p,b]=m.useState(!1),[w,y]=m.useState(""),[x,j]=m.useState(!1),[k,_]=m.useState(!1),[N,E]=m.useState(!1),O=P=>{if(!P.type.startsWith("image/")){y("Please select a valid image file.");return}if(P.size>10*1024*1024){y("Image must be under 10 MB.");return}d(!0);const C=new FileReader;C.onload=async F=>{var J;const B=(J=F.target)==null?void 0:J.result;c(B);try{const[T,M]=B.split(","),z=T.split(":")[1].split(";")[0],te=await fetch("/api/images/upload",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({data:M,mimeType:z})});if(!te.ok)throw new Error("Upload failed");const{url:R}=await te.json();a(V=>({...V,imageUrl:R}))}catch{y("Image upload failed. Please try again."),c(null)}finally{d(!1)}},C.readAsDataURL(P)},A=lt({mutationFn:async P=>(await Qt("POST","/api/owner/turfs",P)).json(),onSuccess:()=>{r.invalidateQueries({queryKey:[`/api/owner/turfs/${e==null?void 0:e.id}`]}),b(!0)},onError:P=>{try{const C=P.message.replace(/^\d+:\s*/,""),F=JSON.parse(C);y(F.error||P.message)}catch{y(P.message||"Failed to submit turf. Please try again.")}}}),$=(P,C)=>P.includes(C)?P.filter(F=>F!==C):[...P,C],L=()=>{if(!i.name||!i.city||!i.location||!i.address||!i.pricePerHour){y("Please fill in all required fields.");return}if(f.length===0){y("Select at least one sport type.");return}y(""),A.mutate({name:i.name,city:i.city,location:i.location,address:i.address,pricePerHour:parseInt(i.pricePerHour),openingTime:i.openingTime,closingTime:i.closingTime,imageUrl:i.imageUrl,sportTypes:f,amenities:g,ownerId:e==null?void 0:e.id})};return p?o.jsxs("div",{className:"min-h-screen bg-background flex flex-col items-center justify-center px-6 text-center",children:[o.jsx("div",{className:"w-20 h-20 rounded-full bg-primary/10 flex items-center justify-center mb-6",children:o.jsx(Cn,{className:"w-10 h-10 text-primary"})}),o.jsx("h2",{className:"text-2xl font-bold text-foreground mb-2",children:"Submitted!"}),o.jsx("p",{className:"text-muted-foreground text-sm mb-8 max-w-xs",children:`Your turf has been submitted for admin approval. You'll be able to see it in "My Turfs" once approved.`}),o.jsx(Q,{onClick:()=>t("/owner"),className:"w-full max-w-xs",children:"Back to Dashboard"})]}):o.jsxs("div",{className:"min-h-screen bg-background pb-8",children:[o.jsxs("header",{className:"sticky top-0 z-40 bg-background/95 backdrop-blur-lg border-b border-border px-4 py-3 flex items-center gap-3",children:[o.jsx(Q,{size:"icon",variant:"ghost",onClick:()=>t("/owner"),children:o.jsx(Bt,{className:"w-5 h-5"})}),o.jsx("h1",{className:"text-xl font-bold text-foreground",children:"Add New Turf"})]}),o.jsxs("main",{className:"px-4 pt-6 space-y-6",children:[o.jsxs(ie,{className:"p-5 space-y-4",children:[o.jsx("h2",{className:"font-semibold text-foreground",children:"Basic Information"}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"text-sm text-muted-foreground",children:"City *"}),o.jsxs(cc,{open:x,onOpenChange:j,children:[o.jsx(uc,{asChild:!0,children:o.jsxs(Q,{variant:"outline",className:"w-full h-10 justify-start gap-2 bg-background border-border text-foreground font-normal",children:[o.jsx(rt,{className:"w-4 h-4 text-primary flex-shrink-0"}),o.jsx("span",{className:`flex-1 text-left ${i.city?"":"text-muted-foreground"}`,children:i.city||"Select a city"}),o.jsx($n,{className:"w-4 h-4 text-muted-foreground flex-shrink-0"})]})}),o.jsx(ta,{className:"w-[--radix-popover-trigger-width] p-0",align:"start",children:o.jsxs(ra,{children:[o.jsx(vm,{placeholder:"Search city...",className:"h-9"}),o.jsxs(na,{className:"max-h-52",children:[o.jsx(ym,{children:"No city found."}),o.jsx(sa,{children:s.map(P=>o.jsxs(ia,{value:P,onSelect:()=>{a(C=>({...C,city:P})),j(!1)},children:[o.jsx(_i,{className:`mr-2 w-4 h-4 ${i.city===P?"opacity-100 text-primary":"opacity-0"}`}),P]},P))})]})]})})]})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"text-sm text-muted-foreground",children:"Turf Name *"}),o.jsx(jt,{placeholder:"e.g. Green Valley Cricket Ground",value:i.name,onChange:P=>a(C=>({...C,name:P.target.value})),className:"bg-background"})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"text-sm text-muted-foreground",children:"Location / Area *"}),o.jsx(jt,{placeholder:"e.g. Indiranagar, Bangalore",value:i.location,onChange:P=>a(C=>({...C,location:P.target.value})),className:"bg-background"})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"text-sm text-muted-foreground",children:"Full Address *"}),o.jsx(jt,{placeholder:"e.g. 123 Sports Complex, Indiranagar",value:i.address,onChange:P=>a(C=>({...C,address:P.target.value})),className:"bg-background"})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"text-sm text-muted-foreground",children:"Price per Hour () *"}),o.jsx(jt,{type:"number",placeholder:"e.g. 1200",value:i.pricePerHour,onChange:P=>a(C=>({...C,pricePerHour:P.target.value})),className:"bg-background"})]})]}),o.jsxs(ie,{className:"p-5 space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(_t,{className:"w-4 h-4 text-primary"}),o.jsx("h2",{className:"font-semibold text-foreground",children:"Operating Hours"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"text-sm text-muted-foreground",children:"Opening Time"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(cc,{open:k,onOpenChange:_,children:[o.jsx(uc,{asChild:!0,children:o.jsxs(Q,{variant:"outline",className:"flex-1 h-10 justify-between bg-background border-border font-semibold text-foreground",children:[zt(i.openingTime).hour12,o.jsx($n,{className:"w-4 h-4 text-muted-foreground"})]})}),o.jsx(ta,{className:"w-24 p-0",align:"start",children:o.jsx(ra,{children:o.jsx(na,{className:"max-h-48",children:o.jsx(sa,{children:gy.map(P=>o.jsxs(ia,{value:String(P),onSelect:()=>{const{ampm:C}=zt(i.openingTime);a(F=>({...F,openingTime:zl(P,C)})),_(!1)},children:[o.jsx(_i,{className:`mr-2 w-4 h-4 flex-shrink-0 ${zt(i.openingTime).hour12===P?"opacity-100 text-primary":"opacity-0"}`}),o.jsx("span",{className:zt(i.openingTime).hour12===P?"text-primary font-bold":"",children:P})]},P))})})})})]}),o.jsx("div",{className:"flex rounded-md border border-border overflow-hidden",children:["AM","PM"].map(P=>o.jsx("button",{type:"button",onClick:()=>{const{hour12:C}=zt(i.openingTime);a(F=>({...F,openingTime:zl(C,P)}))},className:`px-3 h-10 text-sm font-semibold transition-colors ${zt(i.openingTime).ampm===P?"bg-primary text-black":"bg-background text-muted-foreground hover:bg-muted"}`,children:P},P))})]})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"text-sm text-muted-foreground",children:"Closing Time"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(cc,{open:N,onOpenChange:E,children:[o.jsx(uc,{asChild:!0,children:o.jsxs(Q,{variant:"outline",className:"flex-1 h-10 justify-between bg-background border-border font-semibold text-foreground",children:[zt(i.closingTime).hour12,o.jsx($n,{className:"w-4 h-4 text-muted-foreground"})]})}),o.jsx(ta,{className:"w-24 p-0",align:"start",children:o.jsx(ra,{children:o.jsx(na,{className:"max-h-48",children:o.jsx(sa,{children:gy.map(P=>o.jsxs(ia,{value:String(P),onSelect:()=>{const{ampm:C}=zt(i.closingTime);a(F=>({...F,closingTime:zl(P,C)})),E(!1)},children:[o.jsx(_i,{className:`mr-2 w-4 h-4 flex-shrink-0 ${zt(i.closingTime).hour12===P?"opacity-100 text-primary":"opacity-0"}`}),o.jsx("span",{className:zt(i.closingTime).hour12===P?"text-primary font-bold":"",children:P})]},P))})})})})]}),o.jsx("div",{className:"flex rounded-md border border-border overflow-hidden",children:["AM","PM"].map(P=>o.jsx("button",{type:"button",onClick:()=>{const{hour12:C}=zt(i.closingTime);a(F=>({...F,closingTime:zl(C,P)}))},className:`px-3 h-10 text-sm font-semibold transition-colors ${zt(i.closingTime).ampm===P?"bg-primary text-black":"bg-background text-muted-foreground hover:bg-muted"}`,children:P},P))})]})]})]}),o.jsxs("div",{className:"flex items-center gap-2 bg-primary/5 border border-primary/20 rounded-lg px-3 py-2",children:[o.jsx(_t,{className:"w-3.5 h-3.5 text-primary flex-shrink-0"}),o.jsxs("p",{className:"text-xs text-foreground",children:["Open ",o.jsx("span",{className:"font-semibold text-primary",children:my(i.openingTime)})," to ",o.jsx("span",{className:"font-semibold text-primary",children:my(i.closingTime)})]})]})]}),o.jsxs(ie,{className:"p-5 space-y-4",children:[o.jsx("h2",{className:"font-semibold text-foreground",children:"Sport Types *"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:qD.map(P=>o.jsx("button",{onClick:()=>h(C=>$(C,P)),className:`px-4 py-2 rounded-full text-sm font-medium border transition-colors ${f.includes(P)?"bg-primary text-black border-primary":"bg-card text-muted-foreground border-border hover:border-primary/40"}`,children:P},P))})]}),o.jsxs(ie,{className:"p-5 space-y-4",children:[o.jsx("h2",{className:"font-semibold text-foreground",children:"Amenities"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:KD.map(P=>o.jsx("button",{onClick:()=>v(C=>$(C,P)),className:`px-4 py-2 rounded-full text-sm font-medium border transition-colors ${g.includes(P)?"bg-primary text-black border-primary":"bg-card text-muted-foreground border-border hover:border-primary/40"}`,children:P},P))})]}),o.jsxs(ie,{className:"p-5 space-y-3",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(OC,{className:"w-4 h-4 text-primary"}),o.jsx("h2",{className:"font-semibold text-foreground",children:"Turf Image"})]}),o.jsx("input",{ref:n,type:"file",accept:"image/*",className:"hidden",onChange:P=>{var F;const C=(F=P.target.files)==null?void 0:F[0];C&&O(C)}}),l?o.jsxs("div",{className:"relative rounded-xl overflow-hidden",children:[o.jsx("img",{src:l,alt:"Preview",className:"w-full h-44 object-cover"}),o.jsx("button",{onClick:()=>{c(null),a(P=>({...P,imageUrl:py})),n.current&&(n.current.value="")},className:"absolute top-2 right-2 w-7 h-7 bg-black/60 rounded-full flex items-center justify-center hover:bg-black/80",children:o.jsx(Za,{className:"w-4 h-4 text-white"})}),o.jsx("div",{className:"absolute bottom-2 left-2 bg-black/60 rounded-lg px-2 py-1",children:o.jsx("p",{className:"text-xs text-white",children:"Tap to change"})})]}):o.jsxs("button",{onClick:()=>{var P;return(P=n.current)==null?void 0:P.click()},className:"w-full h-36 bg-muted rounded-xl flex flex-col items-center justify-center gap-2 border-2 border-dashed border-border hover:border-primary/50 transition-colors",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center",children:o.jsx(tv,{className:"w-5 h-5 text-primary"})}),o.jsx("p",{className:"text-sm font-medium text-foreground",children:"Upload turf photo"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"JPG, PNG or WEBP  Max 5 MB"})]}),u&&o.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"Processing image..."}),o.jsxs(Q,{variant:"outline",size:"sm",className:"w-full text-xs",onClick:()=>{var P;return(P=n.current)==null?void 0:P.click()},children:[o.jsx(tv,{className:"w-3.5 h-3.5 mr-2"}),l?"Change Photo":"Choose Photo"]})]}),w&&o.jsx("p",{className:"text-destructive text-sm text-center",children:w}),o.jsx(Q,{onClick:L,disabled:A.isPending,className:"w-full h-12 text-base font-semibold",children:A.isPending?"Submitting...":"Submit for Approval"})]})]})}function QD(){const{user:e}=nt(),[,t]=Ue(),{data:r=[],isLoading:n}=Ce({queryKey:[`/api/owner/turfs/${e==null?void 0:e.id}`],enabled:!!(e!=null&&e.id)}),s=i=>i==="approved"?"default":i==="rejected"?"destructive":"secondary";return o.jsxs("div",{className:"min-h-screen bg-background pb-8",children:[o.jsxs("header",{className:"sticky top-0 z-40 bg-background/95 backdrop-blur-lg border-b border-border px-4 py-3 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Q,{size:"icon",variant:"ghost",onClick:()=>t("/owner"),children:o.jsx(Bt,{className:"w-5 h-5"})}),o.jsx("h1",{className:"text-xl font-bold text-foreground",children:"My Turfs"})]}),o.jsxs(Q,{size:"sm",onClick:()=>t("/owner/add-turf"),className:"gap-1",children:[o.jsx(Q0,{className:"w-4 h-4"})," Add"]})]}),o.jsx("main",{className:"px-4 pt-6 space-y-4",children:n?Array.from({length:3}).map((i,a)=>o.jsx(Ge,{className:"h-32 w-full rounded-xl"},a)):r.length===0?o.jsxs("div",{className:"text-center py-16 space-y-4",children:[o.jsx("div",{className:"w-16 h-16 bg-card rounded-full flex items-center justify-center mx-auto",children:o.jsx(CC,{className:"w-8 h-8 text-muted-foreground"})}),o.jsx("h3",{className:"font-semibold text-foreground",children:"No turfs yet"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Add your first turf to start receiving bookings"}),o.jsx(Q,{onClick:()=>t("/owner/add-turf"),children:"Add Your First Turf"})]}):r.map(i=>o.jsxs(ie,{className:"overflow-hidden",children:[o.jsxs("div",{className:"flex gap-3 p-4",children:[o.jsx("img",{src:i.imageUrl,alt:i.name,className:"w-20 h-20 rounded-lg object-cover flex-shrink-0"}),o.jsxs("div",{className:"flex-1 min-w-0 space-y-1",children:[o.jsxs("div",{className:"flex items-start justify-between gap-2",children:[o.jsx("h3",{className:"font-semibold text-foreground text-sm leading-tight",children:i.name}),o.jsx($e,{variant:s(i.approvalStatus),className:"capitalize text-xs flex-shrink-0",children:i.approvalStatus})]}),o.jsxs("div",{className:"flex items-center gap-1 text-muted-foreground text-xs",children:[o.jsx(rt,{className:"w-3 h-3"}),o.jsx("span",{className:"truncate",children:i.location})]}),o.jsxs("div",{className:"flex items-center gap-3 text-xs",children:[o.jsxs("span",{className:"text-primary font-semibold",children:["",i.pricePerHour,"/hr"]}),o.jsxs("div",{className:"flex items-center gap-1 text-muted-foreground",children:[o.jsx(_t,{className:"w-3 h-3"}),o.jsxs("span",{children:[i.openingTime,"  ",i.closingTime]})]})]}),o.jsx("div",{className:"flex gap-1 flex-wrap",children:i.sportTypes.map(a=>o.jsx("span",{className:"px-2 py-0.5 bg-primary/10 text-primary text-xs rounded-full",children:a},a))})]})]}),i.approvalStatus==="pending"&&o.jsx("div",{className:"px-4 pb-3",children:o.jsx("p",{className:"text-xs text-muted-foreground bg-muted/50 rounded-lg px-3 py-2",children:" Waiting for admin approval before this turf goes live."})}),i.approvalStatus==="rejected"&&o.jsx("div",{className:"px-4 pb-3",children:o.jsx("p",{className:"text-xs text-destructive bg-destructive/10 rounded-lg px-3 py-2",children:" This turf was rejected. Please contact support or resubmit."})})]},i.id))})]})}function YD(){const{user:e}=nt(),[,t]=Ue(),{data:r=[]}=Ce({queryKey:[`/api/owner/turfs/${e==null?void 0:e.id}`],enabled:!!(e!=null&&e.id)}),n=r.filter(l=>l.approvalStatus==="approved");n.map(l=>({turfId:l.id,turfName:l.name}));const{data:s=[],isLoading:i}=Ce({queryKey:["/api/bookings"]}),a=s.filter(l=>n.some(c=>c.id===l.turfId));return o.jsxs("div",{className:"min-h-screen bg-background pb-8",children:[o.jsxs("header",{className:"sticky top-0 z-40 bg-background/95 backdrop-blur-lg border-b border-border px-4 py-3 flex items-center gap-3",children:[o.jsx(Q,{size:"icon",variant:"ghost",onClick:()=>t("/owner"),children:o.jsx(Bt,{className:"w-5 h-5"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-xl font-bold text-foreground",children:"Turf Bookings"}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:[a.length," total bookings"]})]})]}),o.jsx("main",{className:"px-4 pt-6 space-y-4",children:i?Array.from({length:4}).map((l,c)=>o.jsx(Ge,{className:"h-24 w-full rounded-xl"},c)):a.length===0?o.jsxs("div",{className:"text-center py-16 space-y-3",children:[o.jsx("div",{className:"w-16 h-16 bg-card rounded-full flex items-center justify-center mx-auto",children:o.jsx(hr,{className:"w-8 h-8 text-muted-foreground"})}),o.jsx("h3",{className:"font-semibold text-foreground",children:"No bookings yet"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:n.length===0?"Get your turfs approved first to start receiving bookings":"Bookings will appear here once players book your turfs"})]}):a.map(l=>(n.find(c=>c.id===l.turfId),o.jsxs(ie,{className:"p-4 space-y-3",children:[o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold text-foreground",children:l.turfName}),o.jsxs("p",{className:"text-xs text-muted-foreground font-mono",children:["#",l.bookingCode]})]}),o.jsxs("span",{className:"text-primary font-bold text-sm",children:["",l.totalAmount]})]}),o.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(hr,{className:"w-3.5 h-3.5"}),o.jsx("span",{children:l.date})]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(_t,{className:"w-3.5 h-3.5"}),o.jsxs("span",{children:[l.startTime,"  ",l.endTime]})]})]}),o.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[o.jsx(rt,{className:"w-3 h-3"}),o.jsx("span",{className:"truncate",children:l.turfAddress})]})]},l.id)))})]})}function JD(){const{signOut:e,fullName:t}=nt(),[,r]=Ue(),{data:n=[]}=Ce({queryKey:["/api/admin/turfs/pending"]}),{data:s=[]}=Ce({queryKey:["/api/admin/turfs"]}),{data:i=[]}=Ce({queryKey:["/api/admin/bookings"]}),a=s.filter(l=>l.approvalStatus==="approved");return o.jsxs("div",{className:"min-h-screen bg-background pb-8",children:[o.jsx("header",{className:"sticky top-0 z-40 bg-background/95 backdrop-blur-lg border-b border-border px-4 py-3",children:o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-8 h-8 rounded-full bg-primary flex items-center justify-center",children:o.jsx(UC,{className:"w-4 h-4 text-black"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:"Admin Panel"}),o.jsx("h1",{className:"text-xl font-bold text-foreground",children:"Dashboard"})]})]})})}),o.jsxs("main",{className:"px-4 pt-6 space-y-6",children:[o.jsxs("div",{children:[o.jsxs("h2",{className:"text-lg font-semibold text-foreground",children:["Welcome, ",o.jsx("span",{className:"text-primary",children:t||"Admin"})]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage turfs and bookings across the platform."})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs(ie,{className:"p-4 space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wide",children:"Total Turfs"}),o.jsx(Wn,{className:"w-4 h-4 text-primary"})]}),o.jsx("p",{className:"text-3xl font-bold text-foreground",children:a.length}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:[a.length," live"]})]}),o.jsxs(ie,{className:"p-4 space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wide",children:"Bookings"}),o.jsx(sh,{className:"w-4 h-4 text-primary"})]}),o.jsx("p",{className:"text-3xl font-bold text-foreground",children:i.length}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"All time"})]})]}),n.length>0&&o.jsxs("button",{onClick:()=>r("/admin/approvals"),className:"w-full flex items-center gap-3 p-4 bg-primary/10 border border-primary/30 rounded-xl text-left",children:[o.jsx("div",{className:"w-10 h-10 bg-primary rounded-full flex items-center justify-center flex-shrink-0",children:o.jsx(_t,{className:"w-5 h-5 text-black"})}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("p",{className:"font-semibold text-primary",children:[n.length," Turf",n.length>1?"s":""," Pending Approval"]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Review and approve or reject"})]}),o.jsx($e,{className:"bg-primary text-black",children:n.length})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("h3",{className:"font-semibold text-foreground",children:"Admin Actions"}),o.jsxs("button",{onClick:()=>r("/admin/approvals"),className:"w-full flex items-center gap-4 p-4 bg-card border border-border rounded-xl text-left hover:border-primary/40 transition-colors",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0",children:o.jsx(Wn,{className:"w-5 h-5 text-primary"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"font-semibold text-foreground",children:"Pending Approvals"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Review turf applications"})]}),n.length>0&&o.jsx($e,{className:"bg-primary text-black mr-1",children:n.length}),o.jsx(Cr,{className:"w-5 h-5 text-muted-foreground"})]}),o.jsxs("button",{onClick:()=>r("/admin/bookings"),className:"w-full flex items-center gap-4 p-4 bg-card border border-border rounded-xl text-left hover:border-primary/40 transition-colors",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0",children:o.jsx(sh,{className:"w-5 h-5 text-primary"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"font-semibold text-foreground",children:"All Bookings"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"View all platform bookings"})]}),o.jsx(Cr,{className:"w-5 h-5 text-muted-foreground"})]}),o.jsxs("button",{onClick:()=>r("/admin/cities"),className:"w-full flex items-center gap-4 p-4 bg-card border border-border rounded-xl text-left hover:border-primary/40 transition-colors",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0",children:o.jsx(rt,{className:"w-5 h-5 text-primary"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"font-semibold text-foreground",children:"Manage Cities"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Add or remove cities for owners"})]}),o.jsx(Cr,{className:"w-5 h-5 text-muted-foreground"})]})]}),o.jsx(Q,{variant:"outline",onClick:e,className:"w-full",children:"Sign Out"})]})]})}function XD(){const[,e]=Ue(),t=Rr(),{toast:r}=Zr(),{data:n=[],isLoading:s}=Ce({queryKey:["/api/admin/owners/pending"]}),{data:i=[],isLoading:a}=Ce({queryKey:["/api/admin/turfs/pending"]}),l=lt({mutationFn:async h=>(await Qt("PATCH","/api/admin/owners/"+h+"/approve",{})).json(),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/admin/owners/pending"]}),r({title:"Owner Approved",description:"The turf owner can now manage their listings."})},onError:()=>r({title:"Error",description:"Failed to approve owner.",variant:"destructive"})}),c=lt({mutationFn:async h=>(await Qt("PATCH","/api/admin/owners/"+h+"/reject",{})).json(),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/admin/owners/pending"]}),r({title:"Owner Rejected",description:"The application has been declined."})},onError:()=>r({title:"Error",description:"Failed to reject owner.",variant:"destructive"})}),u=lt({mutationFn:async h=>(await Qt("PATCH","/api/admin/turfs/"+h+"/approve",{})).json(),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/admin/turfs/pending"]}),t.invalidateQueries({queryKey:["/api/admin/turfs"]}),t.invalidateQueries({queryKey:["/api/turfs"]}),r({title:"Turf Approved",description:"The turf is now live for bookings."})},onError:()=>r({title:"Error",description:"Failed to approve turf.",variant:"destructive"})}),d=lt({mutationFn:async h=>(await Qt("PATCH","/api/admin/turfs/"+h+"/reject",{})).json(),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/admin/turfs/pending"]}),t.invalidateQueries({queryKey:["/api/admin/turfs"]}),r({title:"Turf Rejected",description:"The owner has been notified."})},onError:()=>r({title:"Error",description:"Failed to reject turf.",variant:"destructive"})}),f=n.length+i.length;return o.jsxs("div",{className:"min-h-screen bg-background pb-8",children:[o.jsxs("header",{className:"sticky top-0 z-40 bg-background/95 backdrop-blur-lg border-b border-border px-4 py-3 flex items-center gap-3",children:[o.jsx(Q,{size:"icon",variant:"ghost",onClick:()=>e("/admin"),children:o.jsx(Bt,{className:"w-5 h-5"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-xl font-bold text-foreground",children:"Pending Approvals"}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:[f," awaiting review"]})]})]}),o.jsx("main",{className:"px-4 pt-4",children:o.jsxs(Fj,{defaultValue:"owners",children:[o.jsxs(jm,{className:"w-full mb-4",children:[o.jsxs(Ma,{value:"owners",className:"flex-1 gap-2",children:[o.jsx(zp,{className:"w-4 h-4"}),"Owner Accounts",n.length>0&&o.jsx($e,{className:"ml-1 bg-primary text-black text-xs h-4 px-1.5",children:n.length})]}),o.jsxs(Ma,{value:"turfs",className:"flex-1 gap-2",children:[o.jsx(Wn,{className:"w-4 h-4"}),"Turf Listings",i.length>0&&o.jsx($e,{className:"ml-1 bg-primary text-black text-xs h-4 px-1.5",children:i.length})]})]}),o.jsx(Da,{value:"owners",className:"space-y-3 mt-0",children:s?Array.from({length:2}).map((h,g)=>o.jsx(Ge,{className:"h-28 w-full rounded-xl"},g)):n.length===0?o.jsxs("div",{className:"text-center py-16 space-y-3",children:[o.jsx("div",{className:"w-16 h-16 bg-card rounded-full flex items-center justify-center mx-auto",children:o.jsx(Cn,{className:"w-8 h-8 text-primary"})}),o.jsx("h3",{className:"font-semibold text-foreground",children:"All clear!"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"No owner accounts pending approval."})]}):n.map(h=>o.jsxs(ie,{className:"p-4 space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0",children:o.jsx(Wn,{className:"w-6 h-6 text-primary"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"font-semibold text-foreground truncate",children:h.fullName||"Unknown User"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Turf Owner Application"})]}),o.jsx($e,{className:"bg-yellow-500/20 text-yellow-500 border-yellow-500/30",children:"Pending"})]}),o.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground bg-muted/30 rounded-lg px-3 py-2",children:[o.jsx(_t,{className:"w-3.5 h-3.5 flex-shrink-0"}),o.jsx("span",{children:"Wants to list and manage turfs on TurfTime"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs(Q,{variant:"outline",className:"border-destructive text-destructive hover:bg-destructive/10",onClick:()=>c.mutate(h.username),disabled:c.isPending||l.isPending,children:[o.jsx(Uc,{className:"w-4 h-4 mr-2"})," Reject"]}),o.jsxs(Q,{onClick:()=>l.mutate(h.username),disabled:l.isPending||c.isPending,className:"gap-2",children:[o.jsx(Cn,{className:"w-4 h-4"})," Approve"]})]})]},h.id))}),o.jsx(Da,{value:"turfs",className:"space-y-4 mt-0",children:a?Array.from({length:2}).map((h,g)=>o.jsx(Ge,{className:"h-48 w-full rounded-xl"},g)):i.length===0?o.jsxs("div",{className:"text-center py-16 space-y-3",children:[o.jsx("div",{className:"w-16 h-16 bg-card rounded-full flex items-center justify-center mx-auto",children:o.jsx(Cn,{className:"w-8 h-8 text-primary"})}),o.jsx("h3",{className:"font-semibold text-foreground",children:"All clear!"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"No turf listings pending approval."})]}):i.map(h=>o.jsxs(ie,{className:"overflow-hidden",children:[o.jsxs("div",{className:"relative h-40",children:[o.jsx("img",{src:h.imageUrl,alt:h.name,className:"w-full h-full object-cover"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 to-transparent"}),o.jsxs("div",{className:"absolute bottom-3 left-3 right-3",children:[o.jsx("h3",{className:"font-bold text-white text-base",children:h.name}),o.jsxs("div",{className:"flex items-center gap-1 text-white/80 text-xs",children:[o.jsx(rt,{className:"w-3 h-3"}),o.jsx("span",{children:h.location})]})]}),o.jsx($e,{className:"absolute top-3 right-3 bg-yellow-500/90 text-black",children:"Pending"})]}),o.jsxs("div",{className:"p-4 space-y-3",children:[o.jsxs("div",{className:"grid grid-cols-3 gap-3 text-center",children:[o.jsxs("div",{className:"bg-muted/50 rounded-lg py-2",children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:"Price"}),o.jsxs("p",{className:"font-bold text-primary text-sm",children:["Rs.",h.pricePerHour,"/hr"]})]}),o.jsxs("div",{className:"bg-muted/50 rounded-lg py-2",children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:"Hours"}),o.jsxs("p",{className:"font-bold text-foreground text-sm",children:[h.openingTime,"-",h.closingTime?h.closingTime.substring(0,5):""]})]}),o.jsxs("div",{className:"bg-muted/50 rounded-lg py-2",children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:"Sports"}),o.jsx("p",{className:"font-bold text-foreground text-sm",children:h.sportTypes.length})]})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:"Address"}),o.jsx("p",{className:"text-sm text-foreground",children:h.address})]}),o.jsxs("div",{className:"flex flex-wrap gap-1",children:[h.sportTypes.map(g=>o.jsx("span",{className:"px-2 py-0.5 bg-primary/10 text-primary text-xs rounded-full",children:g},g)),h.amenities.map(g=>o.jsx("span",{className:"px-2 py-0.5 bg-muted text-muted-foreground text-xs rounded-full",children:g},g))]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3 pt-1",children:[o.jsxs(Q,{variant:"outline",className:"border-destructive text-destructive hover:bg-destructive/10",onClick:()=>d.mutate(h.id),disabled:d.isPending||u.isPending,children:[o.jsx(Uc,{className:"w-4 h-4 mr-2"})," Reject"]}),o.jsxs(Q,{onClick:()=>u.mutate(h.id),disabled:u.isPending||d.isPending,className:"gap-2",children:[o.jsx(Cn,{className:"w-4 h-4"})," Approve"]})]})]})]},h.id))})]})})]})}function ZD(){const[,e]=Ue(),{data:t=[],isLoading:r}=Ce({queryKey:["/api/admin/bookings"]});return o.jsxs("div",{className:"min-h-screen bg-background pb-8",children:[o.jsxs("header",{className:"sticky top-0 z-40 bg-background/95 backdrop-blur-lg border-b border-border px-4 py-3 flex items-center gap-3",children:[o.jsx(Q,{size:"icon",variant:"ghost",onClick:()=>e("/admin"),children:o.jsx(Bt,{className:"w-5 h-5"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-xl font-bold text-foreground",children:"All Bookings"}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:[t.length," total"]})]})]}),o.jsx("main",{className:"px-4 pt-6 space-y-3",children:r?Array.from({length:5}).map((n,s)=>o.jsx(Ge,{className:"h-24 w-full rounded-xl"},s)):t.length===0?o.jsxs("div",{className:"text-center py-16 space-y-3",children:[o.jsx("div",{className:"w-16 h-16 bg-card rounded-full flex items-center justify-center mx-auto",children:o.jsx(hr,{className:"w-8 h-8 text-muted-foreground"})}),o.jsx("h3",{className:"font-semibold text-foreground",children:"No bookings yet"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Bookings will appear here once users start booking turfs."})]}):t.map(n=>o.jsxs(ie,{className:"p-4 space-y-3",children:[o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold text-foreground",children:n.turfName}),o.jsxs("p",{className:"text-xs text-muted-foreground font-mono",children:["#",n.bookingCode]})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("p",{className:"text-primary font-bold",children:["",n.totalAmount]}),o.jsx($e,{variant:n.status==="confirmed"?"default":"secondary",className:"text-xs capitalize",children:n.status})]})]}),o.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(hr,{className:"w-3.5 h-3.5"}),o.jsx("span",{children:n.date})]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(_t,{className:"w-3.5 h-3.5"}),o.jsxs("span",{children:[n.startTime,"  ",n.endTime]})]})]}),o.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[o.jsx(rt,{className:"w-3 h-3"}),o.jsx("span",{className:"truncate",children:n.turfAddress})]}),o.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground pt-1 border-t border-border",children:[o.jsxs("span",{children:["Paid: ",o.jsxs("span",{className:"text-primary",children:["",n.paidAmount]})]}),o.jsxs("span",{children:["Balance: ",o.jsxs("span",{className:"text-foreground",children:["",n.balanceAmount]})]}),o.jsxs("span",{children:["Method: ",o.jsx("span",{className:"text-foreground capitalize",children:n.paymentMethod})]})]})]},n.id))})]})}function e3(){const[,e]=Ue(),t=Rr(),{toast:r}=Zr(),[n,s]=m.useState(""),{data:i=[],isLoading:a}=Ce({queryKey:["/api/cities"]}),l=lt({mutationFn:async d=>{const f=await fetch("/api/admin/cities",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({city:d})});if(!f.ok)throw new Error("Failed");return f.json()},onSuccess:()=>{t.invalidateQueries({queryKey:["/api/cities"]}),s(""),r({title:"City Added",description:`${n} is now available for owners.`})},onError:()=>r({title:"Error",description:"Failed to add city.",variant:"destructive"})}),c=lt({mutationFn:async d=>{const f=await fetch(`/api/admin/cities/${encodeURIComponent(d)}`,{method:"DELETE"});if(!f.ok)throw new Error("Failed");return f.json()},onSuccess:(d,f)=>{t.invalidateQueries({queryKey:["/api/cities"]}),r({title:"City Removed",description:`${f} removed from the list.`})},onError:()=>r({title:"Error",description:"Failed to remove city.",variant:"destructive"})}),u=()=>{const d=n.trim();if(d){if(i.some(f=>f.toLowerCase()===d.toLowerCase())){r({title:"Already exists",description:"This city is already in the list.",variant:"destructive"});return}l.mutate(d)}};return o.jsxs("div",{className:"min-h-screen bg-background pb-8",children:[o.jsxs("header",{className:"sticky top-0 z-40 bg-background/95 backdrop-blur-lg border-b border-border px-4 py-3 flex items-center gap-3",children:[o.jsx(Q,{size:"icon",variant:"ghost",onClick:()=>e("/admin"),children:o.jsx(Bt,{className:"w-5 h-5"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-xl font-bold text-foreground",children:"Manage Cities"}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:[i.length," cities available"]})]})]}),o.jsxs("main",{className:"px-4 pt-6 space-y-5",children:[o.jsxs(ie,{className:"p-4 space-y-3",children:[o.jsx("p",{className:"text-sm font-medium text-foreground",children:"Add a New City"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(jt,{placeholder:"e.g. Nandyal, Kurnool...",value:n,onChange:d=>s(d.target.value),onKeyDown:d=>d.key==="Enter"&&u(),className:"bg-background flex-1"}),o.jsxs(Q,{onClick:u,disabled:l.isPending||!n.trim(),className:"gap-2 px-5",children:[o.jsx(eb,{className:"w-4 h-4"}),"Add"]})]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Cities added here will instantly appear in the owner's turf creation form and all city pickers."})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("p",{className:"text-sm font-medium text-foreground",children:"Current Cities"}),a?Array.from({length:5}).map((d,f)=>o.jsx(Ge,{className:"h-12 w-full rounded-xl"},f)):i.length===0?o.jsx("div",{className:"text-center py-10 text-muted-foreground text-sm",children:"No cities yet. Add one above."}):o.jsx("div",{className:"space-y-2",children:i.map(d=>o.jsxs("div",{className:"flex items-center gap-3 p-3 bg-card border border-border rounded-xl",children:[o.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0",children:o.jsx(rt,{className:"w-4 h-4 text-primary"})}),o.jsx("span",{className:"flex-1 font-medium text-foreground text-sm",children:d}),o.jsx(Q,{size:"icon",variant:"ghost",className:"text-muted-foreground hover:text-destructive hover:bg-destructive/10 h-8 w-8",onClick:()=>c.mutate(d),disabled:c.isPending,children:o.jsx(xu,{className:"w-4 h-4"})})]},d))})]})]})]})}class t3 extends m.Component{constructor(t){super(t),this.state={hasError:!1}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}render(){return this.state.hasError?o.jsxs("div",{className:"min-h-screen bg-background flex flex-col items-center justify-center gap-4 px-6 text-center",children:[o.jsx("div",{className:"w-16 h-16 rounded-full bg-destructive/10 flex items-center justify-center text-3xl",children:""}),o.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"Something went wrong"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Please check your internet connection and try again."}),o.jsx("button",{className:"mt-2 px-6 py-2 rounded-xl bg-primary text-black font-semibold text-sm",onClick:()=>{this.setState({hasError:!1}),window.location.reload()},children:"Reload"})]}):this.props.children}}function r3(){return o.jsxs(X_,{children:[o.jsx(Te,{path:"/",component:UI}),o.jsx(Te,{path:"/search",component:KI}),o.jsx(Te,{path:"/bookings",component:u4}),o.jsx(Te,{path:"/favorites",component:f4}),o.jsx(Te,{path:"/profile",component:p4}),o.jsx(Te,{path:"/booking/:id",component:vD}),o.jsx(Te,{path:"/payment",component:jD}),o.jsx(Te,{path:"/confirmation",component:ID}),o.jsx(Te,{path:"/verify/:code",component:MD}),o.jsx(Te,{path:"/profile/notifications",component:$D}),o.jsx(Te,{path:"/profile/payment-methods",component:FD}),o.jsx(Te,{path:"/profile/privacy-security",component:UD}),o.jsx(Te,{path:"/profile/rate-us",component:zD}),o.jsx(Te,{path:"/profile/help-support",component:HD}),o.jsx(Te,{path:"/owner",children:()=>o.jsx(on,{requireRole:"owner",children:o.jsx(VD,{})})}),o.jsx(Te,{path:"/owner/add-turf",children:()=>o.jsx(on,{requireRole:"owner",children:o.jsx(GD,{})})}),o.jsx(Te,{path:"/owner/my-turfs",children:()=>o.jsx(on,{requireRole:"owner",children:o.jsx(QD,{})})}),o.jsx(Te,{path:"/owner/bookings",children:()=>o.jsx(on,{requireRole:"owner",children:o.jsx(YD,{})})}),o.jsx(Te,{path:"/admin",children:()=>o.jsx(on,{requireRole:"admin",children:o.jsx(JD,{})})}),o.jsx(Te,{path:"/admin/approvals",children:()=>o.jsx(on,{requireRole:"admin",children:o.jsx(XD,{})})}),o.jsx(Te,{path:"/admin/bookings",children:()=>o.jsx(on,{requireRole:"admin",children:o.jsx(ZD,{})})}),o.jsx(Te,{path:"/admin/cities",children:()=>o.jsx(on,{requireRole:"admin",children:o.jsx(e3,{})})}),o.jsx(Te,{component:DD})]})}function n3(){const[e,t]=Ue(),{userRole:r,ownerStatus:n,user:s,loading:i,profileComplete:a}=nt(),[l,c]=m.useState("login"),u=e.startsWith("/owner"),d=e.startsWith("/admin"),f=e.startsWith("/booking/")||e==="/payment"||e==="/confirmation";if(m.useEffect(()=>{!i&&s&&a&&(r==="admin"&&!d?t("/admin"):r==="owner"&&n==="approved"&&!u&&t("/owner"))},[i,s,a,r,n]),i)return o.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:o.jsxs("div",{className:"flex flex-col items-center gap-4",children:[o.jsx("div",{className:"w-10 h-10 rounded-full border-2 border-primary border-t-transparent animate-spin"}),o.jsx("p",{className:"text-muted-foreground text-sm",children:"Loading..."})]})});if(!s)return o.jsx(f1,{mode:l,onToggleMode:()=>c(g=>g==="login"?"register":"login")});if(!a)return o.jsx(h1,{});if(r==="owner"&&(n==="pending"||n==="rejected"))return o.jsx(p1,{});const h=!u&&!d&&!f;return o.jsxs("div",{className:"max-w-lg mx-auto min-h-screen bg-background",children:[o.jsx(r3,{}),h&&o.jsx(rP,{})]})}function s3(){return o.jsx(t3,{children:o.jsx(xE,{client:kE,children:o.jsx(MO,{children:o.jsxs(ZT,{children:[o.jsx(n3,{}),o.jsx(E2,{})]})})})})}const i3="https://turf-production-66ec.up.railway.app",vy=window.fetch.bind(window);window.fetch=(e,t)=>typeof e=="string"&&e.startsWith("/api/")?vy(`${i3}${e}`,t):vy(e,t);Ww(document.getElementById("root")).render(o.jsx(s3,{}));export{cy as _,a3 as c,Ty as g};
